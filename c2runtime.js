// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,ma,na,oa,C,qa,sa,ta,va,wa,xa,ya,P,za,Aa,Ba,Ca,Fa,T,Ga,Ha,Ja,Ka,La,Ma,Na,Oa,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec={},fc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(a,c,g,f){this.set(a,c,g,f)}function k(){this.Qb=this.Pb=this.Sb=this.Rb=this.ec=this.cc=this.wb=this.ub=0}function h(a,c,g,f){a<c?g<f?(E=a<g?a:g,n=c>f?c:f):(E=a<f?a:f,n=c>g?c:g):g<f?(E=c<g?c:g,n=a>f?a:f):(E=c<f?c:f,n=a>g?a:g)}function p(){this.items=this.Ed=null;this.sh=0;D&&(this.Ed=new Set);this.Eg=[];this.qe=!0}function t(a){B[U++]=a}function r(){this.Y=this.sk=this.y=this.Vk=0}function b(a){this.$a=[];this.si=this.vi=this.wi=this.ti=0;this.$h(a)}function a(a,c){this.Zk=
a;this.Yk=c;this.cells={}}function e(a,c){this.Zk=a;this.Yk=c;this.cells={}}function u(a,c,g){var f;return W.length?(f=W.pop(),f.Hl=a,f.x=c,f.y=g,f):new aa(a,c,g)}function c(a,c,g){this.Hl=a;this.x=c;this.y=g;this.jb=new ba}function f(a,c,g){var f;return y.length?(f=y.pop(),f.Hl=a,f.x=c,f.y=g,f):new ca(a,c,g)}function q(a,c,g){this.Hl=a;this.x=c;this.y=g;this.jb=[];this.Yf=!0;this.Cd=new ba;this.Ig=!1}function l(a,c){return a.pd-c.pd}da=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ga=function(a){return"number"===typeof a};ha=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};ka=function(a){return 0>a?-a:a};ma=function(a,c){return a>c?a:c};na=function(a,c){return a<c?a:c};oa=Math.PI;C=function(a){return 0<=a?a|0:(a|0)-1};qa=function(a){var c=a|0;return c===a?c:c+1};
sa=function(a,c,g,f,e,m,x,A){var F,l,u,b;a<g?(l=a,F=g):(l=g,F=a);e<x?(b=e,u=x):(b=x,u=e);if(F<b||l>u)return!1;c<f?(l=c,F=f):(l=f,F=c);m<A?(b=m,u=A):(b=A,u=m);if(F<b||l>u)return!1;F=e-a+x-g;l=m-c+A-f;a=g-a;c=f-c;e=x-e;m=A-m;A=ka(c*e-m*a);return ka(e*l-m*F)>A?!1:ka(a*l-c*F)<=A};d.prototype.set=function(a,c,g,f){this.left=a;this.top=c;this.right=g;this.bottom=f};d.prototype.Ng=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};d.prototype.width=function(){return this.right-
this.left};d.prototype.height=function(){return this.bottom-this.top};d.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};d.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};d.prototype.uu=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};d.prototype.vu=function(a,c,g){return!(a.right+
c<this.left||a.bottom+g<this.top||a.left+c>this.right||a.top+g>this.bottom)};d.prototype.Gb=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};d.prototype.Sg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};ta=d;k.prototype.wg=function(a){this.ub=a.left;this.wb=a.top;this.cc=a.right;this.ec=a.top;this.Rb=a.right;this.Sb=a.bottom;this.Pb=a.left;this.Qb=a.bottom};k.prototype.rq=function(a,c){if(0===c)this.wg(a);else{var g=
Math.sin(c),f=Math.cos(c),e=a.left*g,m=a.top*g,x=a.right*g,g=a.bottom*g,A=a.left*f,l=a.top*f,u=a.right*f,f=a.bottom*f;this.ub=A-m;this.wb=l+e;this.cc=u-m;this.ec=l+x;this.Rb=u-g;this.Sb=f+x;this.Pb=A-g;this.Qb=f+e}};k.prototype.offset=function(a,c){this.ub+=a;this.wb+=c;this.cc+=a;this.ec+=c;this.Rb+=a;this.Sb+=c;this.Pb+=a;this.Qb+=c;return this};var E=0,n=0;k.prototype.$n=function(a){h(this.ub,this.cc,this.Rb,this.Pb);a.left=E;a.right=n;h(this.wb,this.ec,this.Sb,this.Qb);a.top=E;a.bottom=n};k.prototype.Gb=
function(a,c){var g=this.ub,f=this.wb,e=this.cc-g,m=this.ec-f,x=this.Rb-g,A=this.Sb-f,l=a-g,u=c-f,b=e*e+m*m,n=e*x+m*A,m=e*l+m*u,q=x*x+A*A,d=x*l+A*u,v=1/(b*q-n*n),e=(q*m-n*d)*v,b=(b*d-n*m)*v;if(0<=e&&0<b&&1>e+b)return!0;e=this.Pb-g;m=this.Qb-f;b=e*e+m*m;n=e*x+m*A;m=e*l+m*u;v=1/(b*q-n*n);e=(q*m-n*d)*v;b=(b*d-n*m)*v;return 0<=e&&0<b&&1>e+b};k.prototype.pe=function(a,c){if(c)switch(a){case 0:return this.ub;case 1:return this.cc;case 2:return this.Rb;case 3:return this.Pb;case 4:return this.ub;default:return this.ub}else switch(a){case 0:return this.wb;
case 1:return this.ec;case 2:return this.Sb;case 3:return this.Qb;case 4:return this.wb;default:return this.wb}};k.prototype.vp=function(){return(this.ub+this.cc+this.Rb+this.Pb)/4};k.prototype.wp=function(){return(this.wb+this.ec+this.Sb+this.Qb)/4};k.prototype.Oo=function(a){var c=a.vp(),g=a.wp();if(this.Gb(c,g))return!0;c=this.vp();g=this.wp();if(a.Gb(c,g))return!0;var f,e,m,x,A,l,b,u;for(b=0;4>b;b++)for(u=0;4>u;u++)if(c=this.pe(b,!0),g=this.pe(b,!1),f=this.pe(b+1,!0),e=this.pe(b+1,!1),m=a.pe(u,
!0),x=a.pe(u,!1),A=a.pe(u+1,!0),l=a.pe(u+1,!1),sa(c,g,f,e,m,x,A,l))return!0;return!1};va=k;wa=function(a,c){for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g]);return a};xa=function(a,c){var g,f;c=C(c);if(!(0>c||c>=a.length)){g=c;for(f=a.length-1;g<f;g++)a[g]=a[g+1];ya(a,f)}};ya=function(a,c){a.length=c};P=function(a){ya(a,0)};za=function(a,c){P(a);var g,f;g=0;for(f=c.length;g<f;++g)a[g]=c[g]};Aa=function(a,c){a.push.apply(a,c)};Ba=function(a,c){var g,f;g=0;for(f=a.length;g<f;++g)if(a[g]===c)return g;
return-1};Ca=function(a,c){var g=Ba(a,c);-1!==g&&xa(a,g)};Fa=function(a,c,g){return a<c?c:a>g?g:a};T=function(a){return a/(180/oa)};Ga=function(a){return 180/oa*a};Ha=function(a){a%=360;0>a&&(a+=360);return a};Ja=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ka=function(a){return Ha(Ga(a))};La=function(a){return Ja(T(a))};Ma=function(a,c,g,f){return Math.atan2(f-c,g-a)};Na=function(a,c){if(a===c)return 0;var g=Math.sin(a),f=Math.cos(a),e=Math.sin(c),m=Math.cos(c),g=g*e+f*m;return 1<=g?0:-1>=g?oa:Math.acos(g)};
Oa=function(a,c,g){var f=Math.sin(a),e=Math.cos(a),m=Math.sin(c),x=Math.cos(c);return Math.acos(f*m+e*x)>g?0<e*m-f*x?Ja(a+g):Ja(a-g):Ja(c)};Ua=function(a,c){var g=Math.sin(a),f=Math.cos(a),e=Math.sin(c),m=Math.cos(c);return 0>=f*e-g*m};Va=function(a,c,g,f,e,m){if(0===g)return m?a:c;var x=Math.sin(g);g=Math.cos(g);a-=f;c-=e;var A=a*x;a=a*g-c*x;c=c*g+A;return m?a+f:c+e};Wa=function(a,c,g,f){a=g-a;c=f-c;return Math.sqrt(a*a+c*c)};Xa=function(a,c){return!a!==!c};Ya=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;
return!1};Za=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var N=+new Date;$a=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-N};var g=!1,m=g=!1,v=!1;"undefined"!==typeof window&&(g=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
g=!g&&/safari/i.test(navigator.userAgent),m=/(iphone|ipod|ipad)/i.test(navigator.userAgent),v=window.c2ejecta);var D=!g&&!v&&!m&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.Vd()?!1:D?this.Ed.has(a):this.items&&this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(D)this.Ed.has(a)||(this.Ed.add(a),this.qe=!1);else{var c=a.toString(),g=this.items;g?g.hasOwnProperty(c)||(g[c]=a,this.sh++,this.qe=!1):(this.items={},this.items[c]=
a,this.sh=1,this.qe=!1)}};p.prototype.remove=function(a){if(!this.Vd())if(D)this.Ed.has(a)&&(this.Ed["delete"](a),this.qe=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.sh--,this.qe=!1)}};p.prototype.clear=function(){this.Vd()||(D?this.Ed.clear():(this.items=null,this.sh=0),P(this.Eg),this.qe=!0)};p.prototype.Vd=function(){return 0===this.count()};p.prototype.count=function(){return D?this.Ed.size:this.sh};var B=null,U=0;p.prototype.Xv=function(){if(!this.qe){if(D)P(this.Eg),
B=this.Eg,U=0,this.Ed.forEach(t),B=null,U=0;else{var a=this.Eg;P(a);var c,g=0,f=this.items;if(f)for(c in f)f.hasOwnProperty(c)&&(a[g++]=f[c])}this.qe=!0}};p.prototype.Me=function(){this.Xv();return this.Eg};ba=p;new ba;ab=function(a,c){D?bb(a,c.Ed):cb(a,c.Me())};bb=function(a,c){var g,f,e,m;f=g=0;for(e=a.length;g<e;++g)m=a[g],c.has(m)||(a[f++]=m);ya(a,f)};cb=function(a,c){var g,f,e,m;f=g=0;for(e=a.length;g<e;++g)m=a[g],-1===Ba(c,m)&&(a[f++]=m);ya(a,f)};r.prototype.add=function(a){this.y=a-this.Vk;
this.sk=this.Y+this.y;this.Vk=this.sk-this.Y-this.y;this.Y=this.sk};r.prototype.reset=function(){this.Y=this.sk=this.y=this.Vk=0};db=r;eb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.$h=function(a){this.$p=a;this.jd=a.length/2;this.$a.length=a.length;this.Ai=this.Bi=-1;this.co=0};b.prototype.Vf=function(){return!this.$p.length};b.prototype.qa=function(){for(var a=this.$a,c=a[0],g=c,f=a[1],e=f,m,x,A=1,l=this.jd;A<l;++A)x=2*A,m=a[x],x=a[x+1],m<c&&(c=m),m>g&&(g=m),x<f&&
(f=x),x>e&&(e=x);this.ti=c;this.vi=g;this.wi=f;this.si=e};b.prototype.wg=function(a,c,g){this.$a.length=8;this.jd=4;var f=this.$a;f[0]=a.left-c;f[1]=a.top-g;f[2]=a.right-c;f[3]=a.top-g;f[4]=a.right-c;f[5]=a.bottom-g;f[6]=a.left-c;f[7]=a.bottom-g;this.Bi=a.right-a.left;this.Ai=a.bottom-a.top;this.qa()};b.prototype.vg=function(a,c,g,f,e){this.$a.length=8;this.jd=4;var m=this.$a;m[0]=a.ub-c;m[1]=a.wb-g;m[2]=a.cc-c;m[3]=a.ec-g;m[4]=a.Rb-c;m[5]=a.Sb-g;m[6]=a.Pb-c;m[7]=a.Qb-g;this.Bi=f;this.Ai=e;this.qa()};
b.prototype.qq=function(a){this.jd=a.jd;za(this.$a,a.$a);this.ti=a.ti;this.wi-a.wi;this.vi=a.vi;this.si=a.si};b.prototype.Gf=function(a,c,g){if(this.Bi!==a||this.Ai!==c||this.co!==g){this.Bi=a;this.Ai=c;this.co=g;var f,m,e,x,A,l=0,b=1,u=this.$p,n=this.$a;0!==g&&(l=Math.sin(g),b=Math.cos(g));g=0;for(e=this.jd;g<e;g++)f=2*g,m=f+1,x=u[f]*a,A=u[m]*c,n[f]=x*b-A*l,n[m]=A*b+x*l;this.qa()}};b.prototype.Gb=function(a,c){var g=this.$a;if(a===g[0]&&c===g[1])return!0;var f,m,e,x=this.jd,A=this.ti-110,l=this.wi-
101,b=this.vi+131,u=this.si+120,n,q,d=0,v=0;for(f=0;f<x;f++)m=2*f,e=(f+1)%x*2,n=g[m],m=g[m+1],q=g[e],e=g[e+1],sa(A,l,a,c,n,m,q,e)&&d++,sa(b,u,a,c,n,m,q,e)&&v++;return 1===d%2||1===v%2};b.prototype.fh=function(a,c,g){var f=a.$a,m=this.$a;if(this.Gb(f[0]+c,f[1]+g)||a.Gb(m[0]-c,m[1]-g))return!0;var e,x,A,l,b,u,n,q,d,v,E,k;e=0;for(l=this.jd;e<l;e++)for(x=2*e,A=(e+1)%l*2,q=m[x],x=m[x+1],d=m[A],v=m[A+1],A=0,n=a.jd;A<n;A++)if(b=2*A,u=(A+1)%n*2,E=f[b]+c,b=f[b+1]+g,k=f[u]+c,u=f[u+1]+g,sa(q,x,d,v,E,b,k,u))return!0;
return!1};fb=b;a.prototype.xe=function(a,c,g){var f;f=this.cells[a];return f?(f=f[c])?f:g?(f=u(this,a,c),this.cells[a][c]=f):null:g?(f=u(this,a,c),this.cells[a]={},this.cells[a][c]=f):null};a.prototype.Mb=function(a){return C(a/this.Zk)};a.prototype.Nb=function(a){return C(a/this.Yk)};a.prototype.update=function(a,c,g){var f,m,e,x,A;if(c)for(f=c.left,m=c.right;f<=m;++f)for(e=c.top,x=c.bottom;e<=x;++e)if(!g||!g.Gb(f,e))if(A=this.xe(f,e,!1))A.remove(a),A.Vd()&&(A.jb.clear(),1E3>W.length&&W.push(A),
this.cells[f][e]=null);if(g)for(f=g.left,m=g.right;f<=m;++f)for(e=g.top,x=g.bottom;e<=x;++e)c&&c.Gb(f,e)||this.xe(f,e,!0).Tl(a)};a.prototype.Xj=function(a,c){var g,f,e,m,x,A;g=this.Mb(a.left);e=this.Nb(a.top);f=this.Mb(a.right);for(x=this.Nb(a.bottom);g<=f;++g)for(m=e;m<=x;++m)(A=this.xe(g,m,!1))&&A.dump(c)};gb=a;e.prototype.xe=function(a,c,g){var m;m=this.cells[a];return m?(m=m[c])?m:g?(m=f(this,a,c),this.cells[a][c]=m):null:g?(m=f(this,a,c),this.cells[a]={},this.cells[a][c]=m):null};e.prototype.Mb=
function(a){return C(a/this.Zk)};e.prototype.Nb=function(a){return C(a/this.Yk)};e.prototype.update=function(a,c,g){var f,m,e,x,A;if(c)for(f=c.left,m=c.right;f<=m;++f)for(e=c.top,x=c.bottom;e<=x;++e)if(!g||!g.Gb(f,e))if(A=this.xe(f,e,!1))A.remove(a),A.Vd()&&(A.reset(),1E3>y.length&&y.push(A),this.cells[f][e]=null);if(g)for(f=g.left,m=g.right;f<=m;++f)for(e=g.top,x=g.bottom;e<=x;++e)c&&c.Gb(f,e)||this.xe(f,e,!0).Tl(a)};e.prototype.Xj=function(a,c,g,f,m){var e,x;a=this.Mb(a);c=this.Nb(c);g=this.Mb(g);
for(e=this.Nb(f);a<=g;++a)for(f=c;f<=e;++f)(x=this.xe(a,f,!1))&&x.dump(m)};e.prototype.Ju=function(a){var c,g,f,m,e;c=a.left;f=a.top;g=a.right;for(m=a.bottom;c<=g;++c)for(a=f;a<=m;++a)if(e=this.xe(c,a,!1))e.Yf=!1};hb=e;var W=[];c.prototype.Vd=function(){return this.jb.Vd()};c.prototype.Tl=function(a){this.jb.add(a)};c.prototype.remove=function(a){this.jb.remove(a)};c.prototype.dump=function(a){Aa(a,this.jb.Me())};aa=c;var y=[];q.prototype.Vd=function(){if(!this.jb.length)return!0;if(this.jb.length>
this.Cd.count())return!1;this.tl();return!0};q.prototype.Tl=function(a){this.Cd.contains(a)?(this.Cd.remove(a),this.Cd.Vd()&&(this.Ig=!1)):this.jb.length?(this.jb[this.jb.length-1].xd()>a.xd()&&(this.Yf=!1),this.jb.push(a)):(this.jb.push(a),this.Yf=!0)};q.prototype.remove=function(a){this.Cd.add(a);this.Ig=!0;30<=this.Cd.count()&&this.tl()};q.prototype.tl=function(){this.Ig&&(this.Cd.count()===this.jb.length?this.reset():(ab(this.jb,this.Cd),this.Cd.clear(),this.Ig=!1))};q.prototype.Vs=function(){this.Yf||
(this.jb.sort(l),this.Yf=!0)};q.prototype.reset=function(){P(this.jb);this.Yf=!0;this.Cd.clear();this.Ig=!1};q.prototype.dump=function(a){this.tl();this.Vs();this.jb.length&&a.push(this.jb)};ca=q;var w="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");jb=function(a){return 0>=a||11<=a?"source-over":w[a-1]};kb=function(a,c,g){if(g)switch(a.Cb=g.ONE,a.zb=g.ONE_MINUS_SRC_ALPHA,c){case 1:a.Cb=g.ONE;a.zb=g.ONE;break;case 3:a.Cb=
g.ONE;a.zb=g.ZERO;break;case 4:a.Cb=g.ONE_MINUS_DST_ALPHA;a.zb=g.ONE;break;case 5:a.Cb=g.DST_ALPHA;a.zb=g.ZERO;break;case 6:a.Cb=g.ZERO;a.zb=g.SRC_ALPHA;break;case 7:a.Cb=g.ONE_MINUS_DST_ALPHA;a.zb=g.ZERO;break;case 8:a.Cb=g.ZERO;a.zb=g.ONE_MINUS_SRC_ALPHA;break;case 9:a.Cb=g.DST_ALPHA;a.zb=g.ONE_MINUS_SRC_ALPHA;break;case 10:a.Cb=g.ONE_MINUS_DST_ALPHA,a.zb=g.SRC_ALPHA}};lb=function(a){return Math.round(1E6*a)/1E6};mb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?
!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};nb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||mb(a.tagName,"canvas")?!0:!1}})();var gc="undefined"!==typeof Float32Array?Float32Array:Array;function hc(d){var k=new gc(3);d&&(k[0]=d[0],k[1]=d[1],k[2]=d[2]);return k}
function ic(d){var k=new gc(16);d&&(k[0]=d[0],k[1]=d[1],k[2]=d[2],k[3]=d[3],k[4]=d[4],k[5]=d[5],k[6]=d[6],k[7]=d[7],k[8]=d[8],k[9]=d[9],k[10]=d[10],k[11]=d[11],k[12]=d[12],k[13]=d[13],k[14]=d[14],k[15]=d[15]);return k}function jc(d,k){k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];k[6]=d[6];k[7]=d[7];k[8]=d[8];k[9]=d[9];k[10]=d[10];k[11]=d[11];k[12]=d[12];k[13]=d[13];k[14]=d[14];k[15]=d[15]}
function kc(d,k){var h=k[0],p=k[1];k=k[2];d[0]*=h;d[1]*=h;d[2]*=h;d[3]*=h;d[4]*=p;d[5]*=p;d[6]*=p;d[7]*=p;d[8]*=k;d[9]*=k;d[10]*=k;d[11]*=k}
function lc(d,k,h,p){p||(p=ic());var t,r,b,a,e,u,c,f,q=d[0],l=d[1];d=d[2];r=h[0];b=h[1];t=h[2];h=k[1];u=k[2];q===k[0]&&l===h&&d===u?(d=p,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(h=q-k[0],u=l-k[1],c=d-k[2],f=1/Math.sqrt(h*h+u*u+c*c),h*=f,u*=f,c*=f,k=b*c-t*u,t=t*h-r*c,r=r*u-b*h,(f=Math.sqrt(k*k+t*t+r*r))?(f=1/f,k*=f,t*=f,r*=f):r=t=k=0,b=u*r-c*t,a=c*k-h*r,e=h*t-u*k,(f=Math.sqrt(b*b+a*a+e*e))?(f=1/f,b*=f,a*=f,e*=f):e=a=b=0,
p[0]=k,p[1]=b,p[2]=h,p[3]=0,p[4]=t,p[5]=a,p[6]=u,p[7]=0,p[8]=r,p[9]=e,p[10]=c,p[11]=0,p[12]=-(k*q+t*l+r*d),p[13]=-(b*q+a*l+e*d),p[14]=-(h*q+u*l+c*d),p[15]=1)}
(function(){function d(a,e,b){this.Wd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.ua=!!b;this.lj=this.ih=!1;this.gl=0;this.Kk=1;this.Fn=1E3;this.dw=(this.Fn-this.Kk)/32768;this.Wk=hc([0,0,100]);this.fp=hc([0,0,0]);this.Oq=hc([0,1,0]);this.mi=hc([1,1,1]);this.no=!0;this.Cj=ic();this.Ac=ic();this.fm=ic();this.fl=ic();this.A=a;this.Ko()}function k(a,e,b){this.A=a;this.ai=e;this.name=b;this.Nc=a.getAttribLocation(e,"aPos");this.Ge=a.getAttribLocation(e,
"aTex");this.dp=a.getUniformLocation(e,"matP");this.yj=a.getUniformLocation(e,"matMV");this.gg=a.getUniformLocation(e,"opacity");this.pm=a.getUniformLocation(e,"colorFill");this.ep=a.getUniformLocation(e,"samplerFront");this.Dh=a.getUniformLocation(e,"samplerBack");this.of=a.getUniformLocation(e,"destStart");this.nf=a.getUniformLocation(e,"destEnd");this.Fh=a.getUniformLocation(e,"seconds");this.rm=a.getUniformLocation(e,"pixelWidth");this.qm=a.getUniformLocation(e,"pixelHeight");this.Ch=a.getUniformLocation(e,
"layerScale");this.Bh=a.getUniformLocation(e,"layerAngle");this.Gh=a.getUniformLocation(e,"viewOrigin");this.Eh=a.getUniformLocation(e,"scrollPos");this.ou=!!(this.rm||this.qm||this.Fh||this.Dh||this.of||this.nf||this.Ch||this.Bh||this.Gh||this.Eh);this.np=this.op=-999;this.Bj=1;this.jp=this.ip=0;this.lp=this.hp=this.gp=1;this.rp=this.qp=this.pp=this.tp=this.sp=this.kp=0;this.em=[];this.mp=ic();this.gg&&a.uniform1f(this.gg,1);this.pm&&a.uniform4f(this.pm,1,1,1,1);this.ep&&a.uniform1i(this.ep,0);this.Dh&&
a.uniform1i(this.Dh,1);this.of&&a.uniform2f(this.of,0,0);this.nf&&a.uniform2f(this.nf,1,1);this.Ch&&a.uniform1f(this.Ch,1);this.Bh&&a.uniform1f(this.Bh,0);this.Gh&&a.uniform2f(this.Gh,0,0);this.Eh&&a.uniform2f(this.Eh,0,0);this.Fh&&a.uniform1f(this.Fh,0);this.cf=!1}function h(a,e){return a[0]===e[0]&&a[1]===e[1]&&a[2]===e[2]&&a[3]===e[3]&&a[4]===e[4]&&a[5]===e[5]&&a[6]===e[6]&&a[7]===e[7]&&a[8]===e[8]&&a[9]===e[9]&&a[10]===e[10]&&a[11]===e[11]&&a[12]===e[12]&&a[13]===e[13]&&a[14]===e[14]&&a[15]===
e[15]}function p(a,e){this.type=a;this.u=e;this.A=e.A;this.Kc=this.Db=this.Mp=0;this.S=this.Uc=null;this.sq=[]}var t=ic();d.prototype.Ko=function(){var a=this.A,e;this.Yo=1;this.hf=this.Ce=null;this.Hi=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.ua?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Zo=a.ONE;this.Xo=a.ONE_MINUS_SRC_ALPHA;
this.Gk=new Float32Array(8E3*(this.ua?3:2));this.uk=new Float32Array(16E3);this.Mm=new Float32Array(32E3);this.Lm=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Lm);a.bufferData(a.ARRAY_BUFFER,this.Mm.byteLength,a.DYNAMIC_DRAW);this.li=Array(4);this.fi=Array(4);for(e=0;4>e;e++)this.li[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.li[e]),a.bufferData(a.ARRAY_BUFFER,this.Gk.byteLength,a.DYNAMIC_DRAW),this.fi[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.fi[e]),a.bufferData(a.ARRAY_BUFFER,
this.uk.byteLength,a.DYNAMIC_DRAW);this.Md=0;this.su=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.su);for(var b=new Uint16Array(12E3),c=e=0;12E3>e;)b[e++]=c,b[e++]=c+1,b[e++]=c+2,b[e++]=c,b[e++]=c+2,b[e++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);this.pg=this.Ag=this.ge=0;this.Ja=[];e=this.ua?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";b=this.Og({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.Ja.push(b);b=this.Og({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ja.push(b);b=this.Og({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.Ja.push(b);b=this.Og({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.Ja.push(b);for(var f in mc)mc.hasOwnProperty(f)&&this.Ja.push(this.Og(mc[f],e,f));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Kd=[];this.sd=0;this.Ab=this.qb=!1;this.ko=this.uh=-1;this.If=null;this.rl=a.createFramebuffer();this.Li=this.Zj=null;this.Yn=!1;this.ua&&(this.Li=a.createRenderbuffer());this.Le=hc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.Mu=a[0];this.vm=a[1];2048<this.vm&&(this.vm=2048);this.ac(0)};k.prototype.yn=function(a){h(this.mp,
a)||(jc(a,this.mp),this.A.uniformMatrix4fv(this.yj,!1,a))};d.prototype.Og=function(a,e,b){var c=this.A,f=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(f,a.src);c.compileShader(f);if(!c.getShaderParameter(f,c.COMPILE_STATUS))return c.deleteShader(f),null;var q=c.createShader(c.VERTEX_SHADER);c.shaderSource(q,e);c.compileShader(q);if(!c.getShaderParameter(q,c.COMPILE_STATUS))return c.deleteShader(f),c.deleteShader(q),null;e=c.createProgram();c.attachShader(e,f);c.attachShader(e,q);c.linkProgram(e);
if(!c.getProgramParameter(e,c.LINK_STATUS))return c.deleteShader(f),c.deleteShader(q),c.deleteProgram(e),null;c.useProgram(e);c.deleteShader(f);c.deleteShader(q);b=new k(c,e,b);b.pl=a.pl||0;b.ql=a.ql||0;b.jo=!!a.jo;b.gd=!!a.gd;b.Wn=!!a.Wn;b.T=a.T||[];a=0;for(f=b.T.length;a<f;a++)b.T[a][1]=c.getUniformLocation(e,b.T[a][0]),b.em.push(0),c.uniform1f(b.T[a][1],0);return b};d.prototype.Fl=function(a){var e,b;e=0;for(b=this.Ja.length;e<b;e++)if(this.Ja[e].name===a)return e;return-1};d.prototype.Zp=function(a,
e,b){var c=this.Ac,f=this.Cj,q=[0,0,0,0,0,0,0,0];q[0]=c[0]*a+c[4]*e+c[12];q[1]=c[1]*a+c[5]*e+c[13];q[2]=c[2]*a+c[6]*e+c[14];q[3]=c[3]*a+c[7]*e+c[15];q[4]=f[0]*q[0]+f[4]*q[1]+f[8]*q[2]+f[12]*q[3];q[5]=f[1]*q[0]+f[5]*q[1]+f[9]*q[2]+f[13]*q[3];q[6]=f[2]*q[0]+f[6]*q[1]+f[10]*q[2]+f[14]*q[3];q[7]=-q[2];0!==q[7]&&(q[7]=1/q[7],q[4]*=q[7],q[5]*=q[7],q[6]*=q[7],b[0]=(.5*q[4]+.5)*this.width,b[1]=(.5*q[5]+.5)*this.height)};d.prototype.vf=function(a,e,b){if(this.width!==a||this.height!==e||b){this.Qd();b=this.A;
this.width=a;this.height=e;b.viewport(0,0,a,e);lc(this.Wk,this.fp,this.Oq,this.Ac);if(this.ua){var c=-a/2;a=a/2;var f=e/2;e=-e/2;var q=this.Kk,l=this.Fn,d=this.Cj;d||(d=ic());var n=a-c,k=e-f,g=l-q;d[0]=2/n;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/k;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=-2/g;d[11]=0;d[12]=-(c+a)/n;d[13]=-(e+f)/k;d[14]=-(l+q)/g;d[15]=1;this.mi[0]=1;this.mi[1]=1}else e=a/e,c=this.Kk,a=this.Fn,d=this.Cj,l=c*Math.tan(45*Math.PI/360),e*=l,f=-e,q=-l,d||(d=ic()),n=e-f,k=l-q,g=a-c,d[0]=2*c/n,d[1]=0,
d[2]=0,d[3]=0,d[4]=0,d[5]=2*c/k,d[6]=0,d[7]=0,d[8]=(e+f)/n,d[9]=(l+q)/k,d[10]=-(a+c)/g,d[11]=-1,d[12]=0,d[13]=0,d[14]=-(a*c*2)/g,d[15]=0,c=[0,0],a=[0,0],this.Zp(0,0,c),this.Zp(1,1,a),this.mi[0]=1/(a[0]-c[0]),this.mi[1]=-1/(a[1]-c[1]);c=0;for(a=this.Ja.length;c<a;c++)f=this.Ja[c],f.cf=!1,f.dp&&(b.useProgram(f.ai),b.uniformMatrix4fv(f.dp,!1,this.Cj));b.useProgram(this.Ja[this.uh].ai);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE0);
this.hf=this.Ce=null;this.Li&&(b.bindFramebuffer(b.FRAMEBUFFER,this.rl),b.bindRenderbuffer(b.RENDERBUFFER,this.Li),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,this.width,this.height),this.Yn||(b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,this.Li),this.Yn=!0),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindFramebuffer(b.FRAMEBUFFER,null),this.Zj=null)}};d.prototype.Rc=function(){lc(this.Wk,this.fp,this.Oq,this.Ac);kc(this.Ac,this.mi)};d.prototype.translate=function(a,
e){if(0!==a||0!==e){this.Le[0]=a;this.Le[1]=e;this.Le[2]=0;var b=this.Ac,c=this.Le,f=c[0],d=c[1],c=c[2];b[12]=b[0]*f+b[4]*d+b[8]*c+b[12];b[13]=b[1]*f+b[5]*d+b[9]*c+b[13];b[14]=b[2]*f+b[6]*d+b[10]*c+b[14];b[15]=b[3]*f+b[7]*d+b[11]*c+b[15]}};d.prototype.scale=function(a,e){if(1!==a||1!==e)this.Le[0]=a,this.Le[1]=e,this.Le[2]=1,kc(this.Ac,this.Le)};d.prototype.ak=function(a){if(0!==a){var e=this.Ac,b,c=Math.sin(a);a=Math.cos(a);var f=e[0],d=e[1],l=e[2],k=e[3],n=e[4],h=e[5],g=e[6],m=e[7];b?e!==b&&(b[8]=
e[8],b[9]=e[9],b[10]=e[10],b[11]=e[11],b[12]=e[12],b[13]=e[13],b[14]=e[14],b[15]=e[15]):b=e;b[0]=f*a+n*c;b[1]=d*a+h*c;b[2]=l*a+g*c;b[3]=k*a+m*c;b[4]=f*-c+n*a;b[5]=d*-c+h*a;b[6]=l*-c+g*a;b[7]=k*-c+m*a}};d.prototype.Dc=function(){if(!h(this.fm,this.Ac)){var a=this.Wb();a.type=5;a.S?jc(this.Ac,a.S):a.S=ic(this.Ac);jc(this.Ac,this.fm);this.Ab=this.qb=!1}};d.prototype.fk=function(a){this.ua&&(32760<a&&(a=32760),this.gl=this.Wk[2]-this.Kk-a*this.dw)};p.prototype.Fs=function(){var a=this.A,e=this.u;0!==
this.Db?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,e.rl),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),e.lj=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),e.lj=!1)};p.prototype.Js=function(){this.A.bindTexture(this.A.TEXTURE_2D,this.Uc)};p.prototype.Ks=function(){var a=this.A;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Uc);
a.activeTexture(a.TEXTURE0)};p.prototype.Gs=function(){var a=this.Mp,e=this.u;e.Hi=a;e=e.If;e.gg&&e.Bj!==a&&(e.Bj=a,this.A.uniform1f(e.gg,a))};p.prototype.As=function(){this.A.drawElements(this.A.TRIANGLES,this.Kc,this.A.UNSIGNED_SHORT,this.Db)};p.prototype.Cs=function(){this.A.blendFunc(this.Db,this.Kc)};p.prototype.Ls=function(){var a,e,b,c=this.u.Ja,f=this.u.ko;a=0;for(e=c.length;a<e;a++)b=c[a],a===f&&b.yj?(b.yn(this.S),b.cf=!0):b.cf=!1;jc(this.S,this.u.fl)};p.prototype.Bs=function(){var a=this.A,
e=this.u;this.Uc?(e.hf===this.Uc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),e.hf=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,e.rl),e.lj||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Uc,0)):(e.ua||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};p.prototype.xs=function(){var a=this.A,e=this.Db;0===e?(a.clearColor(this.S[0],this.S[1],this.S[2],this.S[3]),a.clear(a.COLOR_BUFFER_BIT)):
1===e?(a.enable(a.SCISSOR_TEST),a.scissor(this.S[0],this.S[1],this.S[2],this.S[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};p.prototype.Es=function(){var a=this.A;0!==this.Db?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};p.prototype.zs=function(){var a=this.A,e=this.u;e.ua&&a.disable(a.DEPTH_TEST);var b=e.Ja[1];a.useProgram(b.ai);!b.cf&&b.yj&&(b.yn(e.fl),b.cf=!0);a.enableVertexAttribArray(b.Nc);a.bindBuffer(a.ARRAY_BUFFER,e.Lm);a.vertexAttribPointer(b.Nc,
4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Db/4,this.Kc);b=e.If;a.useProgram(b.ai);0<=b.Nc&&(a.enableVertexAttribArray(b.Nc),a.bindBuffer(a.ARRAY_BUFFER,e.li[e.Md]),a.vertexAttribPointer(b.Nc,e.ua?3:2,a.FLOAT,!1,0,0));0<=b.Ge&&(a.enableVertexAttribArray(b.Ge),a.bindBuffer(a.ARRAY_BUFFER,e.fi[e.Md]),a.vertexAttribPointer(b.Ge,2,a.FLOAT,!1,0,0));e.ua&&a.enable(a.DEPTH_TEST)};p.prototype.Hs=function(){var a=this.A,e=this.u,b=e.Ja[this.Db];e.ko=this.Db;e.If=b;a.useProgram(b.ai);!b.cf&&b.yj&&(b.yn(e.fl),
b.cf=!0);b.gg&&b.Bj!==e.Hi&&(b.Bj=e.Hi,a.uniform1f(b.gg,e.Hi));0<=b.Nc&&(a.enableVertexAttribArray(b.Nc),a.bindBuffer(a.ARRAY_BUFFER,e.li[e.Md]),a.vertexAttribPointer(b.Nc,e.ua?3:2,a.FLOAT,!1,0,0));0<=b.Ge&&(a.enableVertexAttribArray(b.Ge),a.bindBuffer(a.ARRAY_BUFFER,e.fi[e.Md]),a.vertexAttribPointer(b.Ge,2,a.FLOAT,!1,0,0))};p.prototype.Ds=function(){var a=this.S;this.A.uniform4f(this.u.If.pm,a[0],a[1],a[2],a[3])};p.prototype.Is=function(){var a,e,b=this.u.If,c=this.A;a=this.S;b.Dh&&this.u.hf!==this.Uc&&
(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.Uc),this.u.hf=this.Uc,c.activeTexture(c.TEXTURE0));var f=a[0];b.rm&&f!==b.op&&(b.op=f,c.uniform1f(b.rm,f));f=a[1];b.qm&&f!==b.np&&(b.np=f,c.uniform1f(b.qm,f));f=a[2];e=a[3];!b.of||f===b.ip&&e===b.jp||(b.ip=f,b.jp=e,c.uniform2f(b.of,f,e));f=a[4];e=a[5];!b.nf||f===b.gp&&e===b.hp||(b.gp=f,b.hp=e,c.uniform2f(b.nf,f,e));f=a[6];b.Ch&&f!==b.lp&&(b.lp=f,c.uniform1f(b.Ch,f));f=a[7];b.Bh&&f!==b.kp&&(b.kp=f,c.uniform1f(b.Bh,f));f=a[8];e=a[9];!b.Gh||
f===b.sp&&e===b.tp||(b.sp=f,b.tp=e,c.uniform2f(b.Gh,f,e));f=a[10];e=a[11];!b.Eh||f===b.pp&&e===b.qp||(b.pp=f,b.qp=e,c.uniform2f(b.Eh,f,e));f=a[12];b.Fh&&f!==b.rp&&(b.rp=f,c.uniform1f(b.Fh,f));if(b.T.length)for(a=0,e=b.T.length;a<e;a++)f=this.sq[a],f!==b.em[a]&&(b.em[a]=f,c.uniform1f(b.T[a][1],f))};d.prototype.Wb=function(){this.sd===this.Kd.length&&this.Kd.push(new p(0,this));return this.Kd[this.sd++]};d.prototype.Qd=function(){if(0!==this.sd&&!this.A.isContextLost()){var a=this.A;0<this.pg&&(a.bindBuffer(a.ARRAY_BUFFER,
this.Lm),a.bufferSubData(a.ARRAY_BUFFER,0,this.Mm.subarray(0,this.pg)),b&&0<=b.Nc&&"<point>"===b.name&&a.vertexAttribPointer(b.Nc,4,a.FLOAT,!1,0,0));if(0<this.ge){var b=this.If;a.bindBuffer(a.ARRAY_BUFFER,this.li[this.Md]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Gk.subarray(0,this.ge));b&&0<=b.Nc&&"<point>"!==b.name&&a.vertexAttribPointer(b.Nc,this.ua?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.fi[this.Md]);a.bufferSubData(a.ARRAY_BUFFER,0,this.uk.subarray(0,this.Ag));b&&0<=b.Ge&&"<point>"!==
b.name&&a.vertexAttribPointer(b.Ge,2,a.FLOAT,!1,0,0)}for(var d,a=0,b=this.sd;a<b;a++)switch(d=this.Kd[a],d.type){case 1:d.As();break;case 2:d.Js();break;case 3:d.Gs();break;case 4:d.Cs();break;case 5:d.Ls();break;case 6:d.Bs();break;case 7:d.xs();break;case 8:d.zs();break;case 9:d.Hs();break;case 10:d.Is();break;case 11:d.Ks();break;case 12:d.Ds();break;case 13:d.Es();break;case 14:d.Fs()}this.pg=this.Ag=this.ge=this.sd=0;this.lj=this.Ab=this.qb=!1;this.Md++;4<=this.Md&&(this.Md=0)}};d.prototype.uf=
function(a){if(a!==this.Yo&&!this.ih){var b=this.Wb();b.type=3;this.Yo=b.Mp=a;this.Ab=this.qb=!1}};d.prototype.pc=function(a){if(a!==this.Ce){var b=this.Wb();b.type=2;this.Ce=b.Uc=a;this.Ab=this.qb=!1}};d.prototype.Je=function(a,b){if((a!==this.Zo||b!==this.Xo)&&!this.ih){var d=this.Wb();d.type=4;d.Db=a;d.Kc=b;this.Zo=a;this.Xo=b;this.Ab=this.qb=!1}};d.prototype.iq=function(){this.Je(this.A.ONE,this.A.ONE_MINUS_SRC_ALPHA)};d.prototype.qg=function(a,b,d,c,f,q,l,k){15992<=this.ge&&this.Qd();var n=this.ge,
h=this.Ag,g=this.Gk,m=this.uk,v=this.gl;if(this.qb)this.Kd[this.sd-1].Kc+=6;else{var D=this.Wb();D.type=1;D.Db=this.ua?n:n/2*3;D.Kc=6;this.qb=!0;this.Ab=!1}this.ua?(g[n++]=a,g[n++]=b,g[n++]=v,g[n++]=d,g[n++]=c,g[n++]=v,g[n++]=f,g[n++]=q,g[n++]=v,g[n++]=l,g[n++]=k,g[n++]=v):(g[n++]=a,g[n++]=b,g[n++]=d,g[n++]=c,g[n++]=f,g[n++]=q,g[n++]=l,g[n++]=k);m[h++]=0;m[h++]=0;m[h++]=1;m[h++]=0;m[h++]=1;m[h++]=1;m[h++]=0;m[h++]=1;this.ge=n;this.Ag=h};d.prototype.Ie=function(a,b,d,c,f,q,l,k,n){15992<=this.ge&&this.Qd();
var h=this.ge,g=this.Ag,m=this.Gk,v=this.uk,D=this.gl;if(this.qb)this.Kd[this.sd-1].Kc+=6;else{var B=this.Wb();B.type=1;B.Db=this.ua?h:h/2*3;B.Kc=6;this.qb=!0;this.Ab=!1}var B=n.left,U=n.top,p=n.right;n=n.bottom;this.ua?(m[h++]=a,m[h++]=b,m[h++]=D,m[h++]=d,m[h++]=c,m[h++]=D,m[h++]=f,m[h++]=q,m[h++]=D,m[h++]=l,m[h++]=k,m[h++]=D):(m[h++]=a,m[h++]=b,m[h++]=d,m[h++]=c,m[h++]=f,m[h++]=q,m[h++]=l,m[h++]=k);v[g++]=B;v[g++]=U;v[g++]=p;v[g++]=U;v[g++]=p;v[g++]=n;v[g++]=B;v[g++]=n;this.ge=h;this.Ag=g};d.prototype.dv=
function(a,b,d,c){7996<=this.pg&&this.Qd();var f=this.pg,q=this.Mm;if(this.Ab)this.Kd[this.sd-1].Kc++;else{var l=this.Wb();l.type=8;l.Db=f;l.Kc=1;this.Ab=!0;this.qb=!1}q[f++]=a;q[f++]=b;q[f++]=d;q[f++]=c;this.pg=f};d.prototype.ac=function(a){if(this.uh!==a){if(!this.Ja[a]){if(0===this.uh)return;a=0}var b=this.Wb();b.type=9;this.uh=b.Db=a;this.Ab=this.qb=!1}};d.prototype.Rh=function(a){a=this.Ja[a];return!(!a.of&&!a.nf)};d.prototype.Qm=function(a){a=this.Ja[a];return!!(a.of||a.nf||a.jo)};d.prototype.Pm=
function(a){return this.Ja[a].gd};d.prototype.nv=function(a){a=this.Ja[a];return 0!==a.pl||0!==a.ql};d.prototype.Vt=function(a){return this.Ja[a].pl};d.prototype.Wt=function(a){return this.Ja[a].ql};d.prototype.Xt=function(a,b){return this.Ja[a].T[b][2]};d.prototype.Uj=function(a){return this.Ja[a].Wn};d.prototype.ug=function(a,b,d,c,f,q,l,h,n,k,g,m,v,D,B){var p=this.Ja[this.uh],t,r;if(p.ou||B.length){t=this.Wb();t.type=10;t.S?jc(this.Ac,t.S):t.S=ic();r=t.S;r[0]=b;r[1]=d;r[2]=c;r[3]=f;r[4]=q;r[5]=
l;r[6]=h;r[7]=n;r[8]=k;r[9]=g;r[10]=m;r[11]=v;r[12]=D;p.Dh?t.Uc=a:t.Uc=null;if(B.length)for(d=t.sq,d.length=B.length,a=0,b=B.length;a<b;a++)d[a]=B[a];this.Ab=this.qb=!1}};d.prototype.clear=function(a,b,d,c){var f=this.Wb();f.type=7;f.Db=0;f.S||(f.S=ic());f.S[0]=a;f.S[1]=b;f.S[2]=d;f.S[3]=c;this.Ab=this.qb=!1};d.prototype.clearRect=function(a,b,d,c){if(!(0>d||0>c)){var f=this.Wb();f.type=7;f.Db=1;f.S||(f.S=ic());f.S[0]=a;f.S[1]=b;f.S[2]=d;f.S[3]=c;this.Ab=this.qb=!1}};d.prototype.lq=function(a){if(this.ua&&
(a=!!a,this.ih!==a)){var b=this.Wb();b.type=14;b.Db=a?1:0;this.Ab=this.qb=!1;this.ih=a;this.Zj=null;this.ih?this.ac(2):this.ac(0)}};d.prototype.kq=function(a){if(this.ua){var b=this.Wb();b.type=13;b.Db=a?1:0;this.Ab=this.qb=!1}};d.prototype.xo=function(){jc(this.fm,t);this.Rc();this.Dc();var a=this.width/2,b=this.height/2;this.qg(-a,b,a,b,a,-b,-a,-b);jc(t,this.Ac);this.Dc()};d.prototype.jq=function(a,b,d){this.ac(3);var c=this.Wb();c.type=12;c.S||(c.S=ic());c.S[0]=a;c.S[1]=b;c.S[2]=d;c.S[3]=1;this.Ab=
this.qb=!1};d.prototype.Kv=function(){this.ac(0)};d.prototype.vv=function(){this.ac(2)};d.prototype.mv=function(){this.Qd();this.A.flush()};var r=[],b={};d.prototype.ns=function(){P(r);b={}};d.prototype.vj=function(a,e,d,c){e=!!e;d=!!d;var f=a.src+","+e+","+d+(e?",undefined":""),q=null;if("undefined"!==typeof a.src&&b.hasOwnProperty(f))return q=b[f],q.yi++,q;this.Qd();var l=this.A,h=ia(a.width)&&ia(a.height),q=l.createTexture();l.bindTexture(l.TEXTURE_2D,q);l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);var n=l.RGBA,k=l.RGBA,g=l.UNSIGNED_BYTE;if(c&&!this.Wd)switch(c){case 1:k=n=l.RGB;break;case 2:g=l.UNSIGNED_SHORT_4_4_4_4;break;case 3:g=l.UNSIGNED_SHORT_5_5_5_1;break;case 4:k=n=l.RGB,g=l.UNSIGNED_SHORT_5_6_5}if(!h&&e){c=document.createElement("canvas");c.width=ja(a.width);c.height=ja(a.height);var m=c.getContext("2d");"undefined"!==typeof m.imageSmoothingEnabled?m.imageSmoothingEnabled=d:(m.webkitImageSmoothingEnabled=d,m.mozImageSmoothingEnabled=d,m.msImageSmoothingEnabled=d);m.drawImage(a,
0,0,a.width,a.height,0,0,c.width,c.height);l.texImage2D(l.TEXTURE_2D,0,n,k,g,c)}else l.texImage2D(l.TEXTURE_2D,0,n,k,g,a);e?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));d?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),h&&this.no?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR_MIPMAP_LINEAR),
l.generateMipmap(l.TEXTURE_2D)):l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST));l.bindTexture(l.TEXTURE_2D,null);this.Ce=null;q.Re=a.width;q.Qe=a.height;q.yi=1;q.bo=f;r.push(q);return b[f]=q};d.prototype.tc=function(a,b,d,c){this.Qd();var f=this.A;this.Wd&&(c=!1);var q=f.createTexture();f.bindTexture(f.TEXTURE_2D,q);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,b,0,f.RGBA,
c?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,d?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,d?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.Ce=null;q.Re=a;q.Qe=b;r.push(q);return q};d.prototype.aw=function(a,b,d){this.Qd();var c=this.A;this.Wd&&(d=!1);c.bindTexture(c.TEXTURE_2D,b);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,d?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}c.bindTexture(c.TEXTURE_2D,null);this.Ce=null};d.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.yi&&1<a.yi?a.yi--:(this.Qd(),a===this.Ce&&(this.A.bindTexture(this.A.TEXTURE_2D,null),this.Ce=null),a===this.hf&&(this.A.activeTexture(this.A.TEXTURE1),this.A.bindTexture(this.A.TEXTURE_2D,null),this.A.activeTexture(this.A.TEXTURE0),
this.hf=null),Ca(r,a),"undefined"!==typeof a.bo&&delete b[a.bo],this.A.deleteTexture(a)))};d.prototype.Sc=function(a){if(a!==this.Zj){var b=this.Wb();b.type=6;this.Zj=b.Uc=a;this.Ab=this.qb=!1}};ob=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.kc=(this.hh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Ib=!!a.dc;this.Po="undefined"!==typeof window.AppMobi||
this.Ib;this.Lc=!!window.c2cocoonjs;this.cd=!!window.c2ejecta;this.Lc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.cd&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.Oa=this.Ib||this.Lc||this.cd;this.kh=
/edge\//i.test(navigator.userAgent);this.Wd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.kh;this.Ro=/tizen/i.test(navigator.userAgent);this.jj=/android/i.test(navigator.userAgent)&&!this.Ro&&!this.Wd&&!this.kh;this.Wo=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Wd&&!this.kh;this.Fu=/ipad/i.test(navigator.userAgent);this.$f=this.Wo||this.Fu||this.cd;this.gh=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Wd&&!this.kh;this.Wl=/amazonwebappplatform/i.test(navigator.userAgent);this.yu=/firefox/i.test(navigator.userAgent);this.Bu=/safari/i.test(navigator.userAgent)&&!this.gh&&!this.Wd&&!this.kh;this.Cu=/windows/i.test(navigator.userAgent);this.Ae="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Uo=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.Eu=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Uf=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.am=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.To=!!window.cr_windows10;this.So=this.Uo||this.Eu||this.am||this.To;this.xu=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.kj=this.jj&&!this.gh&&!this.hh&&!this.yu&&!this.Wl&&!this.Oa;this.devicePixelRatio=
1;this.ze=this.kc||this.hh||this.Po||this.Lc||this.jj||this.$f||this.Uf||this.am||this.xu||this.Ro||this.cd;this.ze||(this.ze=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.oh=!!(this.$f&&this.kc&&window.webkit);this.Ll=null;this.qu="";this.oh&&(this.Ll=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Ae||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.Ae=!0);this.canvas=a;this.eo=document.getElementById("c2canvasdiv");this.u=this.A=null;this.Gl="(unavailable)";this.ua=!1;this.We=0;this.Ga=null;this.wl="";this.Si=!1;this.Gp=this.Hp=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Ib&&(window.c2runtime=this);this.Ae&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=
function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.kj&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.I=this.width;this.H=this.height;this.Fi=this.width;this.Qg=this.height;this.dg=window.innerWidth;this.bg=window.innerHeight;this.Gt=!1;this.ea=!0;this.nh=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.q=[];this.Fa=
[];this.mm={};this.dd=[];this.ol={};this.Rd=[];this.Gg=[];this.Ak=[];this.Zr=[];this.$r=[];this.zq=null;this.Te={};this.Yl=this.ye=!1;this.yc=0;this.Xl=this.$l=!1;this.ad=[];this.jh=!1;this.Xd=this.Bb=this.tj=this.$m="";this.di=this.vq=!1;this.Ri=[];this.Ve=this.Ue=0;this.xp=30;this.dl=this.Hh=0;this.Bg=1;this.ib=new db;this.he=new db;this.Ej=this.Wi=this.Ze=this.Vc=this.kf=this.ul=this.oj=0;this.Lg=null;this.kl=[];this.nl=[];this.Ni=-1;this.tm=[[]];this.tn=this.zj=0;this.Wj(null);this.Ug=this.Bp=
this.Lh=0;this.ei=[];this.qn=this.Sm=-1;this.rh=!0;this.xj=0;this.lh=!1;this.Ov=0;this.Ff=null;this.yd=this.Go=!1;this.Fp=new ba;this.Cm=new ba;this.Dm=new ba;this.Vh=[];this.ld=new fb([]);this.kn=new fb([]);this.oe=[];this.dj={};this.re={};this.le={};this.Fg={};this.Zn={};this.cp=this.sj=this.Qa=this.Xa=this.bp=this.rj=this.la=null;this.Dg=this.cm=!1;this.xl=[null,null];this.$e=0;this.sl="";this.$d={};this.bi=this.Ee=null;this.xq="";this.Dj=[];this.uv()}}function k(a,c){return 128>=c?a[3]:256>=c?
a[2]:512>=c?a[1]:a[0]}function h(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function t(a,c,g,f){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=p;b.onerror=f;b.onsuccess=function(b){b=b.target.result;b.onerror=f;b.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=g}}catch(m){f(m)}}function r(a,c,g){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=p;f.onerror=
g;f.onsuccess=function(f){f=f.target.result;f.onerror=g;var b=f.transaction(["saves"]).objectStore("saves").get(a);b.onsuccess=function(){b.result?c(b.result.data):c(null)}}}catch(b){g(b)}}function b(){da("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,g={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ba||a[c]&&"undefined"!==typeof a[c].qx||
"spriteCreatedDestroyCallback"!==c&&(g[c]=a[c]);return g}var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.uv=function(){var a=this;if(this.oh)this.Ll?this.Ll.startServer({port:0,localhost_only:!0},function(c){a.qu=c;a.uo(function(c){a.fg(JSON.parse(c))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)}):this.uo(function(c){a.fg(JSON.parse(c))},
function(){alert("Error fetching data.js")});else{var c;this.Uf?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var g="data.js";if(this.Uo||this.Uf||this.am||this.To)g="data.json";c.open("GET",g,!0);var f=!1;if(!this.Oa&&"response"in c&&"responseType"in c)try{c.responseType="json",f="json"===c.responseType}catch(b){f=!1}if(!f&&"responseType"in c)try{c.responseType="text"}catch(m){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(e){}this.Uf?c.onreadystatechange=
function(){4===c.readyState&&a.fg(JSON.parse(c.responseText))}:(c.onload=function(){if(f)a.fg(c.response);else if(a.cd){var g=c.responseText,g=g.substr(g.indexOf("{"));a.fg(JSON.parse(g))}else a.fg(JSON.parse(c.responseText))},c.onerror=function(a){ea("Error requesting "+g+":");ea(a)});c.send()}};d.prototype.tu=function(){var a=this,c,g,f,b,m,e,l,d,n;this.gf=(!this.Oa||this.cd||this.kc)&&this.Yv&&!this.kj;0===this.Ub&&this.$f&&(this.gf=!1);this.devicePixelRatio=this.gf?window.devicePixelRatio||window.webkitDevicePixelRatio||
window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.xb();g=!(!this.Gt&&(!this.Pk||this.Ae||this.So||this.Uf||this.hh||this.kc||this.Wl));0<this.Ub&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.Ts&&(this.Lc||this.cd||!this.Oa)&&(c={alpha:g,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.A=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c))}catch(q){}if(this.A){if(c=this.A.getExtension("WEBGL_debug_renderer_info"))this.Gl=this.A.getParameter(c.UNMASKED_RENDERER_WEBGL)+
" ["+this.A.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.ua&&(this.Gl+=" [front-to-back enabled]");this.Oa||(this.sb=document.createElement("canvas"),jQuery(this.sb).appendTo(this.canvas.parentNode),this.sb.oncontextmenu=function(){return!1},this.sb.onselectstart=function(){return!1},this.sb.width=Math.round(this.Fi*this.devicePixelRatio),this.sb.height=Math.round(this.Qg*this.devicePixelRatio),jQuery(this.sb).css({width:this.Fi+"px",height:this.Qg+"px"}),this.Yp(),this.Km=this.sb.getContext("2d"));
this.u=new ob(this.A,this.ze,this.ua);this.u.vf(this.canvas.width,this.canvas.height);this.u.no=0!==this.Ms;this.Ga=null;this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();a.Pu();da("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.u.Ko();a.u.vf(a.u.width,a.u.height,!0);a.Xa=null;a.Qa=null;a.xl[0]=null;a.xl[1]=null;a.Qu();a.ea=!0;da("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},
!1);c=0;for(g=this.q.length;c<g;c++)for(m=this.q[c],f=0,b=m.P.length;f<b;f++)l=m.P[f],l.Ta=this.u.Fl(l.id),l.gd=this.u.Pm(l.Ta),this.Dg=this.Dg||this.u.Rh(l.Ta);c=0;for(g=this.dd.length;c<g;c++){d=this.dd[c];f=0;for(b=d.P.length;f<b;f++)l=d.P[f],l.Ta=this.u.Fl(l.id),l.gd=this.u.Pm(l.Ta);d.od();f=0;for(b=d.R.length;f<b;f++){n=d.R[f];m=0;for(e=n.P.length;m<e;m++)l=n.P[m],l.Ta=this.u.Fl(l.id),l.gd=this.u.Pm(l.Ta),this.Dg=this.Dg||this.u.Rh(l.Ta);n.od()}}}else{if(0<this.Ub&&this.Ib){this.canvas=null;
document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Ga=AppMobi.canvas.getContext("2d");try{this.Ga.samplingMode=this.Da?"smooth":"sharp",this.Ga.globalScale=1,this.Ga.HTML5CompatibilityMode=!0,this.Ga.imageSmoothingEnabled=this.Da}catch(v){}0!==this.width&&0!==this.height&&(this.Ga.width=this.width,this.Ga.height=this.height)}this.Ga||(this.Lc?(c={antialias:!!this.Da,alpha:g},this.Ga=this.canvas.getContext("2d",c)):(c={alpha:g},this.Ga=this.canvas.getContext("2d",
c)),this.ek(this.Ga,this.Da));this.Km=this.sb=null}this.Hq=function(c){a.Ka(!1,c)};window==window.top||this.Oa||this.So||this.Uf||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Lc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(da("Reloading for continuous preview"),this.tj="__c2_continuouspreview",
this.di=!0),this.bv&&!this.ze&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.mg()});this.Oa||(c=function(a){if(nb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",
c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Ub&&this.gf&&1<this.devicePixelRatio&&this.setSize(this.Za,this.Ya,!0);this.Lq();this.lu();this.go();this.J={}};d.prototype.setSize=function(a,c,g){var f=0,b=0,m=0,e=0,e=0;if(this.dg!==a||this.bg!==c||g){this.dg=a;this.bg=c;var l=this.Ub,d=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||
document.fullScreen||this.lh)&&!this.kc;if(d||0!==this.Ub||g)d&&0<this.$e&&(l=this.$e),g=this.devicePixelRatio,4<=l?(m=this.Za/this.Ya,a/c>m?(m*=c,5===l?(e=m*g/this.Za,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),m=this.Za*e/g,e=this.Ya*e/g,f=(a-m)/2,b=(c-e)/2,a=m,c=e):(f=(a-m)/2,a=m)):(e=a/m,5===l?(e=e*g/this.Ya,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),m=this.Za*e/g,e=this.Ya*e/g,f=(a-m)/2,b=(c-e)/2,a=m):b=(c-e)/2,c=e),d&&!this.Ae&&(b=f=0)):this.Ae&&this.lh&&0===this.yo&&(f=Math.floor((a-this.Za)/
2),b=Math.floor((c-this.Ya)/2),a=this.Za,c=this.Ya),2>l&&(this.Kg=g),this.Fi=Math.round(a),this.Qg=Math.round(c),this.width=Math.round(a*g),this.height=Math.round(c*g),this.ea=!0,this.Wq?(this.I=this.width,this.H=this.height,this.uc=!0):this.width<this.Za&&this.height<this.Ya||1===l?(this.I=this.width,this.H=this.height,this.uc=!0):(this.I=this.Za,this.H=this.Ya,this.uc=!1,2===l?(m=this.Za/this.Ya,l=this.dg/this.bg,l<m?this.I=this.H*l:l>m&&(this.H=this.I/l)):3===l&&(m=this.Za/this.Ya,l=this.dg/this.bg,
l>m?this.I=this.H*l:l<m&&(this.H=this.I/l))),this.eo&&!this.Oa&&(jQuery(this.eo).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(f)+"px","margin-top":Math.floor(b)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*g),this.canvas.height=Math.round(c*g),this.cd?(this.canvas.style.left=Math.floor(f)+"px",this.canvas.style.top=Math.floor(b)+"px",this.canvas.style.width=
Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.gf&&!this.Oa&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.sb&&(this.sb.width=Math.round(a*g),this.sb.height=Math.round(c*g),this.sb.style.width=this.Fi+"px",this.sb.style.height=this.Qg+"px"),this.u&&this.u.vf(Math.round(a*g),Math.round(c*g)),this.Ib&&this.Ga&&(this.Ga.width=Math.round(a),this.Ga.height=Math.round(c)),this.Ga&&this.ek(this.Ga,this.Da),this.Lq(),this.Wo&&!this.kc&&
window.scrollTo(0,0)}};d.prototype.Lq=function(){if(this.bs&&0!==this.Im){var a="portrait";2===this.Im&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",
c)}}};d.prototype.Pu=function(){this.u.ns();this.cm=!0;var a,c,g;a=0;for(c=this.q.length;a<c;a++)g=this.q[a],g.Fj&&g.Fj()};d.prototype.Qu=function(){this.cm=!1;var a,c,g;a=0;for(c=this.q.length;a<c;a++)g=this.q[a],g.Fm&&g.Fm()};d.prototype.Yp=function(){if(!this.Oa){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.lh)&&!this.kc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.sb).css(a)}};
var u=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(a){var c;if(a&&!this.nh)for(da("[Construct 2] Suspending"),this.nh=!0,-1!==this.Sm&&u&&u(this.Sm),-1!==this.qn&&clearTimeout(this.qn),a=0,c=this.ei.length;a<c;a++)this.ei[a](!0);else if(!a&&this.nh){da("[Construct 2] Resuming");this.nh=!1;this.oj=$a();this.kf=$a();a=this.Hh=this.Wi=0;for(c=this.ei.length;a<
c;a++)this.ei[a](!1);this.Ka(!1)}};d.prototype.Xr=function(a){this.ei.push(a)};d.prototype.je=function(a){return this.Dj[a]};d.prototype.fg=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.wo=a[1];this.Ub=a[12];this.yo=a[12];this.Za=a[10];this.Ya=a[11];this.Tp=this.Za/2;this.Up=this.Ya/2;this.Oa&&!this.cd&&(4<=a[12]||0===a[12])&&(da("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.yo=
this.Ub=3);this.Bn=a[18];this.Fe=a[19];if(0===this.Fe){var c=new Image;c.crossOrigin="anonymous";this.nq(c,"loading-logo.png");this.Ee={Aj:c}}else if(4===this.Fe){c=new Image;c.src="";var g=new Image;g.src="";var f=new Image;f.src="";var b=new Image;b.src="";var m=new Image;m.src="";var e=new Image;e.src="";var l=new Image;l.src="";var d=new Image;d.src="";var n=new Image;n.src="";var q=new Image;q.src="";var v=new Image;v.src="";var h=new Image;h.src="";this.Ee={Aj:[c,g,f,b],jv:[m,e,l,d],cw:[n,q,
v,h]}}this.Lh=a[21];this.Dj=nc();this.Fd=new Y(this);c=0;for(g=a[2].length;c<g;c++)l=a[2][c],f=this.je(l[0]),pb(l,f.prototype),d=new f(this),d.lk=l[1],d.Be=l[2],d.yp=l[9],d.pa&&d.pa(),this.plugins.push(d);this.Dj=nc();c=0;for(g=a[3].length;c<g;c++){l=a[3][c];m=this.je(l[1]);d=null;f=0;for(b=this.plugins.length;f<b;f++)if(this.plugins[f]instanceof m){d=this.plugins[f];break}n=new d.ab(d);n.name=l[0];n.K=l[2];n.Ul=l[3].slice(0);n.$v=l[3].length;n.cs=l[4];n.It=l[5];n.X=l[11];n.K?(n.ig=[],n.Sd=this.Ug++,
n.Ba=null):(n.ig=null,n.Sd=-1,n.Ba=[]);n.Pi=null;n.Nf=null;n.oo=null;n.Jb=!1;n.hc=null;l[6]?(n.ln=l[6][0],n.mn=l[6][1],n.nn=l[6][2]):(n.ln=null,n.mn=0,n.nn=0);l[7]?n.gc=l[7]:n.gc=null;n.index=c;n.d=[];n.Ji=[];n.ee=[new qb(n)];n.td=0;n.Hc=null;n.ts=0;n.zg=!0;n.Bk=rb;n.Nt=sb;n.Tt=tb;n.W=vb;n.Th=wb;n.Vj=xb;n.tf=yb;n.Yi=zb;n.yl=Ab;n.Bl=Bb;n.Yc=Cb;n.Cl=Db;n.Ci=new gb(this.Za,this.Ya);n.qi=!0;n.ri=!1;n.J={};n.toString=Eb;n.Fa=[];f=0;for(b=l[8].length;f<b;f++){q=l[8][f];v=this.je(q[1]);h=null;m=0;for(e=
this.Fa.length;m<e;m++)if(this.Fa[m]instanceof v){h=this.Fa[m];break}h||(h=new v(this),h.Am=[],h.zm=new ba,h.pa&&h.pa(),this.Fa.push(h),fc.Nv&&h instanceof fc.Nv&&(this.zq=h));-1===h.Am.indexOf(n)&&h.Am.push(n);m=new h.ab(h,n);m.name=q[0];m.X=q[2];m.pa();n.Fa.push(m)}n.global=l[9];n.Zl=l[10];n.P=[];f=0;for(b=l[12].length;f<b;f++)n.P.push({id:l[12][f][0],name:l[12][f][1],Ta:-1,gd:!1,cb:!0,index:f});n.Lx=l[13];this.Bn&&!n.K&&!n.Zl&&d.Be||n.pa();n.name&&(this.types[n.name]=n);this.q.push(n);d.lk&&(f=
new d.La(n),f.uid=this.Lh++,f.aq=this.Bp++,f.ef=0,f.Zg=Fb,f.toString=Gb,f.M=l[14],f.pa(),n.d.push(f),this.$d[f.uid.toString()]=f)}c=0;for(g=a[4].length;c<g;c++)for(m=a[4][c],e=this.q[m[0]],f=1,b=m.length;f<b;f++)l=this.q[m[f]],l.Ba.push(e),e.ig.push(l);c=0;for(g=a[28].length;c<g;c++){m=a[28][c];e=[];f=0;for(b=m.length;f<b;f++)e.push(this.q[m[f]]);f=0;for(b=e.length;f<b;f++)e[f].Jb=!0,e[f].hc=e}if(0<this.Ug)for(c=0,g=this.q.length;c<g;c++)if(l=this.q[c],!l.K&&l.Ba.length){l.Pi=Array(this.Ug);l.Nf=
Array(this.Ug);l.oo=Array(this.Ug);n=[];f=h=v=q=0;for(b=l.Ba.length;f<b;f++)for(d=l.Ba[f],l.Pi[d.Sd]=q,q+=d.$v,l.Nf[d.Sd]=v,v+=d.cs,l.oo[d.Sd]=h,h+=d.It,m=0,e=d.P.length;m<e;m++)n.push(wa({},d.P[m]));l.P=n.concat(l.P);f=0;for(b=l.P.length;f<b;f++)l.P[f].index=f}c=0;for(g=a[5].length;c<g;c++)l=a[5][c],f=new Hb(this,l),this.mm[f.name]=f,this.dd.push(f);c=0;for(g=a[6].length;c<g;c++)l=a[6][c],f=new Ib(this,l),this.ol[f.name]=f,this.Rd.push(f);c=0;for(g=this.Rd.length;c<g;c++)this.Rd[c].Ma();c=0;for(g=
this.Rd.length;c<g;c++)this.Rd[c].xn();c=0;for(g=this.Ak.length;c<g;c++)this.Ak[c].Ma();P(this.Ak);this.as=a[7];this.sl=a[8];this.fd=a[9];this.Kg=1;this.Ts=a[13];this.Da=a[14];this.Pk=a[15];this.Yv=a[17];this.Im=a[20];this.bs=0<this.Im;this.bv=a[22];this.uc=this.Wq=a[23];this.Ms=a[24];this.kv=a[25];this.ua=a[27]&&!this.Wd;this.pk=Date.now();P(this.Dj);this.tu()};var c=!1;d.prototype.Vq=function(a,g){a.cocoonLazyLoad=!0;a.onerror=function(g){c=a.ao=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",g)};this.cd?a.src=g:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(g,function(c){a.src=c},function(f){c=a.ao=!0;console&&console.error&&console.error("Error extracting image '"+g+"' from expansion file: ",f)}):(a.crossOrigin="anonymous",this.nq(a,g)));this.Gg.push(a)};d.prototype.Ft=function(a){var c,g;c=0;for(g=this.Gg.length;c<g;c++)if(this.Gg[c].os===a)return this.Gg[c];return null};var f=0,q=!1;d.prototype.lu=function(){this.Ff&&(f=this.Ff.Iv(this.as))};d.prototype.Xn=function(){var a=
f,c=0,g=0,b=!0,m,e,g=0;for(m=this.Gg.length;g<m;g++){e=this.Gg[g];var l=e.ho;if(!l||0>=l)l=5E4;a+=l;e.src&&(e.complete||e.loaded)&&!e.ao?c+=l:b=!1}b&&this.kv&&this.Ff&&(q||(this.Ff.Pv(),q=!0),g=this.Ff.Ut(),c+=g,g<f&&(b=!1));this.hd=0==a?1:c/a;return b};var l=!1;d.prototype.go=function(){if(this.Ga||this.u){var a=this.Ga||this.Km;this.sb&&this.Yp();var g=window.innerWidth,f=window.innerHeight;this.dg===g&&this.bg===f||this.setSize(g,f);this.hd=0;this.$o=-1;var b=this;if(this.Xn()&&(4!==this.Fe||l))this.mu();
else{f=Date.now()-this.pk;if(a){var m=this.width,d=this.height,g=this.devicePixelRatio;if(3>this.Fe&&(this.Lc||500<=f&&this.$o!=this.hd)){a.clearRect(0,0,m,d);var f=m/2,d=d/2,m=0===this.Fe&&this.Ee.Aj.complete,n=40*g,q=0,v=80*g,h;if(m){var k=this.Ee.Aj,v=k.width*g;h=k.height*g;n=v/2;q=h/2;a.drawImage(k,C(f-n),C(d-q),v,h)}1>=this.Fe?(f=C(f-n)+.5,d=C(d+(q+(m?12*g:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(f,d,Math.floor(v*this.hd),6*g),a.strokeStyle="black",a.strokeRect(f,d,v,6*g),a.strokeStyle=
"white",a.strokeRect(f-1*g,d-1*g,v+2*g,8*g)):2===this.Fe&&(a.font=this.cd?"12pt ArialMT":"12pt Arial",a.fillStyle=c?"#f00":"#999",a.Kx="middle",g=Math.round(100*this.hd)+"%",m=a.measureText?a.measureText(g):null,a.fillText(g,f-(m?m.width:0)/2,d));this.$o=this.hd}else if(4===this.Fe){this.Rs(a);e?e(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.Lc?10:100)}}};var E=-1,n="undefined"===typeof cr_is_preview?200:0,N=!0,g=!1,m=0,v=0,D="undefined"===typeof cr_is_preview?
3E3:0,B=null,U=null,W=0;d.prototype.Rs=function(a){if(!l){for(var f=Math.ceil(this.width),b=Math.ceil(this.height),e=this.Ee.Aj,d=this.Ee.jv,q=this.Ee.cw,h=0;4>h;++h)if(!e[h].complete||!d[h].complete||!q[h].complete)return;0===W&&(E=Date.now());var h=Date.now(),t=!1,p=a,u,r;N||g?(a.clearRect(0,0,f,b),B&&B.width===f&&B.height===b||(B=document.createElement("canvas"),B.width=f,B.height=b,U=B.getContext("2d")),p=U,t=!0,N&&1===W&&(E=Date.now())):a.globalAlpha=1;p.fillStyle="#333333";p.fillRect(0,0,f,
b);256<this.Qg?(u=Fa(.22*b,105,.6*f),r=.25*u,p.drawImage(k(d,u),.5*f-u/2,.2*b-r/2,u,r),r=u=Math.min(.395*b,.95*f),p.drawImage(k(e,u),.5*f-u/2,.485*b-r/2,u,r),u=Fa(.22*b,105,.6*f),r=.25*u,p.drawImage(k(q,u),.5*f-u/2,.868*b-r/2,u,r),p.fillStyle="#3C3C3C",u=f,r=Math.max(.005*b,2),p.fillRect(0,.8*b-r/2,u,r),p.fillStyle=c?"red":"#E0FF65",u=f*this.hd,p.fillRect(.5*f-u/2,.8*b-r/2,u,r)):(r=u=.55*b,p.drawImage(k(e,u),.5*f-u/2,.45*b-r/2,u,r),p.fillStyle="#3C3C3C",u=f,r=Math.max(.005*b,2),p.fillRect(0,.85*b-
r/2,u,r),p.fillStyle=c?"red":"#E0FF65",u=f*this.hd,p.fillRect(.5*f-u/2,.85*b-r/2,u,r));t&&(N?a.globalAlpha=0===W?0:Math.min((h-E)/300,1):g&&(a.globalAlpha=Math.max(1-(h-v)/300,0)),a.drawImage(B,0,0,f,b));N&&300<=h-E&&2<=W&&(N=!1,m=h);!N&&h-m>=D&&!g&&1<=this.hd&&(g=!0,v=h);if(g&&h-v>=300+n||"undefined"!==typeof cr_is_preview&&1<=this.hd&&500>Date.now()-E)l=!0,g=N=!1,this.Ee=U=B=null;++W}};d.prototype.mu=function(){this.sb&&(this.canvas.parentNode.removeChild(this.sb),this.sb=this.Km=null);this.pk=
Date.now();this.kf=$a();var a,c,g;if(this.Bn)for(a=0,c=this.q.length;a<c;a++)g=this.q[a],g.K||g.Zl||!g.xa.Be||g.pa();else this.rh=!1;a=0;for(c=this.dd.length;a<c;a++)this.dd[a].qs();2<=this.Ub&&(a=this.Za/this.Ya,c=this.width/this.height,this.Kg=2!==this.Ub&&c>a||2===this.Ub&&c<a?this.height/this.Ya:this.width/this.Za);this.wo?this.mm[this.wo].hn():this.dd[0].hn();this.Bn||(this.xj=1,this.trigger(Y.prototype.n.Hn,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(c=this.q.length;a<c;a++)g=this.q[a],g.Ou&&g.Ou();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Ka(!1);this.Ib&&AppMobi.webview.execute("onGameReady();")};d.prototype.Ka=function(a,c,g){if(this.la){var f=$a();if(g||!this.nh||a){a||(e?this.Sm=e(this.Hq):this.qn=setTimeout(this.Hq,this.ze?1:16));c=c||f;var b=this.Ub;((g=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.kc)||this.lh)&&0<this.$e&&(b=this.$e);if(0<b){var b=window.innerWidth,m=window.innerHeight;this.dg===b&&this.bg===m||this.setSize(b,m)}this.Oa||(g?(this.Si||(this.wl=jQuery(this.canvas).css("margin")||"0",this.Si=!0),this.gh||this.Ae||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Si?(this.gh||this.Ae||jQuery(this.canvas).css("margin",this.wl),
this.wl="",this.Si=!1,0===this.Ub&&this.setSize(Math.round(this.Hp/this.devicePixelRatio),Math.round(this.Gp/this.devicePixelRatio),!0)):(this.Hp=this.width,this.Gp=this.height));this.rh&&(g=this.Xn(),this.xj=this.hd,g&&(this.rh=!1,this.hd=1,this.trigger(Y.prototype.n.Hn,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Iu(c);!this.ea&&!this.Lc||this.cm||this.di||a||(this.ea=!1,this.u?this.Tb():this.Jc(),this.bi&&(this.canvas&&this.canvas.toDataURL&&(this.xq=this.canvas.toDataURL(this.bi[0],
this.bi[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.xq),this.trigger(Y.prototype.n.pr,null)),this.bi=null));this.wx||(this.Vc++,this.Ze++,this.Wi++);this.Hh+=$a()-f}}};d.prototype.Iu=function(a){var c,g,f,b,m,e,l,d;1E3<=a-this.kf&&(this.kf+=1E3,1E3<=a-this.kf&&(this.kf=a),this.ul=this.Wi,this.Wi=0,this.dl=this.Hh,this.Hh=0);c=0;0!==this.oj&&(c=a-this.oj,0>c&&(c=0),this.Ve=c/=1E3,.5<this.Ve?this.Ve=0:this.Ve>1/this.xp&&(this.Ve=1/this.xp));this.oj=a;this.Ue=this.Ve*this.Bg;this.ib.add(this.Ue);
this.he.add(c);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.lh)&&!this.kc;2<=this.Ub||a&&0<this.$e?(c=this.Za/this.Ya,g=this.width/this.height,f=this.Ub,a&&0<this.$e&&(f=this.$e),this.Kg=2!==f&&g>c||2===f&&g<c?this.height/this.Ya:this.width/this.Za,this.la&&(this.la.gq(this.la.scrollX),this.la.hq(this.la.scrollY))):this.Kg=this.gf?this.devicePixelRatio:1;this.xb();this.yc++;this.Fd.zv();this.yc--;this.xb();this.yc++;g=this.Fp.Me();
a=0;for(c=g.length;a<c;a++)g[a].Fx();a=0;for(c=this.q.length;a<c;a++)if(e=this.q[a],!e.K&&(e.Fa.length||e.Ba.length))for(g=0,f=e.d.length;g<f;g++)for(l=e.d[g],b=0,m=l.O.length;b<m;b++)l.O[b].Ka();a=0;for(c=this.q.length;a<c;a++)if(e=this.q[a],!e.K&&(e.Fa.length||e.Ba.length))for(g=0,f=e.d.length;g<f;g++)for(l=e.d[g],b=0,m=l.O.length;b<m;b++)d=l.O[b],d.iv&&d.iv();g=this.Cm.Me();a=0;for(c=g.length;a<c;a++)g[a].Ka();this.yc--;this.nu();for(a=0;this.Lg&&10>a++;)this.mo(this.Lg);a=0;for(c=this.Rd.length;a<
c;a++)this.Rd[a].Kl=!1;this.la.Xe&&this.la.Xe.Sa();P(this.Vh);this.yc++;a=0;for(c=this.q.length;a<c;a++)if(e=this.q[a],!e.K&&(e.Fa.length||e.Ba.length))for(g=0,f=e.d.length;g<f;g++)for(l=e.d[g],b=0,m=l.O.length;b<m;b++)d=l.O[b],d.pn&&d.pn();g=this.Dm.Me();a=0;for(c=g.length;a<c;a++)g[a].pn();this.yc--};d.prototype.mg=function(){var a,c,g,f,b,m,e,l,d;a=0;for(c=this.q.length;a<c;a++)if(e=this.q[a],!e.K)for(g=0,f=e.d.length;g<f;g++)if(l=e.d[g],l.mg&&l.mg(),l.O)for(b=0,m=l.O.length;b<m;b++)d=l.O[b],d.mg&&
d.mg()};d.prototype.mo=function(a){var c=this.la;this.la.Qv();var g,f,b;if(this.u)for(g=0,f=this.q.length;g<f;g++)b=this.q[g],b.K||!b.wn||b.global&&0!==b.d.length||-1!==a.eh.indexOf(b)||b.wn();c==a&&P(this.Fd.fc);P(this.Vh);this.dq(!0);a.hn();this.dq(!1);this.ea=!0;this.xb()};d.prototype.dq=function(a){var c,g,f,b,m,e,l,d,n;c=0;for(g=this.Fa.length;c<g;c++)f=this.Fa[c],a?f.Mh&&f.Mh():f.Oh&&f.Oh();c=0;for(g=this.q.length;c<g;c++)if(f=this.q[c],f.global||f.xa.lk)for(b=0,m=f.d.length;b<m;b++)if(e=f.d[b],
a?e.Mh&&e.Mh():e.Oh&&e.Oh(),e.O)for(l=0,d=e.O.length;l<d;l++)n=e.O[l],a?n.Mh&&n.Mh():n.Oh&&n.Oh()};d.prototype.wk=function(a){this.Cm.add(a)};d.prototype.Sv=function(a){this.Dm.add(a)};d.prototype.Wg=function(a){return a&&-1!==a.Kh?this.Ve*a.Kh:this.Ue};d.prototype.Jc=function(){this.la.Jc(this.Ga);this.Ib&&this.Ga.present()};d.prototype.Tb=function(){this.ua&&(this.We=1,this.la.Kf(this.u));this.la.Tb(this.u);this.u.mv()};d.prototype.Tn=function(a){a&&this.kl.push(a)};d.prototype.aj=function(a){a=
a.toString();return this.$d.hasOwnProperty(a)?this.$d[a]:null};var y=[];d.prototype.Hd=function(a){var c,g;c=a.type.name;var f=null;if(this.Te.hasOwnProperty(c)){if(f=this.Te[c],f.contains(a))return}else f=y.length?y.pop():new ba,this.Te[c]=f;f.add(a);this.ye=!0;if(a.Jb)for(c=0,g=a.siblings.length;c<g;c++)this.Hd(a.siblings[c]);this.Yl&&f.Eg.push(a);this.Xl||(this.yc++,this.trigger(Object.getPrototypeOf(a.type.xa).n.rr,a),this.yc--)};d.prototype.xb=function(){if(this.ye){var a,c,g,f,b,m;this.Yl=!0;
g=0;for(b=this.ad.length;g<b;++g)for(a=this.ad[g],c=a.type,c.d.push(a),f=0,m=c.Ba.length;f<m;++f)c.Ba[f].d.push(a),c.Ba[f].zg=!0;P(this.ad);this.lr();Za(this.Te);this.ye=this.Yl=!1}};d.prototype.lr=function(){for(var a in this.Te)this.Te.hasOwnProperty(a)&&this.br(this.Te[a])};d.prototype.br=function(a){var c=a.Me(),g=c[0].type,f,b,m,e,l,d;ab(g.d,a);g.zg=!0;0===g.d.length&&(g.ri=!1);f=0;for(b=g.Ba.length;f<b;++f)d=g.Ba[f],ab(d.d,a),d.zg=!0;f=0;for(b=this.Fd.fc.length;f<b;++f)if(l=this.Fd.fc[f],l.Lb.hasOwnProperty(g.index)&&
ab(l.Lb[g.index].Ud,a),!g.K)for(m=0,e=g.Ba.length;m<e;++m)d=g.Ba[m],l.Lb.hasOwnProperty(d.index)&&ab(l.Lb[d.index].Ud,a);if(l=c[0].j){if(l.Ec)for(m=l.d,f=0,b=m.length;f<b;++f)e=m[f],a.contains(e)&&(e.qa(),l.tb.update(e,e.Xb,null),e.Xb.set(0,0,-1,-1));ab(l.d,a);l.Zh(0)}for(f=0;f<c.length;++f)this.$q(c[f],g);a.clear();y.push(a);this.ea=!0};d.prototype.$q=function(a,c){var g,f,b;g=0;for(f=this.kl.length;g<f;++g)this.kl[g](a);a.se&&c.Ci.update(a,a.se,null);(g=a.j)&&g.sg(a,!0);if(a.O)for(g=0,f=a.O.length;g<
f;++g)b=a.O[g],b.Nh&&b.Nh(),b.behavior.zm.remove(a);this.Fp.remove(a);this.Cm.remove(a);this.Dm.remove(a);a.Nh&&a.Nh();this.$d.hasOwnProperty(a.uid.toString())&&delete this.$d[a.uid.toString()];this.Ej--;100>c.Ji.length&&c.Ji.push(a)};d.prototype.el=function(a,c,g,f){if(a.K){var b=C(Math.random()*a.ig.length);return this.el(a.ig[b],c,g,f)}return a.Hc?this.te(a.Hc,c,!1,g,f,!1):null};var w=[];d.prototype.te=function(a,c,g,f,b,m){var e,l,d,n;if(!a)return null;var q=this.q[a[1]],v=q.xa.Be;if(this.rh&&
v&&!q.Zl||v&&!this.u&&11===a[0][11])return null;var h=c;v||(c=null);var k;q.Ji.length?(k=q.Ji.pop(),k.Bc=!0,q.xa.La.call(k,q)):(k=new q.xa.La(q),k.Bc=!1);!g||m||this.$d.hasOwnProperty(a[2].toString())?k.uid=this.Lh++:k.uid=a[2];this.$d[k.uid.toString()]=k;k.aq=this.Bp++;k.ef=q.d.length;e=0;for(l=this.ad.length;e<l;++e)this.ad[e].type===q&&k.ef++;k.Zg=Fb;k.toString=Gb;d=a[3];if(k.Bc)Za(k.J);else{k.J={};if("undefined"!==typeof cr_is_preview)for(k.No=[],k.No.length=d.length,e=0,l=d.length;e<l;e++)k.No[e]=
d[e][1];k.Wa=[];k.Wa.length=d.length}e=0;for(l=d.length;e<l;e++)k.Wa[e]=d[e][0];if(v){var E=a[0];k.x=fa(f)?E[0]:f;k.y=fa(b)?E[1]:b;k.z=E[2];k.width=E[3];k.height=E[4];k.depth=E[5];k.i=E[6];k.opacity=E[7];k.ic=E[8];k.jc=E[9];k.yb=E[10];e=E[11];!this.u&&q.P.length&&(k.yb=e);k.Mg=jb(k.yb);this.A&&kb(k,k.yb,this.A);if(k.Bc){e=0;for(l=E[12].length;e<l;e++)for(d=0,n=E[12][e].length;d<n;d++)k.Ha[e][d]=E[12][e][d];k.ra.set(0,0,0,0);k.se.set(0,0,-1,-1);k.Xb.set(0,0,-1,-1);k.Eb.wg(k.ra);P(k.Uk)}else{k.Ha=E[12].slice(0);
e=0;for(l=k.Ha.length;e<l;e++)k.Ha[e]=E[12][e].slice(0);k.ca=[];k.ke=[];k.ke.length=q.P.length;k.ra=new ta(0,0,0,0);k.se=new ta(0,0,-1,-1);k.Xb=new ta(0,0,-1,-1);k.Eb=new va;k.Uk=[];k.F=Jb;k.Yr=Kb;k.Gb=Lb;k.qa=Mb;k.Sq=Nb;k.An=Ob;k.xd=Pb}k.gi=!1;k.Vv=0;k.Uv=0;k.Tv=null;14===E.length&&(k.gi=!0,k.Vv=E[13][0],k.Uv=E[13][1],k.Tv=E[13][2]);e=0;for(l=q.P.length;e<l;e++)k.ke[e]=!0;k.be=!0;k.od=Qb;k.od();k.Tq=!!k.ca.length;k.xi=!0;k.Xk=!0;q.qi=!0;k.visible=!0;k.Kh=-1;k.j=c;k.pd=c.d.length;k.We=0;"undefined"===
typeof k.ja&&(k.ja=null);this.ea=k.Ld=!0}var u;P(w);e=0;for(l=q.Ba.length;e<l;e++)w.push.apply(w,q.Ba[e].Fa);w.push.apply(w,q.Fa);if(k.Bc)for(e=0,l=w.length;e<l;e++){var B=w[e];u=k.O[e];u.Bc=!0;B.behavior.La.call(u,B,k);E=a[4][e];d=0;for(n=E.length;d<n;d++)u.M[d]=E[d];u.pa();B.behavior.zm.add(k)}else for(k.O=[],e=0,l=w.length;e<l;e++)B=w[e],u=new B.behavior.La(B,k),u.Bc=!1,u.M=a[4][e].slice(0),u.pa(),k.O.push(u),B.behavior.zm.add(k);E=a[5];if(k.Bc)for(e=0,l=E.length;e<l;e++)k.M[e]=E[e];else k.M=E.slice(0);
this.ad.push(k);this.ye=!0;c&&(c.Jg(k,!0),1!==c.Pc||1!==c.Qc)&&(q.ri=!0);this.Ej++;if(q.Jb){if(k.Jb=!0,k.Bc?P(k.siblings):k.siblings=[],!g&&!m){e=0;for(l=q.hc.length;e<l;e++)if(q.hc[e]!==q){if(!q.hc[e].Hc)return null;k.siblings.push(this.te(q.hc[e].Hc,h,!1,v?k.x:f,v?k.y:b,!0))}e=0;for(l=k.siblings.length;e<l;e++)for(k.siblings[e].siblings.push(k),d=0;d<l;d++)e!==d&&k.siblings[e].siblings.push(k.siblings[d])}}else k.Jb=!1,k.siblings=null;k.pa();e=0;for(l=k.O.length;e<l;e++)k.O[e].hv&&k.O[e].hv();return k};
d.prototype.Zi=function(a){var c,g;c=0;for(g=this.la.R.length;c<g;c++){var f=this.la.R[c];if(mb(f.name,a))return f}return null};d.prototype.Pf=function(a){a=C(a);0>a&&(a=0);a>=this.la.R.length&&(a=this.la.R.length-1);return this.la.R[a]};d.prototype.Rt=function(a){return ga(a)?this.Pf(a):this.Zi(a.toString())};d.prototype.bl=function(a){var c,g;c=0;for(g=a.length;c<g;c++)a[c].W().fa=!0};d.prototype.Th=function(a){var c,g;c=0;for(g=a.length;c<g;c++)a[c].Th()};d.prototype.Vj=function(a){var c,g;c=0;
for(g=a.length;c<g;c++)a[c].Vj()};d.prototype.tf=function(a){var c,g;c=0;for(g=a.length;c<g;c++)a[c].tf()};d.prototype.Qq=function(a){if(a.qi){var c,g,f=a.d;c=0;for(g=f.length;c<g;++c)f[c].An();f=this.ad;c=0;for(g=f.length;c<g;++c)f[c].type===a&&f[c].An();a.qi=!1}};d.prototype.Bo=function(a,c,g,f){var b,e,m=a?1!==a.Pc||1!==a.Qc:!1;if(c.K)for(a=0,b=c.ig.length;a<b;++a)e=c.ig[a],m||e.ri?Aa(f,e.d):(this.Qq(e),e.Ci.Xj(g,f));else m||c.ri?Aa(f,c.d):(this.Qq(c),c.Ci.Xj(g,f))};d.prototype.Zt=function(a,c,
g,f){var b,e;b=0;for(e=c.length;b<e;++b)this.Bo(a,c[b],g,f)};d.prototype.Yt=function(a,c,g){var f=this.zq;f&&this.Zt(a,f.Am,c,g)};d.prototype.tk=function(a,c,g){var f=a.W(),b,e,m,l,d=this.gb().Hb.Oc,n,q,k;if(f.fa)for(f.fa=!1,P(f.d),b=0,l=a.d.length;b<l;b++)m=a.d[b],m.qa(),n=m.j.Fb(c,g,!0),q=m.j.Fb(c,g,!1),m.Gb(n,q)?f.d.push(m):d&&f.U.push(m);else{e=0;k=d?f.U:f.d;b=0;for(l=k.length;b<l;b++)m=k[b],m.qa(),n=m.j.Fb(c,g,!0),q=m.j.Fb(c,g,!1),m.Gb(n,q)&&(d?f.d.push(m):(f.d[e]=f.d[b],e++));k.length=e}a.Yc();
return f.Jl()};d.prototype.yf=function(a,c){if(!(a&&c&&a!==c&&a.Ld&&c.Ld))return!1;a.qa();c.qa();var g=a.j,f=c.j,b,m,e,l,d,n,q,k;if(g===f||g.Pc===f.Pc&&f.Qc===f.Qc&&g.scale===f.scale&&g.i===f.i&&g.qd===f.qd){if(!a.ra.uu(c.ra)||!a.Eb.Oo(c.Eb)||a.gi&&c.gi)return!1;if(a.gi)return this.Dq(a,c);if(c.gi)return this.Dq(c,a);q=a.ja&&!a.ja.Vf();b=c.ja&&!c.ja.Vf();if(!q&&!b)return!0;q?(a.ja.Gf(a.width,a.height,a.i),q=a.ja):(this.ld.vg(a.Eb,a.x,a.y,a.width,a.height),q=this.ld);b?(c.ja.Gf(c.width,c.height,c.i),
k=c.ja):(this.ld.vg(c.Eb,c.x,c.y,c.width,c.height),k=this.ld);return q.fh(k,c.x-a.x,c.y-a.y)}q=a.ja&&!a.ja.Vf();b=c.ja&&!c.ja.Vf();q?(a.ja.Gf(a.width,a.height,a.i),this.ld.qq(a.ja)):this.ld.vg(a.Eb,a.x,a.y,a.width,a.height);q=this.ld;b?(c.ja.Gf(c.width,c.height,c.i),this.kn.qq(c.ja)):this.kn.vg(c.Eb,c.x,c.y,c.width,c.height);k=this.kn;b=0;for(m=q.jd;b<m;b++)e=2*b,l=e+1,d=q.$a[e],n=q.$a[l],q.$a[e]=g.Ca(d+a.x,n+a.y,!0),q.$a[l]=g.Ca(d+a.x,n+a.y,!1);q.qa();b=0;for(m=k.jd;b<m;b++)e=2*b,l=e+1,d=k.$a[e],
n=k.$a[l],k.$a[e]=f.Ca(d+c.x,n+c.y,!0),k.$a[l]=f.Ca(d+c.x,n+c.y,!1);k.qa();return q.fh(k,0,0)};var M=new va;new ta(0,0,0,0);var V=[];d.prototype.Dq=function(a,c){var g,f,b,e,m=c.ra,l=a.x,d=a.y;a.ux(m,V);var n=c.ja&&!c.ja.Vf();g=0;for(f=V.length;g<f;++g)if(b=V[g],e=b.Ix,m.vu(e,l,d)&&(M.wg(e),M.offset(l,d),M.Oo(c.Eb)))if(n)if(c.ja.Gf(c.width,c.height,c.i),b.Nm){if(b.Nm.fh(c.ja,c.x-(l+e.left),c.y-(d+e.top)))return P(V),!0}else{if(this.ld.vg(M,0,0,e.right-e.left,e.bottom-e.top),this.ld.fh(c.ja,c.x,c.y))return P(V),
!0}else if(b.Nm){if(this.ld.vg(c.Eb,0,0,c.width,c.height),b.Nm.fh(this.ld,-(l+e.left),-(d+e.top)))return P(V),!0}else return P(V),!0;P(V);return!1};d.prototype.Mq=function(a,c){if(!c)return!1;var g,f,b,e,m;g=0;for(f=a.Fa.length;g<f;g++)if(a.Fa[g].behavior instanceof c)return!0;if(!a.K)for(g=0,f=a.Ba.length;g<f;g++)for(m=a.Ba[g],b=0,e=m.Fa.length;b<e;b++)if(m.Fa[b].behavior instanceof c)return!0;return!1};d.prototype.un=function(a){return this.Mq(a,fc.Iw)};d.prototype.vn=function(a){return this.Mq(a,
fc.Jw)};var O=[];d.prototype.md=function(a){var c,g,f;a.qa();this.Yt(a.j,a.ra,O);c=0;for(g=O.length;c<g;++c)if(f=O[c],f.J.solidEnabled&&this.yf(a,f))return P(O),f;P(O);return null};d.prototype.qv=function(a,c,g,f){f=f||50;var b=a.x,e=a.y,m,l=null,d=null;for(m=0;m<f;m++)if(a.x=b+c*m,a.y=e+g*m,a.F(),!this.yf(a,l)&&((l=this.md(a))&&(d=l),!l&&!l))return d&&this.ov(a,c,g,d),!0;a.x=b;a.y=e;a.F();return!1};d.prototype.ov=function(a,c,g,f){var b=2,e,m=!1;e=!1;for(var l=a.x,d=a.y;16>=b;)e=1/b,b*=2,a.x+=c*
e*(m?1:-1),a.y+=g*e*(m?1:-1),a.F(),this.yf(a,f)?e=m=!0:(e=m=!1,l=a.x,d=a.y);e&&(a.x=l,a.y=d,a.F())};d.prototype.bq=function(a,c){var g=fa(c)?100:c,f=0,b=a.x,e=a.y,m=0,l=0,d=0,n=this.md(a);if(!n)return!0;for(;f<=g;){switch(m){case 0:l=0;d=-1;f++;break;case 1:l=1;d=-1;break;case 2:l=1;d=0;break;case 3:d=l=1;break;case 4:l=0;d=1;break;case 5:l=-1;d=1;break;case 6:l=-1;d=0;break;case 7:d=l=-1}m=(m+1)%8;a.x=C(b+l*f);a.y=C(e+d*f);a.F();if(!this.yf(a,n)&&(n=this.md(a),!n))return!0}a.x=b;a.y=e;a.F();return!1};
d.prototype.Uh=function(a,c){a.Ld&&c.Ld&&this.Vh.push([a,c])};d.prototype.ls=function(a,c){var g,f,b;g=0;for(f=this.Vh.length;g<f;g++)if(b=this.Vh[g],b[0]==a&&b[1]==c||b[0]==c&&b[1]==a)return!0;return!1};d.prototype.hs=function(a,c,g){var f=a.x,b=a.y,e=ma(10,Wa(c,g,f,b)),m=Ma(c,g,f,b),l=this.md(a);if(!l)return Ja(m+oa);var d=l,n,q,k,v,h=T(5);for(n=1;36>n;n++)if(q=m-n*h,a.x=c+Math.cos(q)*e,a.y=g+Math.sin(q)*e,a.F(),!this.yf(a,d)&&(d=this.md(a),!d)){k=q;break}36===n&&(k=Ja(m+oa));d=l;for(n=1;36>n;n++)if(q=
m+n*h,a.x=c+Math.cos(q)*e,a.y=g+Math.sin(q)*e,a.F(),!this.yf(a,d)&&(d=this.md(a),!d)){v=q;break}36===n&&(v=Ja(m+oa));a.x=f;a.y=b;a.F();if(v===k)return v;a=Na(v,k)/2;a=Ua(v,k)?Ja(k+a+oa):Ja(v+a);k=Math.cos(m);m=Math.sin(m);v=Math.cos(a);a=Math.sin(a);c=k*v+m*a;return Ma(0,0,k-2*c*v,m-2*c*a)};var H=-1;d.prototype.trigger=function(a,c,g){if(!this.la)return!1;var f=this.la.Xe;if(!f)return!1;var b=!1,e,m,l;H++;var d=f.il;m=0;for(l=d.length;m<l;++m)e=this.Jq(a,c,d[m],g),b=b||e;e=this.Jq(a,c,f,g);H--;return b||
e};d.prototype.Jq=function(a,c,g,f){var b=!1,e,m,l,d;if(c)for(l=this.sn(a,c,c.type.name,g,f),b=b||l,d=c.type.Ba,e=0,m=d.length;e<m;++e)l=this.sn(a,c,d[e].name,g,f),b=b||l;else l=this.sn(a,c,"system",g,f),b=b||l;return b};d.prototype.sn=function(a,c,g,f,b){var e,m=!1,l=!1,l="undefined"!==typeof b,d=(l?f.qo:f.Kq)[g];if(!d)return m;var n=null;f=0;for(e=d.length;f<e;++f)if(d[f].method==a){n=d[f].Tg;break}if(!n)return m;var q;l?q=n[b]:q=n;if(!q)return null;f=0;for(e=q.length;f<e;f++)a=q[f][0],b=q[f][1],
l=this.Dt(c,g,a,b),m=m||l;return m};d.prototype.Dt=function(a,c,g,f){var b,e,m=!1;this.tn++;var l=this.gb().Hb;l&&this.Th(l.Ke);var d=1<this.tn;this.Th(g.Ke);d&&this.pv();var n=this.Wj(g);n.Hb=g;a&&(b=this.types[c].W(),b.fa=!1,P(b.d),b.d[0]=a,this.types[c].Yc());a=!0;if(g.parent){c=n.Cq;for(b=g.parent;b;)c.push(b),b=b.parent;c.reverse();b=0;for(e=c.length;b<e;b++)if(!c[b].Bv()){a=!1;break}}a&&(this.Ze++,g.Oc?g.Av(f):g.Sa(),m=m||n.jf);this.Rj();d&&this.gv();this.tf(g.Ke);l&&this.tf(l.Ke);this.ye&&
0===this.yc&&0===H&&!this.$l&&this.xb();this.tn--;return m};d.prototype.zl=function(){var a=this.gb();return a.Hb.fb[a.eb]};d.prototype.Mt=function(){var a=this.gb();return a.Hb.Fc[a.Ob]};d.prototype.pv=function(){this.zj++;this.zj>=this.tm.length&&this.tm.push([])};d.prototype.gv=function(){this.zj--};d.prototype.Co=function(){return this.tm[this.zj]};d.prototype.Wj=function(a){this.Ni++;this.Ni>=this.nl.length&&this.nl.push(new Rb);var c=this.gb();c.reset(a);return c};d.prototype.Rj=function(){this.Ni--};
d.prototype.gb=function(){return this.nl[this.Ni]};d.prototype.Do=function(a,c){for(var g,f,b,e,m,l;c;){g=0;for(f=c.Tc.length;g<f;g++)if(l=c.Tc[g],l instanceof Sb&&mb(a,l.name))return l;c=c.parent}g=0;for(f=this.Rd.length;g<f;g++)for(m=this.Rd[g],b=0,e=m.ve.length;b<e;b++)if(l=m.ve[b],l instanceof Sb&&mb(a,l.name))return l;return null};d.prototype.Eo=function(a){var c,g;c=0;for(g=this.dd.length;c<g;c++)if(this.dd[c].X===a)return this.dd[c];return null};d.prototype.bj=function(a){var c,g;c=0;for(g=
this.q.length;c<g;c++)if(this.q[c].X===a)return this.q[c];return null};d.prototype.Ot=function(a){var c,g;c=0;for(g=this.oe.length;c<g;c++)if(this.oe[c].X===a)return this.oe[c];return null};d.prototype.us=function(a,c){this.bi=[a,c];this.ea=!0};d.prototype.nu=function(){var a=this,c=this.$m,g=this.Xd,f=this.tj,e=!1;this.vq&&(e=!0,c="__c2_continuouspreview",this.vq=!1);if(c.length){this.xb();g=this.Fv();if(h()&&!this.Lc)t(c,g,function(){da("Saved state to IndexedDB storage ("+g.length+" bytes)");a.Xd=
g;a.trigger(Y.prototype.n.Mk,null);a.Xd="";e&&b()},function(f){try{localStorage.setItem("__c2save_"+c,g),da("Saved state to WebStorage ("+g.length+" bytes)"),a.Xd=g,a.trigger(Y.prototype.n.Mk,null),a.Xd="",e&&b()}catch(m){da("Failed to save game state: "+f+"; "+m),a.trigger(Y.prototype.n.Kn,null)}});else try{localStorage.setItem("__c2save_"+c,g),da("Saved state to WebStorage ("+g.length+" bytes)"),a.Xd=g,this.trigger(Y.prototype.n.Mk,null),a.Xd="",e&&b()}catch(m){da("Error saving to WebStorage: "+
m),a.trigger(Y.prototype.n.Kn,null)}this.Bb=this.tj=this.$m=""}if(f.length){if(h()&&!this.Lc)r(f,function(c){c?(a.Bb=c,da("Loaded state from IndexedDB storage ("+a.Bb.length+" bytes)")):(a.Bb=localStorage.getItem("__c2save_"+f)||"",da("Loaded state from WebStorage ("+a.Bb.length+" bytes)"));a.di=!1;a.Bb.length||a.trigger(Y.prototype.n.Lk,null)},function(){a.Bb=localStorage.getItem("__c2save_"+f)||"";da("Loaded state from WebStorage ("+a.Bb.length+" bytes)");a.di=!1;a.Bb.length||a.trigger(Y.prototype.n.Lk,
null)});else{try{this.Bb=localStorage.getItem("__c2save_"+f)||"",da("Loaded state from WebStorage ("+this.Bb.length+" bytes)")}catch(l){this.Bb=""}this.di=!1;a.Bb.length||a.trigger(Y.prototype.n.Lk,null)}this.$m=this.tj=""}this.Bb.length&&(this.xb(),this.Hu(this.Bb),this.Xd=this.Bb,this.trigger(Y.prototype.n.Cr,null),this.Bb=this.Xd="")};d.prototype.Fv=function(){var c,g,f,b,e,m,l,d={c2save:!0,version:1,rt:{time:this.ib.Y,walltime:this.he.Y,timescale:this.Bg,tickcount:this.Vc,execcount:this.Ze,next_uid:this.Lh,
running_layout:this.la.X,start_time_offset:Date.now()-this.pk},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(g=this.q.length;c<g;c++)if(e=this.q[c],!e.K&&!this.un(e)){m={instances:[]};Ya(e.J)&&(m.ex=a(e.J));f=0;for(b=e.d.length;f<b;f++)m.instances.push(this.Zm(e.d[f]));d.types[e.X.toString()]=m}c=0;for(g=this.dd.length;c<g;c++)f=this.dd[c],d.layouts[f.X.toString()]=f.Zb();b=d.events.groups;c=0;for(g=this.oe.length;c<g;c++)f=this.oe[c],b[f.X.toString()]=this.dj[f.ah].$g;g=
d.events.cnds;for(l in this.re)this.re.hasOwnProperty(l)&&(c=this.re[l],Ya(c.J)&&(g[l]={ex:a(c.J)}));g=d.events.acts;for(l in this.le)this.le.hasOwnProperty(l)&&(c=this.le[l],Ya(c.J)&&(g[l]={ex:a(c.J)}));g=d.events.vars;for(l in this.Fg)this.Fg.hasOwnProperty(l)&&(c=this.Fg[l],c.mj||c.parent&&!c.qh||(g[l]=c.data));d.system=this.Fd.Zb();return JSON.stringify(d)};d.prototype.cq=function(){var a,c,g,f,b,e;this.$d={};a=0;for(c=this.q.length;a<c;a++)if(g=this.q[a],!g.K)for(f=0,b=g.d.length;f<b;f++)e=g.d[f],
this.$d[e.uid.toString()]=e};d.prototype.Hu=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.jh=!0;var c=a.rt;this.ib.reset();this.ib.Y=c.time;this.he.reset();this.he.Y=c.walltime||0;this.Bg=c.timescale;this.Vc=c.tickcount;this.Ze=c.execcount;this.pk=Date.now()-c.start_time_offset;var g=c.running_layout;if(g!==this.la.X)if(g=this.Eo(g))this.mo(g);else return;var f,b,e,m,l,d,n;d=a.types;for(b in d)if(d.hasOwnProperty(b)&&(m=this.bj(parseInt(b,10)))&&!m.K&&!this.un(m)){d[b].ex?m.J=d[b].ex:
Za(m.J);l=m.d;e=d[b].instances;g=0;for(f=na(l.length,e.length);g<f;g++)this.uj(l[g],e[g]);g=e.length;for(f=l.length;g<f;g++)this.Hd(l[g]);g=l.length;for(f=e.length;g<f;g++){l=null;if(m.xa.Be&&(l=this.la.$i(e[g].w.l),!l))continue;l=this.te(m.Hc,l,!1,0,0,!0);this.uj(l,e[g])}m.zg=!0}this.xb();this.cq();f=a.layouts;for(b in f)f.hasOwnProperty(b)&&(g=this.Eo(parseInt(b,10)))&&g.zc(f[b]);f=a.events.groups;for(b in f)f.hasOwnProperty(b)&&(g=this.Ot(parseInt(b,10)))&&this.dj[g.ah]&&this.dj[g.ah].mq(f[b]);
g=a.events.cnds;for(b in this.re)this.re.hasOwnProperty(b)&&(g.hasOwnProperty(b)?this.re[b].J=g[b].ex:this.re[b].J={});g=a.events.acts;for(b in this.le)this.le.hasOwnProperty(b)&&(g.hasOwnProperty(b)?this.le[b].J=g[b].ex:this.le[b].J={});g=a.events.vars;for(b in g)g.hasOwnProperty(b)&&this.Fg.hasOwnProperty(b)&&(this.Fg[b].data=g[b]);this.Lh=c.next_uid;this.jh=!1;g=0;for(f=this.Ri.length;g<f;++g)l=this.Ri[g],this.trigger(Object.getPrototypeOf(l.type.xa).n.Df,l);P(this.Ri);this.Fd.zc(a.system);g=0;
for(f=this.q.length;g<f;g++)if(m=this.q[g],!m.K&&!this.un(m))for(b=0,a=m.d.length;b<a;b++){l=m.d[b];if(m.Jb)for(d=l.Zg(),P(l.siblings),c=0,e=m.hc.length;c<e;c++)n=m.hc[c],m!==n&&l.siblings.push(n.d[d]);l.me&&l.me();if(l.O)for(c=0,e=l.O.length;c<e;c++)d=l.O[c],d.me&&d.me()}this.ea=!0}};d.prototype.Zm=function(c,g){var f,b,e,m,l;m=c.type;e=m.xa;var d={};g?d.c2=!0:d.uid=c.uid;Ya(c.J)&&(d.ex=a(c.J));if(c.Wa&&c.Wa.length)for(d.ivs={},f=0,b=c.Wa.length;f<b;f++)d.ivs[c.type.Ul[f].toString()]=c.Wa[f];if(e.Be){e=
{x:c.x,y:c.y,w:c.width,h:c.height,l:c.j.X,zi:c.xd()};0!==c.i&&(e.a=c.i);1!==c.opacity&&(e.o=c.opacity);.5!==c.ic&&(e.hX=c.ic);.5!==c.jc&&(e.hY=c.jc);0!==c.yb&&(e.bm=c.yb);c.visible||(e.v=c.visible);c.Ld||(e.ce=c.Ld);-1!==c.Kh&&(e.mts=c.Kh);if(m.P.length)for(e.fx=[],f=0,b=m.P.length;f<b;f++)l=m.P[f],e.fx.push({name:l.name,active:c.ke[l.index],params:c.Ha[l.index]});d.w=e}if(c.O&&c.O.length)for(d.behs={},f=0,b=c.O.length;f<b;f++)m=c.O[f],m.Zb&&(d.behs[m.type.X.toString()]=m.Zb());c.Zb&&(d.data=c.Zb());
return d};d.prototype.Qt=function(a,c){var g,f;g=0;for(f=a.Ul.length;g<f;g++)if(a.Ul[g]===c)return g;return-1};d.prototype.Lt=function(a,c){var g,f;g=0;for(f=a.O.length;g<f;g++)if(a.O[g].type.X===c)return g;return-1};d.prototype.uj=function(a,c,g){var f,b,e,m,l;l=a.type;m=l.xa;if(g){if(!c.c2)return}else a.uid=c.uid;c.ex?a.J=c.ex:Za(a.J);if(b=c.ivs)for(f in b)b.hasOwnProperty(f)&&(e=this.Qt(l,parseInt(f,10)),0>e||e>=a.Wa.length||(a.Wa[e]=b[f]));if(m.Be){e=c.w;a.j.X!==e.l&&(b=a.j,a.j=this.la.$i(e.l),
a.j?(b.sg(a,!0),a.j.Jg(a,!0),a.F(),a.j.Zh(0)):(a.j=b,g||this.Hd(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.pd=e.zi;a.i=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:1;a.ic=e.hasOwnProperty("hX")?e.hX:.5;a.jc=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.Ld=e.hasOwnProperty("ce")?e.ce:!0;a.Kh=e.hasOwnProperty("mts")?e.mts:-1;a.yb=e.hasOwnProperty("bm")?e.bm:0;a.Mg=jb(a.yb);this.A&&kb(a,a.yb,this.A);a.F();if(e.hasOwnProperty("fx"))for(g=0,b=e.fx.length;g<
b;g++)m=l.Bl(e.fx[g].name),0>m||(a.ke[m]=e.fx[g].active,a.Ha[m]=e.fx[g].params);a.od()}if(l=c.behs)for(f in l)l.hasOwnProperty(f)&&(g=this.Lt(a,parseInt(f,10)),0>g||a.O[g].zc(l[f]));c.data&&a.zc(c.data)};d.prototype.ro=function(a,c,g){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(c,g)},g)};d.prototype.uo=function(a,c){this.ro("data.js",function(g){var f=new FileReader;f.onload=function(c){a(c.target.result)};f.onerror=c;f.readAsText(g)},c)};var z=[],
K=0;d.prototype.wm=function(){if(z.length&&!(8<=K)){K++;var a=z.shift();this.ys(a.filename,a.Rv,a.Ws)}};d.prototype.so=function(a,c,g){var f=this;z.push({filename:a,Rv:function(a){K--;f.wm();c(a)},Ws:function(a){K--;f.wm();g(a)}});this.wm()};d.prototype.ys=function(a,c,g){this.ro(a,function(a){var g=new FileReader;g.onload=function(a){c(a.target.result)};g.readAsArrayBuffer(a)},g)};d.prototype.Et=function(a,c,g){this.so(a,function(a){a=URL.createObjectURL(new Blob([a]));c(a)},g)};d.prototype.wu=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||
"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.prototype.nq=function(a,c){this.oh&&!this.wu(c)?this.Et(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};d.prototype.ek=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Tb=function(a){return new d(document.getElementById(a))};Ub=function(a,c){return new d({dc:!0,width:a,height:c})};window.cr_createRuntime=
Tb;window.cr_createDCRuntime=Ub;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Tk=!0;document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new d(document.getElementById("canvas"));
window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,k){var h=window.cr_getC2Runtime();h&&h.us(d,k)};window.cr_sizeCanvas=function(d,k){if(0!==d&&0!==k){var h=window.cr_getC2Runtime();h&&h.setSize(d,k)}};window.cr_setSuspended=function(d){var k=window.cr_getC2Runtime();k&&k.setSuspended(d)};
(function(){function d(a,f){this.b=a;this.Xe=null;this.scrollX=this.b.Za/2;this.scrollY=this.b.Ya/2;this.scale=1;this.i=0;this.Of=!0;this.name=f[0];this.$u=f[1];this.Zu=f[2];this.width=f[1];this.height=f[2];this.Nq=f[3];this.tq=f[4];this.X=f[5];var b=f[6],e,d;this.R=[];this.eh=[];e=0;for(d=b.length;e<d;e++){var n=new Vb(this,b[e]);n.Dp=e;this.R.push(n)}b=f[7];this.ff=[];e=0;for(d=b.length;e<d;e++){var n=b[e],k=this.b.q[n[1]];k.Hc||(k.Hc=n);this.ff.push(n);-1===this.eh.indexOf(k)&&this.eh.push(k)}this.P=
[];this.ca=[];this.be=!0;this.Ha=[];e=0;for(d=f[8].length;e<d;e++)this.P.push({id:f[8][e][0],name:f[8][e][1],Ta:-1,gd:!1,cb:!0,index:e}),this.Ha.push(f[8][e][2].slice(0));this.od();this.rg=new ta(0,0,1,1);this.Tm=new ta(0,0,1,1);this.He={}}function k(a,f){return a.pd-f.pd}function h(a,f){this.Pa=a;this.b=a.b;this.d=[];this.scale=1;this.i=0;this.Pd=!1;this.fe=new ta(0,0,0,0);this.Iq=new va;this.ma=this.ba=this.na=this.ga=0;this.Af=!1;this.ie=-1;this.cl=0;this.name=f[0];this.index=f[1];this.X=f[2];
this.visible=f[3];this.Zc=f[4];this.nd=f[5];this.Pc=f[6];this.Qc=f[7];this.opacity=f[8];this.Vi=f[9];this.Ec=f[10];this.qd=f[11];this.yb=f[12];this.Ss=f[13];this.Mg="source-over";this.zb=this.Cb=0;this.tb=null;this.Yd=p();this.kd=!0;this.eg=new ta(0,0,-1,-1);this.nb=new ta(0,0,-1,-1);this.Ec&&(this.tb=new hb(this.b.Za,this.b.Ya));this.Dd=!1;var b=f[14],e,d;this.Aq=[];this.xc=[];this.Pg=[];e=0;for(d=b.length;e<d;e++){var n=b[e],k=this.b.q[n[1]];k.Hc||(k.Hc=n,k.ts=this.index);this.xc.push(n);-1===this.Pa.eh.indexOf(k)&&
this.Pa.eh.push(k)}za(this.Aq,this.xc);this.P=[];this.ca=[];this.be=!0;this.Ha=[];e=0;for(d=f[15].length;e<d;e++)this.P.push({id:f[15][e][0],name:f[15][e][1],Ta:-1,gd:!1,cb:!0,index:e}),this.Ha.push(f[15][e][2].slice(0));this.od();this.rg=new ta(0,0,1,1);this.Tm=new ta(0,0,1,1)}function p(){return a.length?a.pop():[]}function t(c){P(c);a.push(c)}d.prototype.Ev=function(a){var f=a.type.X.toString();this.He.hasOwnProperty(f)||(this.He[f]=[]);this.He[f].push(this.b.Zm(a))};d.prototype.Ho=function(){var a=
this.R[0];return!a.nd&&1===a.opacity&&!a.Vi&&a.visible};d.prototype.od=function(){P(this.ca);this.be=!0;var a,f,b;a=0;for(f=this.P.length;a<f;a++)b=this.P[a],b.cb&&(this.ca.push(b),b.gd||(this.be=!1))};d.prototype.Al=function(a){var f,b,e;f=0;for(b=this.P.length;f<b;f++)if(e=this.P[f],e.name===a)return e;return null};var r=[],b=!0;d.prototype.hn=function(){this.tq&&(this.Xe=this.b.ol[this.tq],this.Xe.xn());this.b.la=this;this.width=this.$u;this.height=this.Zu;this.scrollX=this.b.Za/2;this.scrollY=
this.b.Ya/2;var a,f,e,l,d,n,h;a=0;for(e=this.b.q.length;a<e;a++)if(f=this.b.q[a],!f.K)for(d=f.d,f=0,l=d.length;f<l;f++)if(n=d[f],n.j){var g=n.j.Dp;g>=this.R.length&&(g=this.R.length-1);n.j=this.R[g];-1===n.j.d.indexOf(n)&&n.j.d.push(n);n.j.Af=!0}if(!b)for(a=0,e=this.R.length;a<e;++a)this.R[a].d.sort(k);P(r);this.es();a=0;for(e=this.R.length;a<e;a++)n=this.R[a],n.rs(),n.Dk();d=!1;if(!this.Of){for(h in this.He)if(this.He.hasOwnProperty(h)&&(f=this.b.bj(parseInt(h,10)))&&!f.K&&this.b.vn(f)){l=this.He[h];
a=0;for(e=l.length;a<e;a++){n=null;if(f.xa.Be&&(n=this.$i(l[a].w.l),!n))continue;n=this.b.te(f.Hc,n,!1,0,0,!0);this.b.uj(n,l[a]);d=!0;r.push(n)}P(l)}a=0;for(e=this.R.length;a<e;a++)this.R[a].d.sort(k),this.R[a].Af=!0}d&&(this.b.xb(),this.b.cq());for(a=0;a<r.length;a++)if(n=r[a],n.type.Jb)for(e=n.Zg(),f=0,l=n.type.hc.length;f<l;f++)h=n.type.hc[f],n.type!==h&&(h.d.length>e?n.siblings.push(h.d[e]):h.Hc&&(d=this.b.te(h.Hc,n.j,!0,n.x,n.y,!0),this.b.xb(),h.Bk(),n.siblings.push(d),r.push(d)));a=0;for(e=
this.ff.length;a<e;a++)this.b.te(this.ff[a],null,!0);this.b.Lg=null;this.b.xb();if(this.b.Ga&&!this.b.Oa)for(a=0,e=this.b.q.length;a<e;a++)h=this.b.q[a],!h.K&&h.d.length&&h.Om&&h.Om(this.b.Ga);if(this.b.jh)za(this.b.Ri,r);else for(a=0,e=r.length;a<e;a++)n=r[a],this.b.trigger(Object.getPrototypeOf(n.type.xa).n.Df,n);P(r);this.b.jh||this.b.trigger(Y.prototype.n.Gn,null);this.Of=!1};d.prototype.qs=function(){var a,f,b,e,d;f=a=0;for(b=this.ff.length;a<b;a++)e=this.ff[a],d=this.b.q[e[1]],d.global?d.Jb||
this.b.te(e,null,!0):(this.ff[f]=e,f++);ya(this.ff,f)};d.prototype.Qv=function(){this.b.jh||this.b.trigger(Y.prototype.n.Br,null);this.b.Xl=!0;P(this.b.Fd.fc);var a,f,e,l,d,n;if(!this.Of)for(a=0,f=this.R.length;a<f;a++)for(this.R[a].zn(),d=this.R[a].d,e=0,l=d.length;e<l;e++)n=d[e],n.type.global||this.b.vn(n.type)&&this.Ev(n);a=0;for(f=this.R.length;a<f;a++){d=this.R[a].d;e=0;for(l=d.length;e<l;e++)n=d[e],n.type.global||this.b.Hd(n);this.b.xb();P(d);this.R[a].Af=!0}a=0;for(f=this.b.q.length;a<f;a++)if(d=
this.b.q[a],!(d.global||d.xa.Be||d.xa.lk||d.K)){e=0;for(l=d.d.length;e<l;e++)this.b.Hd(d.d[e]);this.b.xb()}b=!1;this.b.Xl=!1};new ta(0,0,0,0);d.prototype.Jc=function(a){var f,b=a,e=!1,d=!this.b.uc;d&&(this.b.sj||(this.b.sj=document.createElement("canvas"),f=this.b.sj,f.width=this.b.I,f.height=this.b.H,this.b.cp=f.getContext("2d"),e=!0),f=this.b.sj,b=this.b.cp,f.width!==this.b.I&&(f.width=this.b.I,e=!0),f.height!==this.b.H&&(f.height=this.b.H,e=!0),e&&this.b.ek(b,this.b.Da));b.globalAlpha=1;b.globalCompositeOperation=
"source-over";this.b.Pk&&!this.Ho()&&b.clearRect(0,0,this.b.I,this.b.H);var n,k,e=0;for(n=this.R.length;e<n;e++)k=this.R[e],k.visible&&0<k.opacity&&11!==k.yb&&(k.d.length||!k.nd)?k.Jc(b):k.Dk();d&&a.drawImage(f,0,0,this.b.width,this.b.height)};d.prototype.Kf=function(a){a.lq(!0);this.b.Qa||(this.b.Qa=a.tc(this.b.I,this.b.H,this.b.Da));if(this.b.Qa.Re!==this.b.I||this.b.Qa.Qe!==this.b.H)a.deleteTexture(this.b.Qa),this.b.Qa=a.tc(this.b.I,this.b.H,this.b.Da);a.Sc(this.b.Qa);this.b.uc||a.vf(this.b.I,
this.b.H);var f,b;for(f=this.R.length-1;0<=f;--f)b=this.R[f],b.visible&&1===b.opacity&&b.be&&0===b.yb&&(b.d.length||!b.nd)?b.Kf(a):b.Dk();a.lq(!1)};d.prototype.Tb=function(a){var f=0<this.ca.length||this.b.Dg||!this.b.uc||this.b.ua;if(f){this.b.Qa||(this.b.Qa=a.tc(this.b.I,this.b.H,this.b.Da));if(this.b.Qa.Re!==this.b.I||this.b.Qa.Qe!==this.b.H)a.deleteTexture(this.b.Qa),this.b.Qa=a.tc(this.b.I,this.b.H,this.b.Da);a.Sc(this.b.Qa);this.b.uc||a.vf(this.b.I,this.b.H)}else this.b.Qa&&(a.Sc(null),a.deleteTexture(this.b.Qa),
this.b.Qa=null);this.b.Pk&&!this.Ho()&&a.clear(0,0,0,0);var b,e,d;b=0;for(e=this.R.length;b<e;b++)d=this.R[b],d.visible&&0<d.opacity&&(d.d.length||!d.nd)?d.Tb(a):d.Dk();f&&(0===this.ca.length||1===this.ca.length&&this.b.uc?(1===this.ca.length?(f=this.ca[0].index,a.ac(this.ca[0].Ta),a.ug(null,1/this.b.I,1/this.b.H,0,0,1,1,this.scale,this.i,0,0,this.b.I/2,this.b.H/2,this.b.ib.Y,this.Ha[f]),a.Uj(this.ca[0].Ta)&&(this.b.ea=!0)):a.ac(0),this.b.uc||a.vf(this.b.width,this.b.height),a.Sc(null),a.kq(!1),a.uf(1),
a.pc(this.b.Qa),a.iq(),a.Rc(),a.Dc(),f=this.b.width/2,b=this.b.height/2,a.qg(-f,b,f,b,f,-b,-f,-b),a.pc(null),a.kq(!0)):this.Um(a,null,null,null))};d.prototype.Yg=function(){return 0<this.ca.length||this.b.Dg||!this.b.uc||this.b.ua?this.b.Qa:null};d.prototype.Fo=function(){var a=this.R[0].Vb(),f,b,e;f=1;for(b=this.R.length;f<b;f++)e=this.R[f],(0!==e.Pc||0!==e.Qc)&&e.Vb()<a&&(a=e.Vb());return a};d.prototype.gq=function(a){if(!this.Nq){var f=1/this.Fo()*this.b.I/2;a>this.width-f&&(a=this.width-f);a<
f&&(a=f)}this.scrollX!==a&&(this.scrollX=a,this.b.ea=!0)};d.prototype.hq=function(a){if(!this.Nq){var f=1/this.Fo()*this.b.H/2;a>this.height-f&&(a=this.height-f);a<f&&(a=f)}this.scrollY!==a&&(this.scrollY=a,this.b.ea=!0)};d.prototype.es=function(){this.gq(this.scrollX);this.hq(this.scrollY)};d.prototype.Um=function(a,f,b,e){var d=b?b.ca:f?f.ca:this.ca,n=1,k=0,g=0,m=0,v=this.b.I,h=this.b.H;b?(n=b.j.Vb(),k=b.j.Va(),g=b.j.ga,m=b.j.ba,v=b.j.na,h=b.j.ma):f&&(n=f.Vb(),k=f.Va(),g=f.ga,m=f.ba,v=f.na,h=f.ma);
var u=this.b.xl,p,t,r,w,M=0,V=1,O,H,z=this.b.I,K=this.b.H,x=z/2,A=K/2,F=f?f.rg:this.rg,J=f?f.Tm:this.Tm,L=0,Q=0,I=0,G=0,S=z,ra=z,R=K,ua=K,la=r=0;w=b?b.j.Va():0;if(b){p=0;for(t=d.length;p<t;p++)r+=a.Vt(d[p].Ta),la+=a.Wt(d[p].Ta);G=b.ra;L=f.Ca(G.left,G.top,!0,!0);I=f.Ca(G.left,G.top,!1,!0);S=f.Ca(G.right,G.bottom,!0,!0);R=f.Ca(G.right,G.bottom,!1,!0);0!==w&&(p=f.Ca(G.right,G.top,!0,!0),t=f.Ca(G.right,G.top,!1,!0),Q=f.Ca(G.left,G.bottom,!0,!0),G=f.Ca(G.left,G.bottom,!1,!0),w=Math.min(L,S,p,Q),S=Math.max(L,
S,p,Q),L=w,w=Math.min(I,R,t,G),R=Math.max(I,R,t,G),I=w);L-=r;I-=la;S+=r;R+=la;J.left=L/z;J.top=1-I/K;J.right=S/z;J.bottom=1-R/K;Q=L=C(L);G=I=C(I);ra=S=qa(S);ua=R=qa(R);Q-=r;G-=la;ra+=r;ua+=la;0>L&&(L=0);0>I&&(I=0);S>z&&(S=z);R>K&&(R=K);0>Q&&(Q=0);0>G&&(G=0);ra>z&&(ra=z);ua>K&&(ua=K);F.left=L/z;F.top=1-I/K;F.right=S/z;F.bottom=1-R/K}else F.left=J.left=0,F.top=J.top=0,F.right=J.right=1,F.bottom=J.bottom=1;la=b&&(a.Rh(d[0].Ta)||0!==r||0!==la||1!==b.opacity||b.type.xa.yp)||f&&!b&&1!==f.opacity;a.iq();
if(la){u[M]||(u[M]=a.tc(z,K,this.b.Da));if(u[M].Re!==z||u[M].Qe!==K)a.deleteTexture(u[M]),u[M]=a.tc(z,K,this.b.Da);a.ac(0);a.Sc(u[M]);H=ua-G;a.clearRect(Q,K-G-H,ra-Q,H);b?b.Tb(a):(a.pc(this.b.Xa),a.uf(f.opacity),a.Rc(),a.translate(-x,-A),a.Dc(),a.Ie(L,R,S,R,S,I,L,I,F));J.left=J.top=0;J.right=J.bottom=1;b&&(w=F.top,F.top=F.bottom,F.bottom=w);M=1;V=0}a.uf(1);r=d.length-1;var Da=a.Qm(d[r].Ta)||!f&&!b&&!this.b.uc;p=w=0;for(t=d.length;p<t;p++){u[M]||(u[M]=a.tc(z,K,this.b.Da));if(u[M].Re!==z||u[M].Qe!==
K)a.deleteTexture(u[M]),u[M]=a.tc(z,K,this.b.Da);a.ac(d[p].Ta);w=d[p].index;a.Uj(d[p].Ta)&&(this.b.ea=!0);0!=p||la?(a.ug(e,1/z,1/K,J.left,J.top,J.right,J.bottom,n,k,g,m,(g+v)/2,(m+h)/2,this.b.ib.Y,b?b.Ha[w]:f?f.Ha[w]:this.Ha[w]),a.pc(null),p!==r||Da?(a.Sc(u[M]),H=ua-G,O=K-G-H,a.clearRect(Q,O,ra-Q,H)):(b?a.Je(b.Cb,b.zb):f&&a.Je(f.Cb,f.zb),a.Sc(e)),a.pc(u[V]),a.Rc(),a.translate(-x,-A),a.Dc(),a.Ie(L,R,S,R,S,I,L,I,F),p!==r||Da||a.pc(null)):(a.Sc(u[M]),H=ua-G,O=K-G-H,a.clearRect(Q,O,ra-Q,H),b?(b.mb&&b.mb.za?
(O=b.mb.za,V=1/O.width,O=1/O.height):(V=1/b.width,O=1/b.height),a.ug(e,V,O,J.left,J.top,J.right,J.bottom,n,k,g,m,(g+v)/2,(m+h)/2,this.b.ib.Y,b.Ha[w]),b.Tb(a)):(a.ug(e,1/z,1/K,0,0,1,1,n,k,g,m,(g+v)/2,(m+h)/2,this.b.ib.Y,f?f.Ha[w]:this.Ha[w]),a.pc(f?this.b.Xa:this.b.Qa),a.Rc(),a.translate(-x,-A),a.Dc(),a.Ie(L,R,S,R,S,I,L,I,F)),J.left=J.top=0,J.right=J.bottom=1,b&&!Da&&(w=R,R=I,I=w));M=0===M?1:0;V=0===M?1:0}Da&&(a.ac(0),b?a.Je(b.Cb,b.zb):f?a.Je(f.Cb,f.zb):this.b.uc||(a.vf(this.b.width,this.b.height),
x=this.b.width/2,A=this.b.height/2,I=L=0,S=this.b.width,R=this.b.height),a.Sc(e),a.pc(u[V]),a.Rc(),a.translate(-x,-A),a.Dc(),b&&1===d.length&&!la?a.Ie(L,I,S,I,S,R,L,R,F):a.Ie(L,R,S,R,S,I,L,I,F),a.pc(null))};d.prototype.$i=function(a){var f,b;f=0;for(b=this.R.length;f<b;f++)if(this.R[f].X===a)return this.R[f];return null};d.prototype.Zb=function(){var a,f,b,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.Of,persist:this.He,fx:[],layers:{}};a=0;for(f=this.P.length;a<
f;a++)b=this.P[a],e.fx.push({name:b.name,active:b.cb,params:this.Ha[b.index]});a=0;for(f=this.R.length;a<f;a++)b=this.R[a],e.layers[b.X.toString()]=b.Zb();return e};d.prototype.zc=function(a){var f,b,e,d;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.He=a.persist;"undefined"!==typeof a.fv&&(this.Of=a.fv);var n=a.fx;f=0;for(b=n.length;f<b;f++)if(e=this.Al(n[f].name))e.cb=n[f].active,this.Ha[e.index]=n[f].params;this.od();f=a.layers;for(d in f)f.hasOwnProperty(d)&&
(a=this.$i(parseInt(d,10)))&&a.zc(f[d])};Hb=d;h.prototype.od=function(){P(this.ca);this.be=!0;var a,f,b;a=0;for(f=this.P.length;a<f;a++)b=this.P[a],b.cb&&(this.ca.push(b),b.gd||(this.be=!1))};h.prototype.Al=function(a){var b,e,d;b=0;for(e=this.P.length;b<e;b++)if(d=this.P[b],d.name===a)return d;return null};h.prototype.rs=function(){var a,b,e,d,k,n;b=a=0;for(e=this.xc.length;a<e;a++){d=this.xc[a];k=this.b.q[d[1]];n=this.b.vn(k);k=!0;if(!n||this.Pa.Of){d=this.b.te(d,this,!0);if(!d)continue;r.push(d);
d.type.global&&(k=!1,this.Pg.push(d.uid))}k&&(this.xc[b]=this.xc[a],b++)}this.xc.length=b;this.b.xb();!this.b.u&&this.P.length&&(this.yb=this.Ss);this.Mg=jb(this.yb);this.b.A&&kb(this,this.yb,this.b.A);this.kd=!0};h.prototype.sg=function(a,b){var e=Ba(this.d,a);0>e||(b&&this.Ec&&a.Xb&&a.Xb.right>=a.Xb.left&&(a.qa(),this.tb.update(a,a.Xb,null),a.Xb.set(0,0,-1,-1)),e===this.d.length-1?this.d.pop():(xa(this.d,e),this.Zh(e)),this.kd=!0)};h.prototype.Jg=function(a,b){a.pd=this.d.length;this.d.push(a);
b&&this.Ec&&a.Xb&&a.F();this.kd=!0};h.prototype.lv=function(a){this.d.unshift(a);this.Zh(0)};h.prototype.Nu=function(a,b,e){var d=a.xd();b=b.xd();xa(this.d,d);d<b&&b--;e&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.Zh(d<b?d:b)};h.prototype.Zh=function(a){-1===this.ie?this.ie=a:a<this.ie&&(this.ie=a);this.kd=this.Af=!0};h.prototype.zn=function(){if(this.Af){-1===this.ie&&(this.ie=0);var a,b,e;if(this.Ec)for(a=this.ie,b=this.d.length;a<b;++a)e=this.d[a],e.pd=a,this.tb.Ju(e.Xb);else for(a=
this.ie,b=this.d.length;a<b;++a)this.d[a].pd=a;this.Af=!1;this.ie=-1}};h.prototype.Vb=function(a){return this.St()*(this.b.uc||a?this.b.Kg:1)};h.prototype.St=function(){return(this.scale*this.Pa.scale-1)*this.qd+1};h.prototype.Va=function(){return this.Pd?0:Ja(this.Pa.i+this.i)};var a=[],e=[],u=[];h.prototype.El=function(){this.zn();this.tb.Xj(this.ga,this.ba,this.na,this.ma,u);if(!u.length)return p();if(1===u.length){var a=p();za(a,u[0]);P(u);return a}for(var b=!0;1<u.length;){for(var a=u,d=void 0,
l=void 0,k=void 0,n=void 0,h=void 0,d=0,l=a.length;d<l-1;d+=2){var k=a[d],n=a[d+1],h=p(),g=k,m=n,v=h,D=0,B=0,r=0,W=g.length,y=m.length,w=void 0,M=void 0;for(v.length=W+y;D<W&&B<y;++r)w=g[D],M=m[B],w.pd<M.pd?(v[r]=w,++D):(v[r]=M,++B);for(;D<W;++D,++r)v[r]=g[D];for(;B<y;++B,++r)v[r]=m[B];b||(t(k),t(n));e.push(h)}1===l%2&&(b?(k=p(),za(k,a[l-1]),e.push(k)):e.push(a[l-1]));za(a,e);P(e);b=!1}a=u[0];P(u);return a};h.prototype.Jc=function(a){this.Dd=this.Vi||1!==this.opacity||0!==this.yb;var b=this.b.canvas,
e=a,d=!1;this.Dd&&(this.b.rj||(this.b.rj=document.createElement("canvas"),b=this.b.rj,b.width=this.b.I,b.height=this.b.H,this.b.bp=b.getContext("2d"),d=!0),b=this.b.rj,e=this.b.bp,b.width!==this.b.I&&(b.width=this.b.I,d=!0),b.height!==this.b.H&&(b.height=this.b.H,d=!0),d&&this.b.ek(e,this.b.Da),this.nd&&e.clearRect(0,0,this.b.I,this.b.H));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.nd||(e.fillStyle="rgb("+this.Zc[0]+","+this.Zc[1]+","+this.Zc[2]+")",e.fillRect(0,0,this.b.I,this.b.H));
e.save();this.Pd=!0;var d=this.Fb(0,0,!0,!0),k=this.Fb(0,0,!1,!0);this.Pd=!1;this.b.fd&&(d=Math.round(d),k=Math.round(k));this.$j(d,k,e);var n=this.Vb();e.scale(n,n);e.translate(-d,-k);this.Ec?(this.nb.left=this.tb.Mb(this.ga),this.nb.top=this.tb.Nb(this.ba),this.nb.right=this.tb.Mb(this.na),this.nb.bottom=this.tb.Nb(this.ma),this.kd||!this.nb.Sg(this.eg)?(t(this.Yd),d=this.El(),this.kd=!1,this.eg.Ng(this.nb)):d=this.Yd):d=this.d;for(var h,g=null,k=0,n=d.length;k<n;++k)h=d[k],h!==g&&(this.Ns(h,e),
g=h);this.Ec&&(this.Yd=d);e.restore();this.Dd&&(a.globalCompositeOperation=this.Mg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};h.prototype.Ns=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.qa();var e=a.ra;e.right<this.ga||e.bottom<this.ba||e.left>this.na||e.top>this.ma||(b.globalCompositeOperation=a.Mg,a.Jc(b))}};h.prototype.Dk=function(){this.Pd=!0;var a=this.Fb(0,0,!0,!0),b=this.Fb(0,0,!1,!0);this.Pd=!1;this.b.fd&&(a=Math.round(a),b=Math.round(b));this.$j(a,b,null)};h.prototype.$j=
function(a,b,e){var d=this.Vb();this.ga=a;this.ba=b;this.na=a+1/d*this.b.I;this.ma=b+1/d*this.b.H;this.ga>this.na&&(a=this.ga,this.ga=this.na,this.na=a);this.ba>this.ma&&(a=this.ba,this.ba=this.ma,this.ma=a);a=this.Va();0!==a&&(e&&(e.translate(this.b.I/2,this.b.H/2),e.rotate(-a),e.translate(this.b.I/-2,this.b.H/-2)),this.fe.set(this.ga,this.ba,this.na,this.ma),this.fe.offset((this.ga+this.na)/-2,(this.ba+this.ma)/-2),this.Iq.rq(this.fe,a),this.Iq.$n(this.fe),this.fe.offset((this.ga+this.na)/2,(this.ba+
this.ma)/2),this.ga=this.fe.left,this.ba=this.fe.top,this.na=this.fe.right,this.ma=this.fe.bottom)};h.prototype.Kf=function(a){if(this.Dd=this.Vi){this.b.Xa||(this.b.Xa=a.tc(this.b.I,this.b.H,this.b.Da));if(this.b.Xa.Re!==this.b.I||this.b.Xa.Qe!==this.b.H)a.deleteTexture(this.b.Xa),this.b.Xa=a.tc(this.b.I,this.b.H,this.b.Da);a.Sc(this.b.Xa)}this.Pd=!0;var b=this.Fb(0,0,!0,!0),e=this.Fb(0,0,!1,!0);this.Pd=!1;this.b.fd&&(b=Math.round(b),e=Math.round(e));this.$j(b,e,null);b=this.Vb();a.Rc();a.scale(b,
b);a.ak(-this.Va());a.translate((this.ga+this.na)/-2,(this.ba+this.ma)/-2);a.Dc();this.Ec?(this.nb.left=this.tb.Mb(this.ga),this.nb.top=this.tb.Nb(this.ba),this.nb.right=this.tb.Mb(this.na),this.nb.bottom=this.tb.Nb(this.ma),this.kd||!this.nb.Sg(this.eg)?(t(this.Yd),b=this.El(),this.kd=!1,this.eg.Ng(this.nb)):b=this.Yd):b=this.d;for(var d,k=null,e=b.length-1;0<=e;--e)d=b[e],d!==k&&(this.Ps(b[e],a),k=d);this.Ec&&(this.Yd=b);this.nd||(this.cl=this.b.We++,a.fk(this.cl),a.jq(1,1,1),a.xo(),a.vv())};h.prototype.Tb=
function(a){var b=0,e=0;if(this.Dd=this.Vi||1!==this.opacity||0<this.ca.length||0!==this.yb){this.b.Xa||(this.b.Xa=a.tc(this.b.I,this.b.H,this.b.Da));if(this.b.Xa.Re!==this.b.I||this.b.Xa.Qe!==this.b.H)a.deleteTexture(this.b.Xa),this.b.Xa=a.tc(this.b.I,this.b.H,this.b.Da);a.Sc(this.b.Xa);this.nd&&a.clear(0,0,0,0)}this.nd||(this.b.ua?(a.fk(this.cl),a.jq(this.Zc[0]/255,this.Zc[1]/255,this.Zc[2]/255),a.xo(),a.Kv()):a.clear(this.Zc[0]/255,this.Zc[1]/255,this.Zc[2]/255,1));this.Pd=!0;var d=this.Fb(0,0,
!0,!0),b=this.Fb(0,0,!1,!0);this.Pd=!1;this.b.fd&&(d=Math.round(d),b=Math.round(b));this.$j(d,b,null);d=this.Vb();a.Rc();a.scale(d,d);a.ak(-this.Va());a.translate((this.ga+this.na)/-2,(this.ba+this.ma)/-2);a.Dc();this.Ec?(this.nb.left=this.tb.Mb(this.ga),this.nb.top=this.tb.Nb(this.ba),this.nb.right=this.tb.Mb(this.na),this.nb.bottom=this.tb.Nb(this.ma),this.kd||!this.nb.Sg(this.eg)?(t(this.Yd),b=this.El(),this.kd=!1,this.eg.Ng(this.nb)):b=this.Yd):b=this.d;var k,n,h=null,e=0;for(k=b.length;e<k;++e)n=
b[e],n!==h&&(this.Os(b[e],a),h=n);this.Ec&&(this.Yd=b);this.Dd&&(b=this.ca.length?this.ca[0].Ta:0,e=this.ca.length?this.ca[0].index:0,0===this.ca.length||1===this.ca.length&&!a.Qm(b)&&1===this.opacity?(1===this.ca.length?(a.ac(b),a.ug(this.Pa.Yg(),1/this.b.I,1/this.b.H,0,0,1,1,d,this.Va(),this.ga,this.ba,(this.ga+this.na)/2,(this.ba+this.ma)/2,this.b.ib.Y,this.Ha[e]),a.Uj(b)&&(this.b.ea=!0)):a.ac(0),a.Sc(this.Pa.Yg()),a.uf(this.opacity),a.pc(this.b.Xa),a.Je(this.Cb,this.zb),a.Rc(),a.Dc(),d=this.b.I/
2,b=this.b.H/2,a.qg(-d,b,d,b,d,-b,-d,-b),a.pc(null)):this.Pa.Um(a,this,null,this.Pa.Yg()))};h.prototype.Os=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.qa();var e=a.ra;e.right<this.ga||e.bottom<this.ba||e.left>this.na||e.top>this.ma||(b.fk(a.We),a.Tq?this.Qs(a,b):(b.ac(0),b.Je(a.Cb,a.zb),a.Tb(b)))}};h.prototype.Ps=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.qa();var e=a.ra;e.right<this.ga||e.bottom<this.ba||e.left>this.na||e.top>this.ma||(a.We=this.b.We++,0===a.yb&&1===a.opacity&&
a.be&&a.Kf&&(b.fk(a.We),a.Kf(b)))}};h.prototype.Qs=function(a,b){var e=a.ca[0].Ta,d=a.ca[0].index,k=this.Vb();if(1!==a.ca.length||b.Qm(e)||b.nv(e)||(a.i||a.j.Va())&&b.Rh(e)||1!==a.opacity||a.type.xa.yp)this.Pa.Um(b,this,a,this.Dd?this.b.Xa:this.Pa.Yg()),b.Rc(),b.scale(k,k),b.ak(-this.Va()),b.translate((this.ga+this.na)/-2,(this.ba+this.ma)/-2),b.Dc();else{b.ac(e);b.Je(a.Cb,a.zb);b.Uj(e)&&(this.b.ea=!0);var n=0,h=0,g=0,m=0;b.Rh(e)&&(m=a.ra,n=this.Ca(m.left,m.top,!0,!0),h=this.Ca(m.left,m.top,!1,!0),
g=this.Ca(m.right,m.bottom,!0,!0),m=this.Ca(m.right,m.bottom,!1,!0),n=n/windowWidth,h=1-h/windowHeight,g=g/windowWidth,m=1-m/windowHeight);var v;a.mb&&a.mb.za?(v=a.mb.za,e=1/v.width,v=1/v.height):(e=1/a.width,v=1/a.height);b.ug(this.Dd?this.b.Xa:this.Pa.Yg(),e,v,n,h,g,m,k,this.Va(),this.ga,this.ba,(this.ga+this.na)/2,(this.ba+this.ma)/2,this.b.ib.Y,a.Ha[d]);a.Tb(b)}};h.prototype.Fb=function(a,b,e,d){var k=this.b.devicePixelRatio;this.b.gf&&(a*=k,b*=k);var k=this.b.Tp,n=this.b.Up,k=(this.Pa.scrollX-
k)*this.Pc+k,n=(this.Pa.scrollY-n)*this.Qc+n,h=k,g=n,m=1/this.Vb(!d);d?(h-=this.b.I*m/2,g-=this.b.H*m/2):(h-=this.b.width*m/2,g-=this.b.height*m/2);h+=a*m;g+=b*m;b=this.Va();0!==b&&(h-=k,g-=n,a=Math.cos(b),b=Math.sin(b),d=h*a-g*b,g=g*a+h*b,h=d+k,g+=n);return e?h:g};h.prototype.Ca=function(a,b,e,d){var k=this.b.Tp,n=this.b.Up,h=(this.Pa.scrollX-k)*this.Pc+k,g=(this.Pa.scrollY-n)*this.Qc+n,n=h,k=g,m=this.Va();if(0!==m){a-=h;b-=g;var v=Math.cos(-m),m=Math.sin(-m),u=a*v-b*m;b=b*v+a*m;a=u+h;b+=g}h=1/this.Vb(!d);
d?(n-=this.b.I*h/2,k-=this.b.H*h/2):(n-=this.b.width*h/2,k-=this.b.height*h/2);n=(a-n)/h;k=(b-k)/h;a=this.b.devicePixelRatio;this.b.gf&&!d&&(n/=a,k/=a);return e?n:k};h.prototype.Zb=function(){var a,b,e,d={s:this.scale,a:this.i,vl:this.ga,vt:this.ba,vr:this.na,vb:this.ma,v:this.visible,bc:this.Zc,t:this.nd,px:this.Pc,py:this.Qc,o:this.opacity,zr:this.qd,fx:[],cg:this.Pg,instances:[]};a=0;for(b=this.P.length;a<b;a++)e=this.P[a],d.fx.push({name:e.name,active:e.cb,params:this.Ha[e.index]});return d};
h.prototype.zc=function(a){var b,e,d;this.scale=a.s;this.i=a.a;this.ga=a.vl;this.ba=a.vt;this.na=a.vr;this.ma=a.vb;this.visible=a.v;this.Zc=a.bc;this.nd=a.t;this.Pc=a.px;this.Qc=a.py;this.opacity=a.o;this.qd=a.zr;this.Pg=a.cg||[];za(this.xc,this.Aq);var h=new ba;b=0;for(d=this.Pg.length;b<d;++b)h.add(this.Pg[b]);e=b=0;for(d=this.xc.length;b<d;++b)h.contains(this.xc[b][2])||(this.xc[e]=this.xc[b],++e);ya(this.xc,e);e=a.fx;b=0;for(d=e.length;b<d;b++)if(a=this.Al(e[b].name))a.cb=e[b].active,this.Ha[a.index]=
e[b].params;this.od();this.d.sort(k);this.Af=!0};Vb=h})();
(function(){function d(a,b){var c,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<e;c++)if(a[c]!==b[c])return!1;return!0}}function k(a,b){return a.index-b.index}function h(a){var b,c,e,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(k);a.length>=E.length&&(E.length=a.length+1);E[a.length]||(E[a.length]=[]);f=E[a.length];b=0;for(c=f.length;b<c;b++)if(e=f[b],d(a,e))return e;f.push(a);return a}
function p(a,b){this.b=a;this.Kq={};this.qo={};this.Kl=!1;this.Jo=new ba;this.il=[];this.Qk=[];this.name=b[0];var c=b[1];this.ve=[];var e,f;e=0;for(f=c.length;e<f;e++)this.Lo(c[e],null,this.ve)}function t(a){this.type=a;this.d=[];this.U=[];this.fa=!0}function r(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ta=[];this.Ke=[];this.Io=this.xk=this.rn=this.ij=this.group=this.yq=!1;this.fb=[];this.Fc=[];this.Tc=[];this.ah="";this.$g=this.ij=this.group=!1;this.Di=null;c[1]&&(this.ah=c[1][1].toLowerCase(),
this.group=!0,this.ij=!!c[1][0],this.Di=[],this.$g=this.ij,this.b.oe.push(this),this.b.dj[this.ah]=this);this.Oc=c[2];this.X=c[4];this.group||(this.b.Zn[this.X.toString()]=this);var e=c[5];a=0;for(b=e.length;a<b;a++){var f=new Wb(this,e[a]);f.index=a;this.fb.push(f);this.Un(f.type)}e=c[6];a=0;for(b=e.length;a<b;a++)f=new Xb(this,e[a]),f.index=a,this.Fc.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Lo(c[a],this,this.Tc);this.nj=!1;this.fb.length&&(this.nj=null==this.fb[0].type&&
this.fb[0].pb==Y.prototype.n.fr)}function b(a,b){var c,e,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Jb))for(c=0,e=a.hc.length;c<e;c++)f=a.hc[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function a(a,b){this.rc=a;this.sheet=a.sheet;this.b=a.b;this.T=[];this.Ia=[];this.J={};this.index=-1;this.Hg=!1;this.pb=this.b.je(b[1]);this.trigger=0<b[3];this.po=2===b[3];this.zd=b[4];this.Vl=b[5];this.Gu=b[6];this.X=b[7];this.b.re[this.X.toString()]=this;-1===b[0]?(this.type=null,this.Sa=this.Ym,this.Pe=null,this.$c=-1):
(this.type=this.b.q[b[0]],this.Sa=this.Gu?this.Cv:this.Xm,b[2]?(this.Pe=this.type.Yi(b[2]),this.$c=this.type.yl(b[2])):(this.Pe=null,this.$c=-1),this.rc.parent&&this.rc.parent.gk());this.po&&(this.Sa=this.Dv);if(10===b.length){var c,e,f=b[9];c=0;for(e=f.length;c<e;c++){var d=new Yb(this,f[c]);this.T.push(d)}this.Ia.length=f.length}}function e(a,b){this.rc=a;this.sheet=a.sheet;this.b=a.b;this.T=[];this.Ia=[];this.J={};this.index=-1;this.Hg=!1;this.pb=this.b.je(b[1]);-1===b[0]?(this.type=null,this.Sa=
this.Ym,this.Pe=null,this.$c=-1):(this.type=this.b.q[b[0]],this.Sa=this.Xm,b[2]?(this.Pe=this.type.Yi(b[2]),this.$c=this.type.yl(b[2])):(this.Pe=null,this.$c=-1));this.X=b[3];this.b.le[this.X.toString()]=this;if(6===b.length){var c,e,f=b[5];c=0;for(e=f.length;c<e;c++){var d=new Yb(this,f[c]);this.T.push(d)}this.Ia.length=f.length}}function u(){N++;n.length===N&&n.push(new Zb);return n[N]}function c(a,b){this.wa=a;this.rc=a.rc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.vd=null;this.de=0;this.get=
null;this.fo=0;this.Pa=null;this.key=0;this.object=null;this.index=0;this.ji=this.xf=this.ji=this.xf=this.vo=this.Ye=this.ki=null;this.Wc=!1;var c,e,f;switch(b[0]){case 0:case 7:this.vd=new $b(this,b[1]);this.de=0;this.get=this.cu;break;case 1:this.vd=new $b(this,b[1]);this.de=0;this.get=this.du;break;case 5:this.vd=new $b(this,b[1]);this.de=0;this.get=this.hu;break;case 3:case 8:this.fo=b[1];this.get=this.au;break;case 6:this.Pa=this.b.mm[b[1]];this.get=this.iu;break;case 9:this.key=b[1];this.get=
this.gu;break;case 4:this.object=this.b.q[b[1]];this.get=this.ju;this.rc.Un(this.object);this.wa instanceof Xb?this.rc.gk():this.rc.parent&&this.rc.parent.gk();break;case 10:this.index=b[1];a.type&&a.type.K?(this.get=this.eu,this.Wc=!0):this.get=this.fu;break;case 11:this.ki=b[1];this.Ye=null;this.get=this.bu;break;case 2:case 12:this.vo=b[1];this.get=this.$t;break;case 13:for(this.get=this.ku,this.xf=[],this.ji=[],c=1,e=b.length;c<e;c++)f=new Yb(this.wa,b[c]),this.xf.push(f),this.ji.push(0)}}function f(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ta=[];this.name=c[1];this.Fk=c[2];this.Pl=c[3];this.qh=!!c[4];this.mj=!!c[5];this.X=c[6];this.b.Fg[this.X.toString()]=this;this.data=this.Pl;this.parent?(this.pf=this.qh||this.mj?-1:this.b.Ov++,this.b.$r.push(this)):(this.pf=-1,this.b.Zr.push(this))}function q(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ta=[];this.dh=null;this.ru=c[1];this.cb=!0}function l(){this.Cq=[];this.reset(null)}var E=[];p.prototype.toString=function(){return this.name};
p.prototype.Lo=function(a,b,c){switch(a[0]){case 0:a=new ac(this,b,a);if(a.Oc)for(c.push(a),c=0,b=a.fb.length;c<b;c++)a.fb[c].trigger&&this.Mo(a,c);else a.Vo()?this.Mo(a,0):c.push(a);break;case 1:a=new Sb(this,b,a);c.push(a);break;case 2:a=new bc(this,b,a),c.push(a)}};p.prototype.Ma=function(){var a,b;a=0;for(b=this.ve.length;a<b;a++)this.ve[a].Ma(a<b-1&&this.ve[a+1].nj)};p.prototype.xn=function(){P(this.il);P(this.Qk);this.Sn(this);P(this.Qk)};p.prototype.Sn=function(a){var b,c,e,f,d=a.il,l=a.Qk,
n=this.Jo.Me();b=0;for(c=n.length;b<c;++b)e=n[b],f=e.dh,!e.cb||a===f||-1<l.indexOf(f)||(l.push(f),f.Sn(a),d.push(f))};p.prototype.Sa=function(a){this.b.Jx||(this.Kl=!0,a||(this.b.$l=!0));var b,c;b=0;for(c=this.ve.length;b<c;b++){var e=this.ve[b];e.Sa();this.b.bl(e.ta);this.b.ye&&this.b.xb()}a||(this.b.$l=!1)};p.prototype.Mo=function(a,b){a.Oc||this.b.Ak.push(a);var c,e,f=a.fb[b],d;f.type?d=f.type.name:d="system";var l=(c=f.po)?this.qo:this.Kq;l[d]||(l[d]=[]);d=l[d];l=f.pb;if(c){if(f.T.length&&(f=
f.T[0],1===f.type&&2===f.vd.type)){f=f.vd.value.toLowerCase();c=0;for(e=d.length;c<e;c++)if(d[c].method==l){c=d[c].Tg;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];d.push({method:l,Tg:c})}}else{c=0;for(e=d.length;c<e;c++)if(d[c].method==l){d[c].Tg.push([a,b]);return}oc&&l===oc.prototype.n.Ef?d.unshift({method:l,Tg:[[a,b]]}):d.push({method:l,Tg:[[a,b]]})}};Ib=p;t.prototype.Jl=function(){return this.fa?this.type.d.length:this.d.length};t.prototype.wc=function(){return this.fa?this.type.d:
this.d};t.prototype.Qh=function(a){a&&(a.b.gb().Hb.Oc?(this.fa&&(P(this.d),za(this.U,a.type.d),this.fa=!1),a=this.U.indexOf(a),-1!==a&&(this.d.push(this.U[a]),this.U.splice(a,1))):(this.fa=!1,P(this.d),this.d[0]=a))};qb=t;window._c2hh_="C6CEBB0DE8B066FFBA235869A28EB0F306220539";r.prototype.Ma=function(a){var b,c=this.parent;if(this.group)for(this.xk=!0;c;){if(!c.group){this.xk=!1;break}c=c.parent}this.rn=!this.Vo()&&(!this.parent||this.parent.group&&this.parent.xk);this.Io=!!a;this.Ke=this.ta.slice(0);
for(c=this.parent;c;){a=0;for(b=c.ta.length;a<b;a++)this.Wr(c.ta[a]);c=c.parent}this.ta=h(this.ta);this.Ke=h(this.Ke);a=0;for(b=this.fb.length;a<b;a++)this.fb[a].Ma();a=0;for(b=this.Fc.length;a<b;a++)this.Fc[a].Ma();a=0;for(b=this.Tc.length;a<b;a++)this.Tc[a].Ma(a<b-1&&this.Tc[a+1].nj)};r.prototype.mq=function(a){if(this.$g!==!!a){this.$g=!!a;var b;a=0;for(b=this.Di.length;a<b;++a)this.Di[a].Pq();0<b&&this.b.la.Xe&&this.b.la.Xe.xn()}};r.prototype.Un=function(a){b(a,this.ta)};r.prototype.Wr=function(a){b(a,
this.Ke)};r.prototype.gk=function(){this.yq=!0;this.parent&&this.parent.gk()};r.prototype.Vo=function(){return this.fb.length?this.fb[0].trigger:!1};r.prototype.Sa=function(){var a,b,c=!1,e=this.b,f=this.b.gb();f.Hb=this;var d=this.fb;this.nj||(f.ml=!1);if(this.Oc){0===d.length&&(c=!0);f.eb=0;for(a=d.length;f.eb<a;f.eb++)b=d[f.eb],b.trigger||(b=b.Sa())&&(c=!0);(f.jf=c)&&this.bk()}else{f.eb=0;for(a=d.length;f.eb<a;f.eb++)if(b=d[f.eb].Sa(),!b){f.jf=!1;this.rn&&e.ye&&e.xb();return}f.jf=!0;this.bk()}this.Us(f)};
r.prototype.Us=function(a){a.jf&&this.Io&&(a.ml=!0);this.rn&&this.b.ye&&this.b.xb()};r.prototype.Av=function(a){this.b.gb().Hb=this;this.fb[a].Sa()&&(this.bk(),this.b.gb().jf=!0)};r.prototype.bk=function(){var a=this.b.gb(),b;a.Ob=0;for(b=this.Fc.length;a.Ob<b;a.Ob++)if(this.Fc[a.Ob].Sa())return;this.fq()};r.prototype.xv=function(){var a=this.b.gb(),b;for(b=this.Fc.length;a.Ob<b;a.Ob++)if(this.Fc[a.Ob].Sa())return;this.fq()};r.prototype.fq=function(){if(this.Tc.length){var a,b,c,e,f=this.Tc.length-
1;this.b.Wj(this);if(this.yq)for(a=0,b=this.Tc.length;a<b;a++)c=this.Tc[a],(e=!this.xk||!this.group&&a<f)&&this.b.Vj(c.ta),c.Sa(),e?this.b.tf(c.ta):this.b.bl(c.ta);else for(a=0,b=this.Tc.length;a<b;a++)this.Tc[a].Sa();this.b.Rj()}};r.prototype.Bv=function(){var a=this.b.gb();a.Hb=this;var b=!1,c;a.eb=0;for(c=this.fb.length;a.eb<c;a.eb++)if(this.fb[a.eb].Sa())b=!0;else if(!this.Oc)return!1;return this.Oc?b:!0};r.prototype.yv=function(){this.b.Ze++;var a=this.b.gb().eb,b=this.b.Wj(this);if(!this.Oc)for(b.eb=
a+1,a=this.fb.length;b.eb<a;b.eb++)if(!this.fb[b.eb].Sa()){this.b.Rj();return}this.bk();this.b.Rj()};r.prototype.zu=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.fb[b].type===a.type)return!1;return!0};ac=r;a.prototype.Ma=function(){var a,b,c;a=0;for(b=this.T.length;a<b;a++)c=this.T[a],c.Ma(),c.Wc&&(this.Hg=!0)};a.prototype.Dv=function(){return!0};a.prototype.Ym=function(){var a,b;a=0;for(b=this.T.length;a<b;a++)this.Ia[a]=this.T[a].get();return Xa(this.pb.apply(this.b.Fd,this.Ia),
this.Vl)};a.prototype.Cv=function(){var a,b;a=0;for(b=this.T.length;a<b;a++)this.Ia[a]=this.T[a].get();a=this.pb.apply(this.Pe?this.Pe:this.type,this.Ia);this.type.Yc();return a};a.prototype.Xm=function(){var a,b,c,e,f,d,l,n,k=this.type,h=k.W(),u=this.rc.Oc&&!this.trigger;b=0;var p=k.Jb,t=k.K,q=k.Sd,r=this.$c,E=-1<r,N=this.Hg,F=this.T,J=this.Ia,L=this.Vl,Q=this.pb,I;if(N)for(b=0,f=F.length;b<f;++b)d=F[b],d.Wc||(J[b]=d.get(0));else for(b=0,f=F.length;b<f;++b)J[b]=F[b].get(0);if(h.fa){P(h.d);P(h.U);
I=k.d;a=0;for(e=I.length;a<e;++a){n=I[a];if(N)for(b=0,f=F.length;b<f;++b)d=F[b],d.Wc&&(J[b]=d.get(a));E?(b=0,t&&(b=n.type.Nf[q]),b=Q.apply(n.O[r+b],J)):b=Q.apply(n,J);(l=Xa(b,L))?h.d.push(n):u&&h.U.push(n)}k.finish&&k.finish(!0);h.fa=!1;k.Yc();return h.Jl()}c=0;I=(l=u&&!this.rc.zu(this))?h.U:h.d;var G=!1;a=0;for(e=I.length;a<e;++a){n=I[a];if(N)for(b=0,f=F.length;b<f;++b)d=F[b],d.Wc&&(J[b]=d.get(a));E?(b=0,t&&(b=n.type.Nf[q]),b=Q.apply(n.O[r+b],J)):b=Q.apply(n,J);if(Xa(b,L))if(G=!0,l){if(h.d.push(n),
p)for(b=0,f=n.siblings.length;b<f;b++)d=n.siblings[b],d.type.W().d.push(d)}else{I[c]=n;if(p)for(b=0,f=n.siblings.length;b<f;b++)d=n.siblings[b],d.type.W().d[c]=d;c++}else if(l){I[c]=n;if(p)for(b=0,f=n.siblings.length;b<f;b++)d=n.siblings[b],d.type.W().U[c]=d;c++}else if(u&&(h.U.push(n),p))for(b=0,f=n.siblings.length;b<f;b++)d=n.siblings[b],d.type.W().U.push(d)}ya(I,c);if(p)for(t=k.hc,a=0,e=t.length;a<e;a++)n=t[a].W(),l?ya(n.U,c):ya(n.d,c);c=G;if(l&&!G)for(a=0,e=h.d.length;a<e;a++){n=h.d[a];if(N)for(b=
0,f=F.length;b<f;b++)d=F[b],d.Wc&&(J[b]=d.get(a));b=E?Q.apply(n.O[r],J):Q.apply(n,J);if(Xa(b,L)){G=!0;break}}k.finish&&k.finish(c||u);return u?G:h.Jl()};Wb=a;e.prototype.Ma=function(){var a,b,c;a=0;for(b=this.T.length;a<b;a++)c=this.T[a],c.Ma(),c.Wc&&(this.Hg=!0)};e.prototype.Ym=function(){var a=this.b,b,c,e=this.T,f=this.Ia;b=0;for(c=e.length;b<c;++b)f[b]=e[b].get();return this.pb.apply(a.Fd,f)};e.prototype.Xm=function(){var a=this.type,b=this.$c,c=a.Sd,e=this.Hg,f=this.T,d=this.Ia,l=this.pb,n=a.W().wc(),
a=a.K,k=-1<b,h,u,p,t,q,r;if(e)for(u=0,t=f.length;u<t;++u)q=f[u],q.Wc||(d[u]=q.get(0));else for(u=0,t=f.length;u<t;++u)d[u]=f[u].get(0);h=0;for(p=n.length;h<p;++h){r=n[h];if(e)for(u=0,t=f.length;u<t;++u)q=f[u],q.Wc&&(d[u]=q.get(h));k?(u=0,a&&(u=r.type.Nf[c]),l.apply(r.O[b+u],d)):l.apply(r,d)}return!1};Xb=e;var n=[],N=-1;c.prototype.Ma=function(){var a,b;if(11===this.type)this.Ye=this.b.Do(this.ki,this.rc.parent);else if(13===this.type)for(a=0,b=this.xf.length;a<b;a++)this.xf[a].Ma();this.vd&&this.vd.Ma()};
c.prototype.Lu=function(a){this.Wc||!a||a.xa.lk||(this.Wc=!0)};c.prototype.pq=function(){this.Wc=!0};c.prototype.cu=function(a){this.de=a||0;a=u();this.vd.get(a);N--;return a.data};c.prototype.du=function(a){this.de=a||0;a=u();this.vd.get(a);N--;return ha(a.data)?a.data:""};c.prototype.ju=function(){return this.object};c.prototype.au=function(){return this.fo};c.prototype.hu=function(a){this.de=a||0;a=u();this.vd.get(a);N--;return a.hb()?this.b.Pf(a.data):this.b.Zi(a.data)};c.prototype.iu=function(){return this.Pa};
c.prototype.gu=function(){return this.key};c.prototype.fu=function(){return this.index};c.prototype.eu=function(a){a=a||0;var b=this.wa.type,c=null,c=b.W(),e=c.wc();if(e.length)c=e[a%e.length].type;else if(c.U.length)c=c.U[a%c.U.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;else return 0;return this.index+c.Pi[b.Sd]};c.prototype.bu=function(){return this.Ye};c.prototype.$t=function(){return this.vo};c.prototype.ku=function(){var a,b;a=0;for(b=this.xf.length;a<b;a++)this.ji[a]=this.xf[a].get();
return this.ji};Yb=c;f.prototype.Ma=function(){this.ta=h(this.ta)};f.prototype.wf=function(a){var b=this.b.Co();this.parent&&!this.qh&&b?(this.pf>=b.length&&(b.length=this.pf+1),b[this.pf]=a):this.data=a};f.prototype.cj=function(){var a=this.b.Co();return!this.parent||this.qh||!a||this.mj?this.data:this.pf>=a.length||"undefined"===typeof a[this.pf]?this.Pl:a[this.pf]};f.prototype.Sa=function(){!this.parent||this.qh||this.mj||this.wf(this.Pl)};Sb=f;q.prototype.toString=function(){return"include:"+
this.dh.toString()};q.prototype.Ma=function(){this.dh=this.b.ol[this.ru];this.sheet.Jo.add(this);this.ta=h(this.ta);for(var a=this.parent;a;)a.group&&a.Di.push(this),a=a.parent;this.Pq()};q.prototype.Sa=function(){this.parent&&this.b.Th(this.b.q);this.dh.Kl||this.dh.Sa(!0);this.parent&&this.b.tf(this.b.q)};q.prototype.Pq=function(){for(var a=this.parent;a;){if(a.group&&!a.$g){this.cb=!1;return}a=a.parent}this.cb=!0};bc=q;l.prototype.reset=function(a){this.Hb=a;this.Ob=this.eb=0;P(this.Cq);this.ml=
this.jf=!1};Rb=l})();
(function(){function d(b,a){this.wa=b;this.b=b.b;this.type=a[0];this.get=[this.nt,this.jt,this.zt,this.Ct,this.Xs,this.At,this.tt,this.gt,this.qt,this.yt,this.Ys,this.xt,this.ht,this.ut,this.ot,this.pt,this.kt,this.lt,this.et,this.Bt,this.wt,this.mt,this.dt,this.it][this.type];var e=null;this.Zd=this.T=this.Ia=this.pb=this.vk=this.second=this.first=this.value=null;this.$c=-1;this.bd=null;this.Uq=-1;this.Ye=this.ki=null;this.tg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new $b(b,a[1]);break;case 18:this.first=new $b(b,a[1]);this.second=new $b(b,a[2]);this.vk=new $b(b,a[3]);break;case 19:this.pb=this.b.je(a[1]);this.pb!==Y.prototype.ob.random&&this.pb!==Y.prototype.ob.ms||this.wa.pq();this.Ia=[];this.T=[];3===a.length?(e=a[2],this.Ia.length=e.length+1):this.Ia.length=1;break;case 20:this.Zd=this.b.q[a[1]];this.$c=-1;this.pb=this.b.je(a[2]);this.tg=a[3];ec.Function&&this.pb===ec.Function.prototype.ob.kw&&this.wa.pq();a[4]?this.bd=new $b(b,a[4]):this.bd=null;this.Ia=
[];this.T=[];6===a.length?(e=a[5],this.Ia.length=e.length+1):this.Ia.length=1;break;case 21:this.Zd=this.b.q[a[1]];this.tg=a[2];a[3]?this.bd=new $b(b,a[3]):this.bd=null;this.Uq=a[4];break;case 22:this.Zd=this.b.q[a[1]];this.Zd.Yi(a[2]);this.$c=this.Zd.yl(a[2]);this.pb=this.b.je(a[3]);this.tg=a[4];a[5]?this.bd=new $b(b,a[5]):this.bd=null;this.Ia=[];this.T=[];7===a.length?(e=a[6],this.Ia.length=e.length+1):this.Ia.length=1;break;case 23:this.ki=a[1],this.Ye=null}this.wa.Lu(this.Zd);4<=this.type&&17>=
this.type&&(this.first=new $b(b,a[1]),this.second=new $b(b,a[2]));if(e){var d,c;d=0;for(c=e.length;d<c;d++)this.T.push(new $b(b,e[d]))}}function k(){++r;t.length===r&&t.push(new Zb);return t[r]}function h(b,a,e){var d,c;d=0;for(c=b.length;d<c;++d)b[d].get(e),a[d+1]=e.data}function p(b,a){this.type=b||cc.Cf;this.data=a||0;this.rf=null;this.type==cc.Cf&&(this.data=Math.floor(this.data))}d.prototype.Ma=function(){23===this.type&&(this.Ye=this.wa.b.Do(this.ki,this.wa.rc.parent));this.first&&this.first.Ma();
this.second&&this.second.Ma();this.vk&&this.vk.Ma();this.bd&&this.bd.Ma();if(this.T){var b,a;b=0;for(a=this.T.length;b<a;b++)this.T[b].Ma()}};var t=[],r=-1;d.prototype.Bt=function(b){var a=this.T,e=this.Ia;e[0]=b;b=k();h(a,e,b);--r;this.pb.apply(this.b.Fd,e)};d.prototype.wt=function(b){var a=this.Zd,e=this.Ia,d=this.T,c=this.bd,f=this.pb,p=this.wa.de,l=a.W(),t=l.wc();if(!t.length)if(l.U.length)t=l.U;else{this.tg?b.qc(""):b.ya(0);return}e[0]=b;b.rf=a;b=k();h(d,e,b);c&&(c.get(b),b.hb()&&(p=b.data,t=
a.d));--r;a=t.length;if(p>=a||p<=-a)p%=a;0>p&&(p+=a);f.apply(t[p],e)};d.prototype.dt=function(b){var a=this.Zd,e=this.Ia,d=this.T,c=this.bd,f=this.$c,p=this.pb,l=this.wa.de,t=a.W(),n=t.wc();if(!n.length)if(t.U.length)n=t.U;else{this.tg?b.qc(""):b.ya(0);return}e[0]=b;b.rf=a;b=k();h(d,e,b);c&&(c.get(b),b.hb()&&(l=b.data,n=a.d));--r;d=n.length;if(l>=d||l<=-d)l%=d;0>l&&(l+=d);l=n[l];n=0;a.K&&(n=l.type.Nf[a.Sd]);p.apply(l.O[f+n],e)};d.prototype.mt=function(b){var a=this.bd,e=this.Zd,d=this.Uq,c=this.wa.de,
f=e.W(),h=f.wc();if(!h.length)if(f.U.length)h=f.U;else{this.tg?b.qc(""):b.ya(0);return}if(a){f=k();a.get(f);if(f.hb()){c=f.data;h=e.d;0!==h.length&&(c%=h.length,0>c&&(c+=h.length));c=e.Cl(c);e=c.Wa[d];ha(e)?b.qc(e):b.G(e);--r;return}--r}a=h.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=h[c];h=0;e.K&&(h=c.type.Pi[e.Sd]);e=c.Wa[d+h];ha(e)?b.qc(e):b.G(e)};d.prototype.nt=function(b){b.type=cc.Cf;b.data=this.value};d.prototype.jt=function(b){b.type=cc.Bf;b.data=this.value};d.prototype.zt=function(b){b.type=
cc.String;b.data=this.value};d.prototype.Ct=function(b){this.first.get(b);b.hb()&&(b.data=-b.data)};d.prototype.Xs=function(b){this.first.get(b);var a=k();this.second.get(a);b.hb()&&a.hb()&&(b.data+=a.data,a.Wf()&&b.hg());--r};d.prototype.At=function(b){this.first.get(b);var a=k();this.second.get(a);b.hb()&&a.hb()&&(b.data-=a.data,a.Wf()&&b.hg());--r};d.prototype.tt=function(b){this.first.get(b);var a=k();this.second.get(a);b.hb()&&a.hb()&&(b.data*=a.data,a.Wf()&&b.hg());--r};d.prototype.gt=function(b){this.first.get(b);
var a=k();this.second.get(a);b.hb()&&a.hb()&&(b.data/=a.data,b.hg());--r};d.prototype.qt=function(b){this.first.get(b);var a=k();this.second.get(a);b.hb()&&a.hb()&&(b.data%=a.data,a.Wf()&&b.hg());--r};d.prototype.yt=function(b){this.first.get(b);var a=k();this.second.get(a);b.hb()&&a.hb()&&(b.data=Math.pow(b.data,a.data),a.Wf()&&b.hg());--r};d.prototype.Ys=function(b){this.first.get(b);var a=k();this.second.get(a);a.Zf()||b.Zf()?this.$s(b,a):this.Zs(b,a);--r};d.prototype.$s=function(b,a){b.Zf()&&
a.Zf()?this.ct(b,a):this.bt(b,a)};d.prototype.ct=function(b,a){b.data+=a.data};d.prototype.bt=function(b,a){b.Zf()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.qc(b.data.toString()+a.data)};d.prototype.Zs=function(b,a){b.ya(b.data&&a.data?1:0)};d.prototype.xt=function(b){this.first.get(b);var a=k();this.second.get(a);b.hb()&&a.hb()&&(b.data||a.data?b.ya(1):b.ya(0));--r};d.prototype.et=function(b){this.first.get(b);b.data?this.second.get(b):this.vk.get(b)};d.prototype.ht=function(b){this.first.get(b);
var a=k();this.second.get(a);b.ya(b.data===a.data?1:0);--r};d.prototype.ut=function(b){this.first.get(b);var a=k();this.second.get(a);b.ya(b.data!==a.data?1:0);--r};d.prototype.ot=function(b){this.first.get(b);var a=k();this.second.get(a);b.ya(b.data<a.data?1:0);--r};d.prototype.pt=function(b){this.first.get(b);var a=k();this.second.get(a);b.ya(b.data<=a.data?1:0);--r};d.prototype.kt=function(b){this.first.get(b);var a=k();this.second.get(a);b.ya(b.data>a.data?1:0);--r};d.prototype.lt=function(b){this.first.get(b);
var a=k();this.second.get(a);b.ya(b.data>=a.data?1:0);--r};d.prototype.it=function(b){var a=this.Ye.cj();ga(a)?b.G(a):b.qc(a)};$b=d;p.prototype.Wf=function(){return this.type===cc.Bf};p.prototype.hb=function(){return this.type===cc.Cf||this.type===cc.Bf};p.prototype.Zf=function(){return this.type===cc.String};p.prototype.hg=function(){this.Wf()||(this.Zf()&&(this.data=parseFloat(this.data)),this.type=cc.Bf)};p.prototype.ya=function(b){this.type=cc.Cf;this.data=Math.floor(b)};p.prototype.G=function(b){this.type=
cc.Bf;this.data=b};p.prototype.qc=function(b){this.type=cc.String;this.data=b};p.prototype.Lv=function(b){ga(b)?(this.type=cc.Bf,this.data=b):ha(b)?(this.type=cc.String,this.data=b.toString()):(this.type=cc.Cf,this.data=0)};Zb=p;cc={Cf:0,Bf:1,String:2}})();function Y(d){this.b=d;this.fc=[]}
Y.prototype.Zb=function(){var d={},k,h,p,t,r,b,a,e;d.waits=[];var u=d.waits,c;k=0;for(h=this.fc.length;k<h;k++){b=this.fc[k];c={t:b.time,st:b.wq,s:b.en,ev:b.Lf.X,sm:[],sols:{}};b.Lf.Fc[b.Ob]&&(c.act=b.Lf.Fc[b.Ob].X);p=0;for(t=b.ta.length;p<t;p++)c.sm.push(b.ta[p].X);for(r in b.Lb)if(b.Lb.hasOwnProperty(r)){a=this.b.q[parseInt(r,10)];e={sa:b.Lb[r].ck,insts:[]};p=0;for(t=b.Lb[r].Ud.length;p<t;p++)e.insts.push(b.Lb[r].Ud[p].uid);c.sols[a.X.toString()]=e}u.push(c)}return d};
Y.prototype.zc=function(d){d=d.waits;var k,h,p,t,r,b,a,e,u,c,f;P(this.fc);k=0;for(h=d.length;k<h;k++)if(b=d[k],e=this.b.Zn[b.ev.toString()]){u=-1;p=0;for(t=e.Fc.length;p<t;p++)if(e.Fc[p].X===b.act){u=p;break}if(-1!==u){a={Lb:{},ta:[],jl:!1};a.time=b.t;a.wq=b.st||"";a.en=!!b.s;a.Lf=e;a.Ob=u;p=0;for(t=b.sm.length;p<t;p++)(e=this.b.bj(b.sm[p]))&&a.ta.push(e);for(r in b.sols)if(b.sols.hasOwnProperty(r)&&(e=this.b.bj(parseInt(r,10)))){u=b.sols[r];c={ck:u.sa,Ud:[]};p=0;for(t=u.insts.length;p<t;p++)(f=this.b.aj(u.insts[p]))&&
c.Ud.push(f);a.Lb[e.index.toString()]=c}this.fc.push(a)}}};
(function(){function d(){}function k(){}function h(){}var p=Y.prototype;d.prototype.Gn=function(){return!0};d.prototype.Br=function(){return!0};d.prototype.cr=function(b,a,e){return dc(b,a,e)};d.prototype.hr=function(b){var a=this.b.zl(),e=a.J.Every_lastTime||0,d=this.b.ib.Y;"undefined"===typeof a.J.Every_seconds&&(a.J.Every_seconds=b);var c=a.J.Every_seconds;if(d>=e+c)return a.J.Every_lastTime=e+c,d>=a.J.Every_lastTime+.04&&(a.J.Every_lastTime=d),a.J.Every_seconds=b,!0;d<e-.1&&(a.J.Every_lastTime=
d);return!1};d.prototype.fr=function(){var b=this.b.gb();return b.ml?!1:!b.jf};d.prototype.Hn=function(){return!0};d.prototype.pr=function(){return!0};d.prototype.Mk=function(){return!0};d.prototype.Kn=function(){return!0};d.prototype.Cr=function(){return!0};d.prototype.Lk=function(){return!0};d.prototype.Yq=function(b,a,e){return Na(T(b),T(e))<=T(a)};d.prototype.jr=function(b,a){return Ua(T(b),T(a))};d.prototype.ir=function(b,a,e){b=La(b);a=La(a);e=La(e);return Ua(e,a)?Ua(b,a)&&!Ua(b,e):!(!Ua(b,
a)&&Ua(b,e))};p.n=new d;k.prototype.dr=function(b,a,e,d){if(a&&b&&(a=this.b.el(b,a,e,d))){this.b.yc++;var c;this.b.trigger(Object.getPrototypeOf(b.xa).n.Df,a);if(a.Jb)for(e=0,d=a.siblings.length;e<d;e++)c=a.siblings[e],this.b.trigger(Object.getPrototypeOf(c.type.xa).n.Df,c);this.b.yc--;b=b.W();b.fa=!1;P(b.d);b.d[0]=a;if(a.Jb)for(e=0,d=a.siblings.length;e<d;e++)c=a.siblings[e],b=c.type.W(),b.fa=!1,P(b.d),b.d[0]=c}};k.prototype.Hr=function(b,a){b&&b.visible!==a&&(b.visible=a,this.b.ea=!0)};k.prototype.Gr=
function(b,a){b&&(a=Fa(a/100,0,1),b.opacity!==a&&(b.opacity=a,this.b.ea=!0))};k.prototype.Jr=function(b,a){0===b.Fk?ga(a)?b.wf(a):b.wf(parseFloat(a)):1===b.Fk&&b.wf(a.toString())};k.prototype.Xq=function(b,a){0===b.Fk?ga(a)?b.wf(b.cj()+a):b.wf(b.cj()+parseFloat(a)):1===b.Fk&&b.wf(b.cj()+a.toString())};var t=[],r=[];k.prototype.Or=function(b){if(!(0>b)){var a,e,d,c=this.b.gb(),f;t.length?f=t.pop():f={Lb:{},ta:[]};f.jl=!1;f.time=this.b.ib.Y+b;f.wq="";f.en=!1;f.Lf=c.Hb;f.Ob=c.Ob+1;b=0;for(a=this.b.q.length;b<
a;b++)d=this.b.q[b],e=d.W(),e.fa&&-1===c.Hb.ta.indexOf(d)||(f.ta.push(d),d=void 0,r.length?d=r.pop():d={Ud:[]},d.ck=!1,d.ck=e.fa,za(d.Ud,e.d),f.Lb[b.toString()]=d);this.fc.push(f);return!0}};k.prototype.Fr=function(){if(!this.b.rh&&!this.b.Lg&&this.b.la){this.b.Lg=this.b.la;var b,a,e;b=0;for(a=this.b.oe.length;b<a;b++)e=this.b.oe[b],e.mq(e.ij)}};p.Ea=new k;h.prototype["int"]=function(b,a){ha(a)?(b.ya(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.ya(a)};h.prototype["float"]=function(b,a){ha(a)?(b.G(parseFloat(a)),
isNaN(b.data)&&(b.data=0)):b.G(a)};h.prototype.random=function(b,a,e){void 0===e?b.G(Math.random()*a):b.G(Math.random()*(e-a)+a)};h.prototype.sqrt=function(b,a){b.G(Math.sqrt(a))};h.prototype.abs=function(b,a){b.G(Math.abs(a))};h.prototype.round=function(b,a){b.ya(Math.round(a))};h.prototype.floor=function(b,a){b.ya(Math.floor(a))};h.prototype.ceil=function(b,a){b.ya(Math.ceil(a))};h.prototype.sin=function(b,a){b.G(Math.sin(T(a)))};h.prototype.cos=function(b,a){b.G(Math.cos(T(a)))};h.prototype.tan=
function(b,a){b.G(Math.tan(T(a)))};h.prototype.asin=function(b,a){b.G(Ga(Math.asin(a)))};h.prototype.acos=function(b,a){b.G(Ga(Math.acos(a)))};h.prototype.atan=function(b,a){b.G(Ga(Math.atan(a)))};h.prototype.exp=function(b,a){b.G(Math.exp(a))};h.prototype.log10=function(b,a){b.G(Math.log(a)/Math.LN10)};h.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var e,d,c;e=2;for(d=arguments.length;e<d;e++)c=arguments[e],"number"===typeof c&&a<c&&(a=c);b.G(a)};h.prototype.min=function(b){var a=
arguments[1];"number"!==typeof a&&(a=0);var e,d,c;e=2;for(d=arguments.length;e<d;e++)c=arguments[e],"number"===typeof c&&a>c&&(a=c);b.G(a)};h.prototype.Ue=function(b){b.G(this.b.Ue)};h.prototype.Bg=function(b){b.G(this.b.Bg)};h.prototype.time=function(b){b.G(this.b.ib.Y)};h.prototype.Vc=function(b){b.ya(this.b.Vc)};h.prototype.Ej=function(b){b.ya(this.b.Ej)};h.prototype.ul=function(b){b.ya(this.b.ul)};h.prototype.i=function(b,a,e,d,c){b.G(Ga(Ma(a,e,d,c)))};h.prototype.left=function(b,a,e){b.qc(ha(a)?
a.substr(0,e):"")};h.prototype.right=function(b,a,e){b.qc(ha(a)?a.substr(a.length-e):"")};h.prototype.replace=function(b,a,e,d){ha(a)&&ha(e)&&ha(d)?b.qc(a.replace(new RegExp(eb(e),"gi"),d)):b.qc(ha(a)?a:"")};h.prototype.trim=function(b,a){b.qc(ha(a)?a.trim():"")};h.prototype.ms=function(b){var a=C(Math.random()*(arguments.length-1));b.Lv(arguments[a+1])};h.prototype.dl=function(b){b.G(this.b.dl/1E3)};h.prototype.bw=function(b,a){var e=this.b.Rt(a);b.G(e?e.ba:0)};h.prototype.xj=function(b){b.G(this.b.xj)};
p.ob=new h;p.zv=function(){var b,a,e,d,c,f,k=this.b.gb();b=0;for(e=this.fc.length;b<e;b++){d=this.fc[b];if(-1===d.time){if(!d.en)continue}else if(d.time>this.b.ib.Y)continue;k.Hb=d.Lf;k.Ob=d.Ob;k.eb=0;for(a in d.Lb)d.Lb.hasOwnProperty(a)&&(c=this.b.q[parseInt(a,10)].W(),f=d.Lb[a],c.fa=f.ck,za(c.d,f.Ud),c=f,P(c.Ud),r.push(c));d.Lf.xv();this.b.bl(d.ta);d.jl=!0}a=b=0;for(e=this.fc.length;b<e;b++)d=this.fc[b],this.fc[a]=d,d.jl?(Za(d.Lb),P(d.ta),t.push(d)):a++;ya(this.fc,a)}})();
(function(){pb=function(d,h){var p=d[1],t=d[3],r=d[4],b=d[5],a=d[6],e=d[7],u=d[8];h.n||(h.n={});h.Ea||(h.Ea={});h.ob||(h.ob={});var c=h.n,f=h.Ea,q=h.ob;t&&(c.qw=function(a,b){return dc(this.x,a,b)},c.rw=function(a,b){return dc(this.y,a,b)},c.yw=function(){var a=this.j;this.qa();var b=this.ra;return!(b.right<a.ga||b.bottom<a.ba||b.left>a.na||b.top>a.ma)},c.zw=function(){this.qa();var a=this.ra,b=this.b.la;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.Lw=function(a,b,c){var e=this.W(),
f=e.wc();if(!f.length)return!1;var d=f[0],k=d,h=Wa(d.x,d.y,b,c),p,t,r;p=1;for(t=f.length;p<t;p++)if(d=f[p],r=Wa(d.x,d.y,b,c),0===a&&r<h||1===a&&r>h)h=r,k=d;e.Qh(k);return!0},f.hx=function(a){this.x!==a&&(this.x=a,this.F())},f.ix=function(a){this.y!==a&&(this.y=a,this.F())},f.$w=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.F()},f.ax=function(a,b){var c=a.Tt(this);if(c){var e;c.Xg?(e=c.Xg(b,!0),c=c.Xg(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.F()}},f.Ew=
function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.F())},f.Dw=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.F())},q.Nk=function(a){a.G(this.x)},q.On=function(a){a.G(this.y)},q.Ue=function(a){a.G(this.b.Wg(this))});r&&(c.pw=function(a,b){return dc(this.width,a,b)},c.lw=function(a,b){return dc(this.height,a,b)},f.Kr=function(a){this.width!==a&&(this.width=a,this.F())},f.Xw=function(a){this.height!==a&&(this.height=a,this.F())},f.bx=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.F()},q.nx=function(a){a.G(this.width)},q.uw=function(a){a.G(this.height)},q.hw=function(a){this.qa();a.G(this.ra.left)},q.jw=function(a){this.qa();a.G(this.ra.top)},q.iw=function(a){this.qa();a.G(this.ra.right)},q.gw=function(a){this.qa();a.G(this.ra.bottom)});b&&(c.Yq=function(a,b){return Na(this.i,T(b))<=T(a)},c.jr=function(a){return Ua(this.i,T(a))},c.ir=function(a,b){var c=La(a),e=La(b),f=Ja(this.i);return Ua(e,c)?Ua(f,c)&&
!Ua(f,e):!(!Ua(f,c)&&Ua(f,e))},f.Tw=function(a){a=T(Ha(a));isNaN(a)||this.i===a||(this.i=a,this.F())},f.Pw=function(a){0===a||isNaN(a)||(this.i+=T(a),this.i=Ja(this.i),this.F())},f.Qw=function(a){0===a||isNaN(a)||(this.i-=T(a),this.i=Ja(this.i),this.F())},f.Rw=function(a,b){var c=Oa(this.i,T(b),T(a));isNaN(c)||this.i===c||(this.i=c,this.F())},f.Sw=function(a,b,c){a=Oa(this.i,Math.atan2(c-this.y,b-this.x),T(a));isNaN(a)||this.i===a||(this.i=a,this.F())},f.cx=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);isNaN(c)||this.i===c||(this.i=c,this.F())},q.fw=function(a){a.G(Ka(this.i))});p||(c.mw=function(a,b,c){return dc(this.Wa[a],b,c)},c.ww=function(a){return this.Wa[a]},c.Mw=function(a,b){var c=this.W(),e=c.wc();if(!e.length)return!1;var f=e[0],d=f,k=f.Wa[b],h,p,t;h=1;for(p=e.length;h<p;h++)if(f=e[h],t=f.Wa[b],0===a&&t<k||1===a&&t>k)k=t,d=f;c.Qh(d);return!0},c.Kw=function(a){var b,c,e,f,d;if(this.b.zl().Vl){d=this.W();if(d.fa)for(d.fa=!1,P(d.d),P(d.U),e=this.d,b=0,c=e.length;b<c;b++)f=e[b],
f.uid===a?d.U.push(f):d.d.push(f);else{e=b=0;for(c=d.d.length;b<c;b++)f=d.d[b],d.d[e]=f,f.uid===a?d.U.push(f):e++;ya(d.d,e)}this.Yc();return!!d.d.length}f=this.b.aj(a);if(!f)return!1;d=this.W();if(!d.fa&&-1===d.d.indexOf(f))return!1;if(this.K)for(a=f.type.Ba,b=0,c=a.length;b<c;b++){if(a[b]===this)return d.Qh(f),this.Yc(),!0}else if(f.type===this)return d.Qh(f),this.Yc(),!0;return!1},c.Df=function(){return!0},c.rr=function(){return!0},f.Yw=function(a,b){var c=this.Wa;ga(c[a])?c[a]=ga(b)?b:parseFloat(b):
ha(c[a])&&(c[a]=ha(b)?b:b.toString())},f.ew=function(a,b){var c=this.Wa;ga(c[a])?c[a]=ga(b)?c[a]+b:c[a]+parseFloat(b):ha(c[a])&&(c[a]=ha(b)?c[a]+b:c[a]+b.toString())},f.jx=function(a,b){var c=this.Wa;ga(c[a])&&(c[a]=ga(b)?c[a]-b:c[a]-parseFloat(b))},f.Uw=function(a,b){this.Wa[a]=b?1:0},f.kx=function(a){this.Wa[a]=1-this.Wa[a]},f.er=function(){this.b.Hd(this)},f.mr||(f.mr=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.uj(this,b,!0);this.me&&this.me();if(this.O)for(a=0,b=this.O.length;a<
b;++a)c=this.O[a],c.me&&c.me()}),q.sw=function(a){var b=a.rf.d.length,c,e,f;c=0;for(e=this.b.ad.length;c<e;c++)f=this.b.ad[c],a.rf.K?0<=f.type.Ba.indexOf(a.rf)&&b++:f.type===a.rf&&b++;a.ya(b)},q.Ow=function(a){a.ya(a.rf.W().wc().length)},q.mx=function(a){a.ya(this.uid)},q.vw=function(a){a.ya(this.Zg())},q.Zq||(q.Zq=function(a){a.qc(JSON.stringify(this.b.Zm(this,!0)))}));a&&(c.Aw=function(){return this.visible},f.gx=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.ea=!0)},c.ow=function(a,b){return dc(lb(100*
this.opacity),a,b)},f.Zw=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ea=!0)},q.Opacity=function(a){a.G(lb(100*this.opacity))});e&&(c.xw=function(a){return a?this.j===a:!1},c.Nw=function(a){var b=this.W(),c=b.wc();if(!c.length)return!1;var e=c[0],f=e,d,k;d=1;for(k=c.length;d<k;d++)if(e=c[d],0===a){if(e.j.index>f.j.index||e.j.index===f.j.index&&e.xd()>f.xd())f=e}else if(e.j.index<f.j.index||e.j.index===f.j.index&&e.xd()<f.xd())f=e;b.Qh(f);return!0},f.Hw=function(){var a=
this.j,b=a.d;b.length&&b[b.length-1]===this||(a.sg(this,!1),a.Jg(this,!1),this.b.ea=!0)},f.Fw=function(){var a=this.j,b=a.d;b.length&&b[0]===this||(a.sg(this,!1),a.lv(this),this.b.ea=!0)},f.Gw=function(a){a&&a!=this.j&&(this.j.sg(this,!0),this.j=a,a.Jg(this,!0),this.b.ea=!0)},f.Rr=function(a,b){var c=0===a;if(b){var e=b.Nt(this);e&&e.uid!==this.uid&&(this.j.index!==e.j.index&&(this.j.sg(this,!0),this.j=e.j,e.j.Jg(this,!0)),this.j.Nu(this,e,c),this.b.ea=!0)}},q.Cw=function(a){a.ya(this.j.Dp)},q.Bw=
function(a){a.qc(this.j.name)},q.ox=function(a){a.ya(this.xd())});u&&(f.Vw=function(a,b){if(this.b.u){var c=this.type.Bl(b);if(!(0>c)){var e=1===a;this.ke[c]!==e&&(this.ke[c]=e,this.od(),this.b.ea=!0)}}},f.Ww=function(a,b,c){if(this.b.u){var e=this.type.Bl(a);0>e||(a=this.type.P[e],e=this.Ha[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.u.Xt(a.Ta,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.cb&&(this.b.ea=!0))))}})};Jb=function(){this.Xk=this.xi=!0;this.type.qi=!0;this.b.ea=!0;var d,h,p=this.Uk;d=0;for(h=
p.length;d<h;++d)p[d](this);this.j.Ec&&this.qa()};Kb=function(d){d&&this.Uk.push(d)};Mb=function(){if(this.xi){var d=this.ra,h=this.Eb;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.ic*this.width,-this.jc*this.height);this.i?(d.offset(-this.x,-this.y),h.rq(d,this.i),h.offset(this.x,this.y),h.$n(d)):h.wg(d);d.normalize();this.xi=!1;this.Sq()}};var d=new ta(0,0,0,0);Nb=function(){if(this.j.Ec){var k=this.j.tb,h=this.ra;d.set(k.Mb(h.left),k.Nb(h.top),k.Mb(h.right),k.Nb(h.bottom));
this.Xb.Sg(d)||(this.Xb.right<this.Xb.left?k.update(this,null,d):k.update(this,this.Xb,d),this.Xb.Ng(d),this.j.kd=!0)}};Ob=function(){if(this.Xk&&this.Ld){this.qa();var k=this.type.Ci,h=this.ra;d.set(k.Mb(h.left),k.Nb(h.top),k.Mb(h.right),k.Nb(h.bottom));this.se.Sg(d)||(this.se.right<this.se.left?k.update(this,null,d):k.update(this,this.se,d),this.se.Ng(d),this.Xk=!1)}};Lb=function(d,h){return this.ra.Gb(d,h)&&this.Eb.Gb(d,h)?this.ja&&!this.ja.Vf()?(this.ja.Gf(this.width,this.height,this.i),this.ja.Gb(d-
this.x,h-this.y)):!0:!1};Fb=function(){this.type.Bk();return this.ef};Pb=function(){this.j.zn();return this.pd};Qb=function(){P(this.ca);var d,h,p,t=!0;d=0;for(h=this.ke.length;d<h;d++)this.ke[d]&&(p=this.type.P[d],this.ca.push(p),p.gd||(t=!1));this.Tq=!!this.ca.length;this.be=t};Gb=function(){return"Inst"+this.aq};sb=function(d){if(d&&d.Jb&&d.type!=this){var h,p,t;h=0;for(p=d.siblings.length;h<p;h++)if(t=d.siblings[h],t.type==this)return t}d=this.W().wc();return d.length?d[0]:null};tb=function(d){var h=
this.W().wc();return h.length?h[d.Zg()%h.length]:null};rb=function(){if(this.zg&&!this.K){var d,h;d=0;for(h=this.d.length;d<h;d++)this.d[d].ef=d;var p=d,t=this.b.ad;d=0;for(h=t.length;d<h;++d)t[d].type===this&&(t[d].ef=p++);this.zg=!1}};Db=function(d){if(d<this.d.length)return this.d[d];d-=this.d.length;var h=this.b.ad,p,t;p=0;for(t=h.length;p<t;++p)if(h[p].type===this){if(0===d)return h[p];--d}return null};vb=function(){return this.ee[this.td]};wb=function(){this.td++;this.td===this.ee.length?this.ee.push(new qb(this)):
(this.ee[this.td].fa=!0,P(this.ee[this.td].U))};xb=function(){this.td++;this.td===this.ee.length&&this.ee.push(new qb(this));var d=this.ee[this.td],h=this.ee[this.td-1];h.fa?(d.fa=!0,P(d.U)):(d.fa=!1,za(d.d,h.d),za(d.U,h.U))};yb=function(){this.td--};zb=function(d){var h,p,t,r,b,a=0;if(!this.K)for(h=0,p=this.Ba.length;h<p;h++)for(b=this.Ba[h],t=0,r=b.Fa.length;t<r;t++){if(d===b.Fa[t].name)return this.J.lastBehIndex=a,b.Fa[t];a++}h=0;for(p=this.Fa.length;h<p;h++){if(d===this.Fa[h].name)return this.J.lastBehIndex=
a,this.Fa[h];a++}return null};Ab=function(d){return this.Yi(d)?this.J.lastBehIndex:-1};Bb=function(d){var h,p;h=0;for(p=this.P.length;h<p;h++)if(this.P[h].name===d)return h;return-1};Cb=function(){if(this.Jb&&!this.K){var d,h,p,t,r,b,a;this.Bk();b=this.W();var e=b.fa,u=(d=this.b.gb())&&d.Hb&&d.Hb.Oc;d=0;for(h=this.hc.length;d<h;d++)if(r=this.hc[d],r!==this&&(r.Bk(),a=r.W(),a.fa=e,!e)){P(a.d);p=0;for(t=b.d.length;p<t;++p)a.d[p]=r.Cl(b.d[p].ef);if(u)for(P(a.U),p=0,t=b.U.length;p<t;++p)a.U[p]=r.Cl(b.U[p].ef)}}};
Eb=function(){return"Type"+this.X};dc=function(d,h,p){if("undefined"===typeof d||"undefined"===typeof p)return!1;switch(h){case 0:return d===p;case 1:return d!==p;case 2:return d<p;case 3:return d<=p;case 4:return d>p;case 5:return d>=p;default:return!1}}})();var mc={};function pc(d){this.b=d}
(function(){function d(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function k(a){a=a.toLowerCase();return X.hasOwnProperty(a)&&X[a].length?X[a][0].vc():z.destination}function h(){return z.createGain?z.createGain():z.createGainNode()}function p(a){return z.createDelay?z.createDelay(a):z.createDelayNode(a)}function t(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function r(a,b,c,e){a.start?a.start(e||0,b):a.noteGrainOn(e||0,b,c-b)}function b(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}
function a(a,b,c,e,f,d){this.type="filter";this.ed=[a,b,c,e,f,d];this.Z=h();this.N=h();this.N.gain.value=d;this.L=h();this.L.gain.value=1-d;this.Na=z.createBiquadFilter();this.Na.type="number"===typeof this.Na.type?a:wc[a];this.Na.frequency.value=b;this.Na.detune&&(this.Na.detune.value=c);this.Na.Q.value=e;this.Na.gain.value=f;this.Z.connect(this.Na);this.Z.connect(this.L);this.Na.connect(this.N)}function e(a,b,c){this.type="delay";this.ed=[a,b,c];this.Z=h();this.N=h();this.N.gain.value=c;this.L=
h();this.L.gain.value=1-c;this.Ih=h();this.Ic=p(a);this.Ic.delayTime.value=a;this.Ki=h();this.Ki.gain.value=b;this.Z.connect(this.Ih);this.Z.connect(this.L);this.Ih.connect(this.N);this.Ih.connect(this.Ic);this.Ic.connect(this.Ki);this.Ki.connect(this.Ih)}function u(a,b,c,e){this.type="convolve";this.ed=[b,c,e];this.Z=h();this.N=h();this.N.gain.value=c;this.L=h();this.L.gain.value=1-c;this.Se=z.createConvolver();a&&(this.Se.normalize=b,this.Se.buffer=a);this.Z.connect(this.Se);this.Z.connect(this.L);
this.Se.connect(this.N)}function c(a,b,c,e,f){this.type="flanger";this.ed=[a,b,c,e,f];this.Z=h();this.L=h();this.L.gain.value=1-f/2;this.N=h();this.N.gain.value=f/2;this.Qi=h();this.Qi.gain.value=e;this.Ic=p(a+b);this.Ic.delayTime.value=a;this.kb=z.createOscillator();this.kb.frequency.value=c;this.oc=h();this.oc.gain.value=b;this.Z.connect(this.Ic);this.Z.connect(this.L);this.Ic.connect(this.N);this.Ic.connect(this.Qi);this.Qi.connect(this.Ic);this.kb.connect(this.oc);this.oc.connect(this.Ic.delayTime);
t(this.kb)}function f(a,b,c,e,f,d){this.type="phaser";this.ed=[a,b,c,e,f,d];this.Z=h();this.L=h();this.L.gain.value=1-d/2;this.N=h();this.N.gain.value=d/2;this.Na=z.createBiquadFilter();this.Na.type="number"===typeof this.Na.type?7:"allpass";this.Na.frequency.value=a;this.Na.detune&&(this.Na.detune.value=b);this.Na.Q.value=c;this.kb=z.createOscillator();this.kb.frequency.value=f;this.oc=h();this.oc.gain.value=e;this.Z.connect(this.Na);this.Z.connect(this.L);this.Na.connect(this.N);this.kb.connect(this.oc);
this.oc.connect(this.Na.frequency);t(this.kb)}function q(a){this.type="gain";this.ed=[a];this.aa=h();this.aa.gain.value=a}function l(a,b){this.type="tremolo";this.ed=[a,b];this.aa=h();this.aa.gain.value=1-b/2;this.kb=z.createOscillator();this.kb.frequency.value=a;this.oc=h();this.oc.gain.value=b/2;this.kb.connect(this.oc);this.oc.connect(this.aa.gain);t(this.kb)}function E(a,b){this.type="ringmod";this.ed=[a,b];this.Z=h();this.N=h();this.N.gain.value=b;this.L=h();this.L.gain.value=1-b;this.Xh=h();
this.Xh.gain.value=0;this.kb=z.createOscillator();this.kb.frequency.value=a;this.kb.connect(this.Xh.gain);t(this.kb);this.Z.connect(this.Xh);this.Z.connect(this.L);this.Xh.connect(this.N)}function n(a,b,c,e,f){this.type="distortion";this.ed=[a,b,c,e,f];this.Z=h();this.Tj=h();this.Sj=h();this.Gv(c,Math.pow(10,e/20));this.N=h();this.N.gain.value=f;this.L=h();this.L.gain.value=1-f;this.Hk=z.createWaveShaper();this.Ii=new Float32Array(65536);this.Jt(a,b);this.Hk.Ii=this.Ii;this.Z.connect(this.Tj);this.Z.connect(this.L);
this.Tj.connect(this.Hk);this.Hk.connect(this.Sj);this.Sj.connect(this.N)}function N(a,b,c,e,f){this.type="compressor";this.ed=[a,b,c,e,f];this.aa=z.createDynamicsCompressor();try{this.aa.threshold.value=a,this.aa.knee.value=b,this.aa.ratio.value=c,this.aa.attack.value=e,this.aa.release.value=f}catch(d){}}function g(a,b){this.type="analyser";this.ed=[a,b];this.aa=z.createAnalyser();this.aa.fftSize=a;this.aa.smoothingTimeConstant=b;this.Ht=new Float32Array(this.aa.frequencyBinCount);this.uq=new Uint8Array(a);
this.Ph=0}function m(){this.ka=null;this.wj=0}function v(a,b){this.src=a;this.V=H;this.Mc=b;this.pi=!1;var c=this;this.xm=this.Jm=null;this.ng=[];this.dk=0;this.Dn=this.Oi=this.Bq=this.Oj=!1;1===H&&b&&!Qa&&(this.V=0,this.Jm=h());this.Jd=this.da=null;var e;switch(this.V){case 0:this.da=new Audio;this.da.crossOrigin="anonymous";this.da.addEventListener("canplaythrough",function(){c.Dn=!0});1===H&&z.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.Bq=!0,this.da.addEventListener("canplay",
function(){c.xm||(c.xm=z.createMediaElementSource(c.da),c.xm.connect(c.Jm))}));this.da.autoplay=!1;this.da.Ex="auto";this.da.src=a;break;case 1:w.oh?w.so(a,function(a){c.Jd=a;c.lo()},function(){c.Oi=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){c.Jd=e.response;c.lo()},e.onerror=function(){c.Oi=!0},e.send());break;case 2:this.da=!0;break;case 3:this.da=!0}}function D(a,b){var c=this;this.tag=b;this.$b=this.wd=!0;this.src=a.src;this.buffer=a;this.V=H;
this.Mc=a.Mc;this.playbackRate=1;this.Sf=!0;this.lc=this.Cc=!1;this.Yb=0;this.ph=this.Xf=this.zd=!1;this.volume=1;this.Hm=function(a){if(!c.lc&&!c.Cc){var b=this;b||(b=a.target);b===c.oi&&(c.Sf=!0,c.$b=!0,V=c.tag,w.trigger(pc.prototype.n.ni,M))}};this.oi=null;this.Tf=1===J&&!this.Mc||2===J;this.jg=1;this.startTime=this.Tf?w.ib.Y:w.he.Y;this.Ra=this.Ua=null;this.Bd=!1;this.rb=null;this.Qp=this.Pp=this.Op=this.Np=this.Sp=this.Rp=0;this.k=null;var e=!1;1!==this.V||0!==this.buffer.V||this.buffer.Bq||
(this.V=0);switch(this.V){case 0:this.Mc?(this.k=a.da,e=!a.pi,a.pi=!0):(this.k=new Audio,this.k.crossOrigin="anonymous",this.k.autoplay=!1,this.k.src=a.da.src,e=!0);e&&this.k.addEventListener("ended",function(){V=c.tag;c.$b=!0;w.trigger(pc.prototype.n.ni,M)});break;case 1:this.Ua=h();this.Ua.connect(k(b));1===this.buffer.V?a.da&&(this.k=z.createBufferSource(),this.k.buffer=a.da,this.k.connect(this.Ua)):(this.k=this.buffer.da,this.buffer.Jm.connect(this.Ua),this.buffer.pi||(this.buffer.pi=!0,this.buffer.da.addEventListener("ended",
function(){V=c.tag;c.$b=!0;w.trigger(pc.prototype.n.ni,M)})));break;case 2:this.k=new window.Media(O+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.Sf=!0,c.$b=!0,V=c.tag,w.trigger(pc.prototype.n.ni,M))});break;case 3:this.k=!0}}function B(a,b){X.hasOwnProperty(a)?X[a].push(b):X[a]=[b];var c,e,f,d,g=z.destination;if(X.hasOwnProperty(a)&&(f=X[a],f.length))for(g=f[0].vc(),c=0,e=f.length;c<e;c++)d=f[c],c+1===e?d.Gc(z.destination):d.Gc(f[c+1].vc());P(Ia);if(a.length)for(c=0,e=x.length;c<
e;c++)f=x[c],mb(a,f.tag)&&Ia.push(f);else A&&!A.df()&&(P(Ia),Ia[0]=A);c=0;for(e=Ia.length;c<e;c++)Ia[c].rv(g);Ea&&ub===a&&(Ea.disconnect(),Ea.connect(g))}function U(){}function W(){}var y=pc.prototype;y.ab=function(a){this.xa=a;this.b=a.b};y.ab.prototype.pa=function(){};var w=null,M=null,V="",O="",H=0,z=null,K=[],x=[],A=null,F=!1,J=0,L=!1,Q=1,I=0,G=0,S=!1,ra=1,R=1,ua=10,la=1E4,Da=1,Ea=null,ub="",Pa=!1,Ra=[],Qa=!1,X={},wc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");
a.prototype.Gc=function(a){this.N.disconnect();this.N.connect(a);this.L.disconnect();this.L.connect(a)};a.prototype.remove=function(){this.Z.disconnect();this.Na.disconnect();this.N.disconnect();this.L.disconnect()};a.prototype.vc=function(){return this.Z};e.prototype.Gc=function(a){this.N.disconnect();this.N.connect(a);this.L.disconnect();this.L.connect(a)};e.prototype.remove=function(){this.Z.disconnect();this.Ih.disconnect();this.Ic.disconnect();this.Ki.disconnect();this.N.disconnect();this.L.disconnect()};
e.prototype.vc=function(){return this.Z};u.prototype.Gc=function(a){this.N.disconnect();this.N.connect(a);this.L.disconnect();this.L.connect(a)};u.prototype.remove=function(){this.Z.disconnect();this.Se.disconnect();this.N.disconnect();this.L.disconnect()};u.prototype.vc=function(){return this.Z};c.prototype.Gc=function(a){this.L.disconnect();this.L.connect(a);this.N.disconnect();this.N.connect(a)};c.prototype.remove=function(){this.Z.disconnect();this.Ic.disconnect();this.kb.disconnect();this.oc.disconnect();
this.L.disconnect();this.N.disconnect();this.Qi.disconnect()};c.prototype.vc=function(){return this.Z};f.prototype.Gc=function(a){this.L.disconnect();this.L.connect(a);this.N.disconnect();this.N.connect(a)};f.prototype.remove=function(){this.Z.disconnect();this.Na.disconnect();this.kb.disconnect();this.oc.disconnect();this.L.disconnect();this.N.disconnect()};f.prototype.vc=function(){return this.Z};q.prototype.Gc=function(a){this.aa.disconnect();this.aa.connect(a)};q.prototype.remove=function(){this.aa.disconnect()};
q.prototype.vc=function(){return this.aa};l.prototype.Gc=function(a){this.aa.disconnect();this.aa.connect(a)};l.prototype.remove=function(){this.kb.disconnect();this.oc.disconnect();this.aa.disconnect()};l.prototype.vc=function(){return this.aa};E.prototype.Gc=function(a){this.N.disconnect();this.N.connect(a);this.L.disconnect();this.L.connect(a)};E.prototype.remove=function(){this.kb.disconnect();this.Xh.disconnect();this.Z.disconnect();this.N.disconnect();this.L.disconnect()};E.prototype.vc=function(){return this.Z};
n.prototype.Gv=function(a,b){.01>a&&(a=.01);this.Tj.gain.value=a;this.Sj.gain.value=Math.pow(1/a,.6)*b};n.prototype.shape=function(a,b,c){var e=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+e*(1-Math.exp(-(1/e)*(a-b)));return b*c};n.prototype.Jt=function(a,b){for(var c=Math.pow(10,a/20),e=Math.pow(10,b/20),f=0,d=0;32768>d;++d)f=d/32768,f=this.shape(f,c,e),this.Ii[32768+d]=f,this.Ii[32768-d-1]=-f};n.prototype.Gc=function(a){this.N.disconnect();this.N.connect(a);this.L.disconnect();this.L.connect(a)};
n.prototype.remove=function(){this.Z.disconnect();this.Tj.disconnect();this.Hk.disconnect();this.Sj.disconnect();this.N.disconnect();this.L.disconnect()};n.prototype.vc=function(){return this.Z};N.prototype.Gc=function(a){this.aa.disconnect();this.aa.connect(a)};N.prototype.remove=function(){this.aa.disconnect()};N.prototype.vc=function(){return this.aa};g.prototype.Ka=function(){this.aa.getFloatFrequencyData(this.Ht);this.aa.getByteTimeDomainData(this.uq);for(var a=this.aa.fftSize,b=0,c=this.Ph=
0,e=0;b<a;b++)e=(this.uq[b]-128)/128,0>e&&(e=-e),this.Ph<e&&(this.Ph=e),c+=e*e;this.Ph=d(this.Ph);d(Math.sqrt(c/a))};g.prototype.Gc=function(a){this.aa.disconnect();this.aa.connect(a)};g.prototype.remove=function(){this.aa.disconnect()};g.prototype.vc=function(){return this.aa};m.prototype.Yh=function(a){this.ka=a};m.prototype.hj=function(){return!!this.ka};m.prototype.Ka=function(){};var ib=!1;v.prototype.sv=function(){var a,b,c,e;c=a=0;for(b=x.length;a<b;++a)e=x[a],x[c]=e,e.buffer===this?e.stop():
++c;x.length=c;this.Jd=this.da=null};v.prototype.lo=function(){if(!this.da&&this.Jd){var a=this;if(z.decodeAudioData)z.decodeAudioData(this.Jd,function(b){a.da=b;a.Jd=null;var c,e,f;if(fa(a.Pj)||L)fa(a.Ei)||(c=a.Ei.Se,c.normalize=a.Cp,c.buffer=b);else if(a.ng.length){c=0;for(e=a.ng.length;c<e;c++){b=a.ng[c];f=new D(a,b.Gq);f.cn(!0);if("undefined"!==typeof b.Ep&&(b.ka=w.aj(b.Ep),!b.ka))continue;if(b.ka){var d=Va(b.ka.x,b.ka.y,-b.ka.j.Va(),I,G,!0),g=Va(b.ka.x,b.ka.y,-b.ka.j.Va(),I,G,!1);f.bn(d,g,Ga(b.ka.i-
b.ka.j.Va()),b.Ml,b.Bm,b.Em);f.Yh(b.ka)}else f.bn(b.x,b.y,b.Sr,b.Ml,b.Bm,b.Em);f.play(a.um,a.Cn,a.dk);a.Oj&&f.pause();x.push(f)}P(a.ng)}else f=new D(a,a.Pj||""),f.play(a.um,a.Cn,a.dk),a.Oj&&f.pause(),x.push(f)},function(){a.Oi=!0});else if(this.da=z.createBuffer(this.Jd,!1),this.Jd=null,fa(this.Pj)||L)fa(this.Ei)||(b=this.Ei.Se,b.normalize=this.Cp,b.buffer=this.da);else{var b=new D(this,this.Pj);b.play(this.um,this.Cn,this.dk);this.Oj&&b.pause();x.push(b)}}};v.prototype.Qo=function(){switch(this.V){case 0:var a=
4<=this.da.readyState;a&&(this.Dn=!0);return a||this.Dn;case 1:return!!this.Jd||!!this.da;case 2:return!0;case 3:return!0}return!1};v.prototype.Au=function(){switch(this.V){case 0:return this.Qo();case 1:return!!this.da;case 2:return!0;case 3:return!0}return!1};v.prototype.pu=function(){switch(this.V){case 0:return!!this.da.error;case 1:return this.Oi}return!1};D.prototype.df=function(){switch(this.V){case 0:return this.k.ended;case 1:return 1===this.buffer.V?!this.wd&&!this.$b&&this.k.loop||this.lc?
!1:this.Sf:this.k.ended;case 2:return this.Sf;case 3:!0}return!0};D.prototype.js=function(){return this.wd||this.$b?!0:this.df()};D.prototype.cn=function(a){1===H&&(!this.Bd&&a?this.Ua&&(this.Ra||(this.Ra=z.createPanner(),this.Ra.panningModel="number"===typeof this.Ra.panningModel?ra:["equalpower","HRTF","soundfield"][ra],this.Ra.distanceModel="number"===typeof this.Ra.distanceModel?R:["linear","inverse","exponential"][R],this.Ra.refDistance=ua,this.Ra.maxDistance=la,this.Ra.rolloffFactor=Da),this.Ua.disconnect(),
this.Ua.connect(this.Ra),this.Ra.connect(k(this.tag)),this.Bd=!0):this.Bd&&!a&&this.Ua&&(this.Ra.disconnect(),this.Ua.disconnect(),this.Ua.connect(k(this.tag)),this.Bd=!1))};D.prototype.bn=function(a,b,c,e,f,d){this.Bd&&1===H&&(this.Ra.setPosition(a,b,0),this.Ra.setOrientation(Math.cos(T(c)),Math.sin(T(c)),0),this.Ra.coneInnerAngle=e,this.Ra.coneOuterAngle=f,this.Ra.coneOuterGain=d,this.Rp=a,this.Sp=b,this.Np=c,this.Op=e,this.Pp=f,this.Qp=d)};D.prototype.Yh=function(a){this.Bd&&1===H&&(this.rb||(this.rb=
new m),this.rb.Yh(a))};D.prototype.Ka=function(a){if(this.Bd&&1===H&&this.rb&&this.rb.hj()&&this.mh()){this.rb.Ka(a);a=this.rb.ka;var b=Va(a.x,a.y,-a.j.Va(),I,G,!0),c=Va(a.x,a.y,-a.j.Va(),I,G,!1);this.Ra.setPosition(b,c,0);b=0;"undefined"!==typeof this.rb.ka.i&&(b=a.i-a.j.Va(),this.Ra.setOrientation(Math.cos(b),Math.sin(b),0))}};D.prototype.play=function(a,b,c,e){var f=this.k;this.zd=a;this.volume=b;c=c||0;e=e||0;switch(this.V){case 0:1!==f.playbackRate&&(f.playbackRate=1);f.volume!==b*Q&&(f.volume=
b*Q);f.loop!==a&&(f.loop=a);f.muted&&(f.muted=!1);if(f.currentTime!==c)try{f.currentTime=c}catch(d){}if(this.Mc&&Pa&&!w.yd)Ra.push(this);else try{this.k.play()}catch(g){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",g)}break;case 1:this.muted=!1;this.jg=1;if(1===this.buffer.V)this.Ua.gain.value=b*Q,this.wd||(this.k=z.createBufferSource(),this.k.buffer=this.buffer.da,this.k.connect(this.Ua)),this.k.onended=this.Hm,this.oi=this.k,this.k.loop=
a,this.Sf=!1,0===c?t(this.k,e):r(this.k,c,this.bf(),e);else{1!==f.playbackRate&&(f.playbackRate=1);f.loop!==a&&(f.loop=a);f.volume=b*Q;if(f.currentTime!==c)try{f.currentTime=c}catch(m){}this.Mc&&Pa&&!w.yd?Ra.push(this):f.play()}break;case 2:(!this.wd&&this.$b||0!==c)&&f.seekTo(c);f.play();this.Sf=!1;break;case 3:w.Ib?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.Tf?w.ib.Y:w.he.Y)-c;this.lc=this.$b=this.wd=!1};D.prototype.stop=function(){switch(this.V){case 0:this.k.paused||
this.k.pause();break;case 1:1===this.buffer.V?b(this.k):this.k.paused||this.k.pause();break;case 2:this.k.stop();break;case 3:w.Ib&&AppMobi.context.stopSound(this.src)}this.$b=!0;this.lc=!1};D.prototype.pause=function(){if(!(this.wd||this.$b||this.df()||this.lc)){switch(this.V){case 0:this.k.paused||this.k.pause();break;case 1:1===this.buffer.V?(this.Yb=this.Dl(!0),this.zd&&(this.Yb=this.Yb%this.bf()),this.lc=!0,b(this.k)):this.k.paused||this.k.pause();break;case 2:this.k.pause();break;case 3:w.Ib&&
AppMobi.context.stopSound(this.src)}this.lc=!0}};D.prototype.wv=function(){if(!(this.wd||this.$b||this.df())&&this.lc){switch(this.V){case 0:this.k.play();break;case 1:1===this.buffer.V?(this.k=z.createBufferSource(),this.k.buffer=this.buffer.da,this.k.connect(this.Ua),this.k.onended=this.Hm,this.oi=this.k,this.k.loop=this.zd,this.Ua.gain.value=Q*this.volume*this.jg,this.Ck(),this.startTime=(this.Tf?w.ib.Y:w.he.Y)-this.Yb/(this.playbackRate||.001),r(this.k,this.Yb,this.bf())):this.k.play();break;
case 2:this.k.play();break;case 3:w.Ib&&AppMobi.context.resumeSound(this.src)}this.lc=!1}};D.prototype.seek=function(a){if(!(this.wd||this.$b||this.df()))switch(this.V){case 0:try{this.k.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.V)this.lc?this.Yb=a:(this.pause(),this.Yb=a,this.wv());else try{this.k.currentTime=a}catch(c){}break;case 3:w.Ib&&AppMobi.context.seekSound(this.src,a)}};D.prototype.rv=function(a){1===this.V&&(this.Bd?(this.Ra.disconnect(),this.Ra.connect(a)):(this.Ua.disconnect(),
this.Ua.connect(a)))};D.prototype.bf=function(){var a=0;switch(this.V){case 0:"undefined"!==typeof this.k.duration&&(a=this.k.duration);break;case 1:a=this.buffer.da.duration;break;case 2:a=this.k.getDuration();break;case 3:w.Ib&&(a=AppMobi.context.getDurationSound(this.src))}return a};D.prototype.Dl=function(a){var b=this.bf(),c=0;switch(this.V){case 0:"undefined"!==typeof this.k.currentTime&&(c=this.k.currentTime);break;case 1:if(1===this.buffer.V){if(this.lc)return this.Yb;c=(this.Tf?w.ib.Y:w.he.Y)-
this.startTime}else"undefined"!==typeof this.k.currentTime&&(c=this.k.currentTime);break;case 3:w.Ib&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.zd&&c>b&&(c=b);return c};D.prototype.mh=function(){return!this.lc&&!this.wd&&!this.$b&&!this.df()};D.prototype.Mv=function(){return!this.wd&&!this.$b&&!this.df()};D.prototype.Wv=function(){var a=this.volume*Q;isFinite(a)||(a=0);switch(this.V){case 0:"undefined"!==typeof this.k.volume&&this.k.volume!==a&&(this.k.volume=
a);break;case 1:1===this.buffer.V?this.Ua.gain.value=a*this.jg:"undefined"!==typeof this.k.volume&&this.k.volume!==a&&(this.k.volume=a)}};D.prototype.Mi=function(a){switch(this.V){case 0:this.k.muted!==!!a&&(this.k.muted=!!a);break;case 1:1===this.buffer.V?(this.jg=a?0:1,this.Ua.gain.value=Q*this.volume*this.jg):this.k.muted!==!!a&&(this.k.muted=!!a)}};D.prototype.Hv=function(){this.Xf=!0;this.Mi(this.Xf||this.ph)};D.prototype.oq=function(a){this.ph=!!a;this.Mi(this.Xf||this.ph)};D.prototype.Ck=function(){var a=
this.playbackRate;this.Tf&&(a*=w.Bg);switch(this.V){case 0:this.k.playbackRate!==a&&(this.k.playbackRate=a);break;case 1:1===this.buffer.V?this.k.playbackRate.value!==a&&(this.k.playbackRate.value=a):this.k.playbackRate!==a&&(this.k.playbackRate=a)}};D.prototype.Jv=function(a){switch(this.V){case 0:a?this.mh()?(this.Cc=!0,this.k.pause()):this.Cc=!1:this.Cc&&(this.k.play(),this.Cc=!1);break;case 1:a?this.mh()?(this.Cc=!0,1===this.buffer.V?(this.Yb=this.Dl(!0),this.zd&&(this.Yb=this.Yb%this.bf()),b(this.k)):
this.k.pause()):this.Cc=!1:this.Cc&&(1===this.buffer.V?(this.k=z.createBufferSource(),this.k.buffer=this.buffer.da,this.k.connect(this.Ua),this.k.onended=this.Hm,this.oi=this.k,this.k.loop=this.zd,this.Ua.gain.value=Q*this.volume*this.jg,this.Ck(),this.startTime=(this.Tf?w.ib.Y:w.he.Y)-this.Yb/(this.playbackRate||.001),r(this.k,this.Yb,this.bf())):this.k.play(),this.Cc=!1);break;case 2:a?this.mh()?(this.k.pause(),this.Cc=!0):this.Cc=!1:this.Cc&&(this.Cc=!1,this.k.play())}};y.La=function(a){function b(){if(!S&&
z.createBuffer){var a=z.createBuffer(1,220,22050),c=z.createBufferSource();c.buffer=a;c.connect(z.destination);t(c)}}this.type=a;w=this.b=a.b;M=this;this.mc=null;this.Ah=-600;this.b.oh&&(Qa=!0);!(this.b.$f||this.b.jj&&(this.b.gh||this.b.kj))||this.b.hh||this.b.Oa||this.b.Wl||Qa||(Pa=!0);z=null;"undefined"!==typeof AudioContext?(H=1,z=new AudioContext):"undefined"!==typeof webkitAudioContext&&(H=1,z=new webkitAudioContext);this.b.$f&&z&&(z.close&&z.close(),"undefined"!==typeof AudioContext?z=new AudioContext:
"undefined"!==typeof webkitAudioContext&&(z=new webkitAudioContext));Pa?document.addEventListener("touchend",function(){!ib&&z&&(b(),ib=!0);var a,c,e;if(Pa){if(!L)for(a=0,c=Ra.length;a<c;++a)e=Ra[a],e.$b||e.lc||e.k.play();P(Ra)}},!0):Qa&&document.addEventListener("touchend",function(){!ib&&z&&(b(),ib=!0)},!0);1!==H&&(this.b.kc&&"undefined"!==typeof window.Media?H=2:this.b.Po&&(H=3));2===H&&(O=location.href,a=O.lastIndexOf("/"),-1<a&&(O=O.substr(0,a+1)),O=O.replace("file://",""));if(this.b.Bu&&this.b.Cu&&
"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Hd(this);else{if(this.b.Ib)F=this.b.jj;else try{F=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){F=!1}this.b.wk(this)}};var pa=y.La.prototype;pa.pa=function(){this.b.Ff=this;J=this.M[0];this.ae=this.M[1];this.cv=0!==this.M[2];this.Ap=0;ra=this.M[3];R=this.M[4];this.Ah=-this.M[5];ua=this.M[6];la=this.M[7];Da=this.M[8];this.mc=
new m;var a=this.b.I||this.b.width,b=this.b.H||this.b.height;1===H&&(z.listener.setPosition(a/2,b/2,this.Ah),z.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){Ea&&Ea.disconnect();ub=b.toLowerCase();Ea=z.createMediaStreamSource(a);Ea.connect(k(ub))});this.b.Xr(function(a){M.Yu(a)});var c=this;this.b.Tn(function(a){c.Ru(a)})};pa.Ru=function(a){var b,c,e;b=0;for(c=x.length;b<c;b++)e=x[b],e.rb&&e.rb.ka===a&&(e.rb.ka=null,e.Bd&&e.mh()&&e.zd&&e.stop());this.mc.ka===a&&(this.mc.ka=
null)};pa.Zb=function(){var a={silent:L,masterVolume:Q,listenerZ:this.Ah,listenerUid:this.mc.hj()?this.mc.ka.uid:-1,playing:[],effects:{}},b=a.playing,c,e,f,d,g,m;c=0;for(e=x.length;c<e;c++)f=x[c],!f.Mv()||3===this.ae||f.Mc&&1===this.ae||!f.Mc&&2===this.ae||(d=f.Dl(),f.zd&&(d=d%f.bf()),d={tag:f.tag,buffersrc:f.buffer.src,is_music:f.Mc,playbackTime:d,volume:f.volume,looping:f.zd,muted:f.Xf,playbackRate:f.playbackRate,paused:f.lc,resume_position:f.Yb},f.Bd&&(d.pan={},m=d.pan,f.rb&&f.rb.hj()?m.objUid=
f.rb.ka.uid:(m.x=f.Rp,m.y=f.Sp,m.a=f.Np),m.ia=f.Op,m.oa=f.Pp,m.og=f.Qp),b.push(d));b=a.effects;for(g in X)if(X.hasOwnProperty(g)){f=[];c=0;for(e=X[g].length;c<e;c++)f.push({type:X[g][c].type,params:X[g][c].ed});b[g]=f}return a};var Sa=[];pa.zc=function(b){var d=b.silent;Q=b.masterVolume;this.Ah=b.listenerZ;this.mc.Yh(null);var k=b.listenerUid;-1!==k&&(this.mc.wj=k,Sa.push(this.mc));var k=b.playing,h,p,t,v,r,D,U,z,w,y,A;if(3!==this.ae)for(h=0,p=x.length;h<p;h++)w=x[h],w.Mc&&1===this.ae||(w.Mc||2!==
this.ae)&&w.stop();for(r in X)if(X.hasOwnProperty(r))for(h=0,p=X[r].length;h<p;h++)X[r][h].remove();Za(X);for(r in b.effects)if(b.effects.hasOwnProperty(r))for(D=b.effects[r],h=0,p=D.length;h<p;h++)switch(t=D[h].type,y=D[h].params,t){case "filter":B(r,new a(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "delay":B(r,new e(y[0],y[1],y[2]));break;case "convolve":t=y[2];w=this.Xi(t,!1);w.da?t=new u(w.da,y[0],y[1],t):(t=new u(null,y[0],y[1],t),w.Cp=y[0],w.Ei=t);B(r,t);break;case "flanger":B(r,new c(y[0],y[1],
y[2],y[3],y[4]));break;case "phaser":B(r,new f(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "gain":B(r,new q(y[0]));break;case "tremolo":B(r,new l(y[0],y[1]));break;case "ringmod":B(r,new E(y[0],y[1]));break;case "distortion":B(r,new n(y[0],y[1],y[2],y[3],y[4]));break;case "compressor":B(r,new N(y[0],y[1],y[2],y[3],y[4]));break;case "analyser":B(r,new g(y[0],y[1]))}h=0;for(p=k.length;h<p;h++)3===this.ae||(b=k[h],t=b.buffersrc,v=b.is_music,r=b.tag,D=b.playbackTime,U=b.looping,z=b.volume,A=(y=b.pan)&&
y.hasOwnProperty("objUid")?y.objUid:-1,v&&1===this.ae)||!v&&2===this.ae||((w=this.Ao(t,r,v,U,z))?(w.Yb=b.resume_position,w.cn(!!y),w.play(U,z,D),w.Ck(),w.Wv(),w.Mi(w.Xf||w.ph),b.paused&&w.pause(),b.muted&&w.Hv(),w.Mi(w.Xf||w.ph),y&&(-1!==A?(w.rb=w.rb||new m,w.rb.wj=A,Sa.push(w.rb)):w.bn(y.x,y.y,y.a,y.ia,y.oa,y.og))):(w=this.Xi(t,v),w.dk=D,w.Oj=b.paused,y&&(-1!==A?w.ng.push({Ep:A,Ml:y.ia,Bm:y.oa,Em:y.og,Gq:r}):w.ng.push({x:y.x,y:y.y,Sr:y.a,Ml:y.ia,Bm:y.oa,Em:y.og,Gq:r}))));if(d&&!L){h=0;for(p=x.length;h<
p;h++)x[h].oq(!0);L=!0}else if(!d&&L){h=0;for(p=x.length;h<p;h++)x[h].oq(!1);L=!1}};pa.me=function(){var a,b,c,e;a=0;for(b=Sa.length;a<b;a++)c=Sa[a],e=this.b.aj(c.wj),c.Yh(e),c.wj=-1,e&&(I=e.x,G=e.y);P(Sa)};pa.Yu=function(a){if(!this.cv){!a&&z&&z.resume&&(z.resume(),S=!1);var b,c;b=0;for(c=x.length;b<c;b++)x[b].Jv(a);a&&z&&z.suspend&&(z.suspend(),S=!0)}};pa.Ka=function(){var a=this.b.Ue,b,c,e;b=0;for(c=x.length;b<c;b++)e=x[b],e.Ka(a),0!==J&&e.Ck();var f,d;for(f in X)if(X.hasOwnProperty(f))for(e=X[f],
b=0,c=e.length;b<c;b++)d=e[b],d.Ka&&d.Ka();1===H&&this.mc.hj()&&(this.mc.Ka(a),I=this.mc.ka.x,G=this.mc.ka.y,z.listener.setPosition(this.mc.ka.x,this.mc.ka.y,this.Ah))};var Ta=[];pa.Iv=function(a){var b,c,e,f,d,g=0;b=0;for(c=a.length;b<c;++b)if(e=a[b],f=e[0],e=2*e[1],(d=4<f.length&&".ogg"===f.substr(f.length-4))&&F||!d&&!F)Ta.push({filename:f,size:e,ka:null}),g+=e;return g};pa.Pv=function(){var a,b,c,e;a=0;for(b=Ta.length;a<b;++a)c=Ta[a],e=this.b.sl+c.filename,c.ka=this.Xi(e,!1)};pa.Ut=function(){var a=
0,b,c,e;b=0;for(c=Ta.length;b<c;++b)e=Ta[b],e.ka.Au()||e.ka.pu()||this.b.Oa||this.b.kj?a+=e.size:e.ka.Qo()&&(a+=Math.floor(e.size/2));return a};pa.tv=function(){var a,b,c,e;c=a=0;for(b=K.length;a<b;++a)e=K[a],K[c]=e,e.Mc?e.sv():++c;K.length=c};pa.Xi=function(a,b){var c,e,f,d=null;c=0;for(e=K.length;c<e;c++)if(f=K[c],f.src===a){d=f;break}d||(Qa&&b&&this.tv(),d=new v(a,b),K.push(d));return d};pa.Ao=function(a,b,c,e,f){var d,g,m;d=0;for(g=x.length;d<g;d++)if(m=x[d],m.src===a&&(m.js()||c))return m.tag=
b,m;a=this.Xi(a,c);if(!a.da)return"<preload>"!==b&&(a.Pj=b,a.um=e,a.Cn=f),null;m=new D(a,b);x.push(m);return m};var Ia=[];U.prototype.ni=function(a){return mb(V,a)};y.n=new U;W.prototype.Play=function(a,b,c,e){!L&&(c=Math.pow(10,c/20),isFinite(c)||(c=0),0>c&&(c=0),1<c&&(c=1),A=this.Ao(this.b.sl+a[0]+(F?".ogg":".m4a"),e,a[1],0!==b,c))&&(A.cn(!1),A.play(0!==b,c,0,this.Ap),this.Ap=0)};y.Ea=new W;y.ob=new function(){}})();function qc(d){this.b=d}
(function(){function d(d){this.wa=d;this.cb=!1;this.i=this.speed=this.y=this.x=0;this.opacity=1;this.ne=this.Rf=this.size=this.ej=0}var k=qc.prototype;k.ab=function(d){this.xa=d;this.b=d.b};var h=k.ab.prototype;h.pa=function(){this.K||(this.za=new Image,this.za.ho=this.mn,this.lb=null,this.b.Vq(this.za,this.ln))};h.Fj=function(){this.K||(this.lb=null)};h.Fm=function(){this.K||!this.d.length||this.lb||(this.lb=this.b.u.vj(this.za,!0,this.b.Da,this.nn))};h.om=function(){this.K||this.lb||!this.b.u||
(this.lb=this.b.u.vj(this.za,!0,this.b.Da,this.nn))};h.wn=function(){this.K||this.d.length||!this.lb||(this.b.u.deleteTexture(this.lb),this.lb=null)};h.Om=function(d){d.drawImage(this.za,0,0)};d.prototype.init=function(){var d=this.wa;this.x=d.x-d.Ik/2+Math.random()*d.Ik;this.y=d.y-d.Jk/2+Math.random()*d.Jk;this.speed=d.Sl-d.nk/2+Math.random()*d.nk;this.i=d.i-d.ok/2+Math.random()*d.ok;this.opacity=d.Ql;this.size=d.Rl-d.mk/2+Math.random()*d.mk;this.ej=d.Il-d.fj/2+Math.random()*d.fj;this.ne=this.Rf=
0};d.prototype.Ka=function(d){var h=this.wa;this.x+=Math.cos(this.i)*this.speed*d;this.y+=Math.sin(this.i)*this.speed*d;this.y+=this.Rf*d;this.speed+=h.bb*d;this.size+=this.ej*d;this.Rf+=h.we*d;this.ne+=d;1>this.size?this.cb=!1:(0!==h.xh&&(this.i+=Math.random()*h.xh*d-h.xh*d/2),0!==h.zh&&(this.speed+=Math.random()*h.zh*d-h.zh*d/2),0!==h.yh&&(this.opacity+=Math.random()*h.yh*d-h.yh*d/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=h.Jf&&this.ne>=h.timeout&&(this.cb=!1),2===h.Jf&&
0>=this.speed&&(this.cb=!1))};d.prototype.Jc=function(d){var h=this.wa.opacity*this.opacity;if(0!==h){0===this.wa.Jf&&(h*=1-this.ne/this.wa.timeout);d.globalAlpha=h;var h=this.x-this.size/2,b=this.y-this.size/2;this.wa.b.fd&&(h=h+.5|0,b=b+.5|0);d.drawImage(this.wa.type.za,h,b,this.size,this.size)}};d.prototype.Tb=function(d){var h=this.wa.opacity*this.opacity;0===this.wa.Jf&&(h*=1-this.ne/this.wa.timeout);var b=this.size,a=b*this.wa.Vp,e=this.x-b/2,k=this.y-b/2;this.wa.b.fd&&(e=e+.5|0,k=k+.5|0);1>
a||0===h||(a<d.Mu||a>d.vm?(d.uf(h),d.qg(e,k,e+b,k,e+b,k+b,e,k+b)):d.dv(this.x,this.y,a,h))};d.prototype.left=function(){return this.x-this.size/2};d.prototype.right=function(){return this.x+this.size/2};d.prototype.top=function(){return this.y-this.size/2};d.prototype.bottom=function(){return this.y+this.size/2};k.La=function(d){this.type=d;this.b=d.b};var h=k.La.prototype,p=[];h.pa=function(){var d=this.M;this.Yj=d[0];this.ok=T(d[1]);this.xg=d[2];this.gn=!0;this.Sl=d[3];this.Rl=d[4];this.Ql=d[5]/
100;this.Il=d[6];this.Ik=d[7];this.Jk=d[8];this.nk=d[9];this.mk=d[10];this.fj=d[11];this.bb=d[12];this.we=d[13];this.xh=d[14];this.zh=d[15];this.yh=d[16];this.Jf=d[17];this.timeout=d[18];this.sf=0;this.Vp=1;this.Lj=this.x;this.Nj=this.y;this.Mj=this.x;this.Kj=this.y;this.Yr(function(d){d.ra.set(d.Lj,d.Nj,d.Mj,d.Kj);d.Eb.wg(d.ra);d.xi=!1;d.An();d.Sq()});this.Bc||(this.Kb=[]);this.b.wk(this);this.type.om();if(1===this.xg)for(d=0;d<this.Yj;d++)this.Ok().opacity=0;this.Ti=!0};h.Zb=function(){var d={r:this.Yj,
sc:this.ok,st:this.xg,s:this.gn,isp:this.Sl,isz:this.Rl,io:this.Ql,gr:this.Il,xr:this.Ik,yr:this.Jk,spr:this.nk,szr:this.mk,grnd:this.fj,acc:this.bb,g:this.we,lar:this.xh,lsr:this.zh,lor:this.yh,dm:this.Jf,to:this.timeout,pcc:this.sf,ft:this.Ti,p:[]},h,b,a,e=d.p;h=0;for(b=this.Kb.length;h<b;h++)a=this.Kb[h],e.push([a.x,a.y,a.speed,a.i,a.opacity,a.ej,a.size,a.Rf,a.ne]);return d};h.zc=function(d){this.Yj=d.r;this.ok=d.sc;this.xg=d.st;this.gn=d.s;this.Sl=d.isp;this.Rl=d.isz;this.Ql=d.io;this.Il=d.gr;
this.Ik=d.xr;this.Jk=d.yr;this.nk=d.spr;this.mk=d.szr;this.fj=d.grnd;this.bb=d.acc;this.we=d.g;this.xh=d.lar;this.zh=d.lsr;this.yh=d.lor;this.Jf=d.dm;this.timeout=d.to;this.sf=d.pcc;this.Ti=d.ft;p.push.apply(p,this.Kb);P(this.Kb);var h,b,a,e=d.p;d=0;for(h=e.length;d<h;d++)b=this.Ok(),a=e[d],b.x=a[0],b.y=a[1],b.speed=a[2],b.i=a[3],b.opacity=a[4],b.ej=a[5],b.size=a[6],b.Rf=a[7],b.ne=a[8]};h.Nh=function(){p.push.apply(p,this.Kb);P(this.Kb)};h.Ok=function(){var h;p.length?(h=p.pop(),h.wa=this):h=new d(this);
this.Kb.push(h);h.cb=!0;return h};h.Ka=function(){var d=this.b.Wg(this),h,b,a,e;if(0===this.xg&&this.gn)for(this.sf+=d*this.Yj,b=C(this.sf),this.sf-=b,h=0;h<b;h++)a=this.Ok(),a.init();this.Lj=this.x;this.Nj=this.y;this.Mj=this.x;this.Kj=this.y;e=h=0;for(b=this.Kb.length;h<b;h++)a=this.Kb[h],this.Kb[e]=a,this.b.ea=!0,1===this.xg&&this.Ti&&a.init(),a.Ka(d),a.cb?(a.left()<this.Lj&&(this.Lj=a.left()),a.right()>this.Mj&&(this.Mj=a.right()),a.top()<this.Nj&&(this.Nj=a.top()),a.bottom()>this.Kj&&(this.Kj=
a.bottom()),e++):p.push(a);ya(this.Kb,e);this.F();this.Ti=!1;1===this.xg&&0===this.Kb.length&&this.b.Hd(this)};h.Jc=function(d){var h,b,a,e=this.j;h=0;for(b=this.Kb.length;h<b;h++)a=this.Kb[h],a.right()>=e.ga&&a.bottom()>=e.ba&&a.left()<=e.na&&a.top()<=e.ma&&a.Jc(d)};h.Tb=function(d){this.Vp=this.j.Vb();d.pc(this.type.lb);var h,b,a,e=this.j;h=0;for(b=this.Kb.length;h<b;h++)a=this.Kb[h],a.right()>=e.ga&&a.bottom()>=e.ba&&a.left()<=e.na&&a.top()<=e.ma&&a.Tb(d)};k.n=new function(){};k.Ea=new function(){};
k.ob=new function(){}})();function oc(d){this.b=d}
(function(){function d(){if(0===this.hl.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.yg?b.drawImage(this.za,this.kg,this.lg,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.za,0,0,this.width,this.height);this.hl=a.toDataURL("image/png")}return this.hl}function k(){}function h(a){a[0]=0;a[1]=0;a[2]=0;q.push(a)}function p(a,b){return a<b?""+a+","+b:""+b+","+a}function t(a,b,c,e){b=b.uid;c=c.uid;var d=p(b,c);if(a.hasOwnProperty(d))a[d][2]=
e;else{var f=q.length?q.pop():[0,0,0];f[0]=b;f[1]=c;f[2]=e;a[d]=f}}function r(a,b,c){b=p(b.uid,c.uid);a.hasOwnProperty(b)&&(h(a[b]),delete a[b])}function b(a,b,c){b=p(b.uid,c.uid);if(a.hasOwnProperty(b))return l=a[b][2],!0;l=-2;return!1}function a(){}var e=oc.prototype;e.ab=function(a){this.xa=a;this.b=a.b};var u=e.ab.prototype;u.pa=function(){if(!this.K){var a,b,c,e,f,h,n,k,l;this.Xc=[];this.bh=!1;a=0;for(b=this.gc.length;a<b;a++){f=this.gc[a];n={};n.name=f[0];n.speed=f[1];n.loop=f[2];n.Vm=f[3];
n.Wm=f[4];n.Wp=f[5];n.X=f[6];n.frames=[];c=0;for(e=f[7].length;c<e;c++)h=f[7][c],k={},k.ln=h[0],k.mn=h[1],k.kg=h[2],k.lg=h[3],k.width=h[4],k.height=h[5],k.duration=h[6],k.ic=h[7],k.jc=h[8],k.Ol=h[9],k.Qj=h[10],k.Xp=h[11],k.yg=0!==k.width,k.hl="",k.vx=d,l={left:0,top:0,right:1,bottom:1},k.dn=l,k.lb=null,(l=this.b.Ft(h[0]))?k.za=l:(k.za=new Image,k.za.os=h[0],k.za.ho=h[1],k.za.gs=null,this.b.Vq(k.za,h[0])),n.frames.push(k),this.Xc.push(k);this.gc[a]=n}}};u.Rq=function(){var a,b,c;a=0;for(b=this.d.length;a<
b;a++)c=this.d[a],c.Gi=c.mb.lb};u.Fj=function(){if(!this.K){var a,b,c;a=0;for(b=this.Xc.length;a<b;++a)c=this.Xc[a],c.za.gs=null,c.lb=null;this.bh=!1;this.Rq()}};u.Fm=function(){if(!this.K&&this.d.length){var a,b,c;a=0;for(b=this.Xc.length;a<b;++a)c=this.Xc[a],c.lb=this.b.u.vj(c.za,!1,this.b.Da,c.Xp);this.Rq()}};u.om=function(){if(!this.K&&!this.bh&&this.b.u){var a,b,c;a=0;for(b=this.Xc.length;a<b;++a)c=this.Xc[a],c.lb=this.b.u.vj(c.za,!1,this.b.Da,c.Xp);this.bh=!0}};u.wn=function(){if(!this.K&&!this.d.length&&
this.bh){var a,b,c;a=0;for(b=this.Xc.length;a<b;++a)c=this.Xc[a],this.b.u.deleteTexture(c.lb),c.lb=null;this.bh=!1}};var c=[];u.Om=function(a){var b,e,f;P(c);b=0;for(e=this.Xc.length;b<e;++b)f=this.Xc[b].za,-1===c.indexOf(f)&&(a.drawImage(f,0,0),c.push(f))};e.La=function(a){this.type=a;this.b=a.b;a=this.type.gc[0].frames[0].Qj;this.Bc?this.ja.$h(a):this.ja=new fb(a)};var f=e.La.prototype;f.pa=function(){this.visible=0===this.M[0];this.Ld=0!==this.M[3];this.Aa=this.zo(this.M[1])||this.type.gc[0];this.B=
this.M[2];0>this.B&&(this.B=0);this.B>=this.Aa.frames.length&&(this.B=this.Aa.frames.length-1);var a=this.Aa.frames[this.B];this.ja.$h(a.Qj);this.ic=a.ic;this.jc=a.jc;this.Hf=this.Aa.speed;this.ue=this.Aa.Wm;1===this.type.gc.length&&1===this.type.gc[0].frames.length||0===this.Hf||this.b.wk(this);this.Bc?this.rd.reset():this.rd=new db;this.Td=this.rd.Y;this.Oe=!0;this.Id=0;this.Ne=!0;this.al=this.Vn="";this.ks=0;this.$k=-1;this.type.om();var b,c,e,f,d,h,n,a=0;for(b=this.type.gc.length;a<b;a++)for(f=
this.type.gc[a],c=0,e=f.frames.length;c<e;c++)d=f.frames[c],0===d.width&&(d.width=d.za.width,d.height=d.za.height),d.yg&&(n=d.za,h=d.dn,h.left=d.kg/n.width,h.top=d.lg/n.height,h.right=(d.kg+d.width)/n.width,h.bottom=(d.lg+d.height)/n.height,0===d.kg&&0===d.lg&&d.width===n.width&&d.height===n.height&&(d.yg=!1));this.mb=this.Aa.frames[this.B];this.Gi=this.mb.lb};f.Zb=function(){var a={a:this.Aa.X,f:this.B,cas:this.Hf,fs:this.Td,ar:this.Id,at:this.rd.Y,rt:this.ue};this.Oe||(a.ap=this.Oe);this.Ne||(a.af=
this.Ne);return a};f.zc=function(a){var b=this.Kt(a.a);b&&(this.Aa=b);this.B=a.f;0>this.B&&(this.B=0);this.B>=this.Aa.frames.length&&(this.B=this.Aa.frames.length-1);this.Hf=a.cas;this.Td=a.fs;this.Id=a.ar;this.rd.reset();this.rd.Y=a.at;this.Oe=a.hasOwnProperty("ap")?a.ap:!0;this.Ne=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.ue=a.rt:this.ue=this.Aa.Wm;this.mb=this.Aa.frames[this.B];this.Gi=this.mb.lb;this.ja.$h(this.mb.Qj);this.ic=this.mb.ic;this.jc=this.mb.jc};f.Sk=function(a){this.B=
a?0:this.Aa.frames.length-1;this.Oe=!1;this.Vn=this.Aa.name;this.b.trigger(oc.prototype.n.or,this);this.b.trigger(oc.prototype.n.nr,this);this.Id=0};f.Tk=function(){return this.rd.Y};f.Ka=function(){this.rd.add(this.b.Wg(this));this.al.length&&this.vs();0<=this.$k&&this.ws();var a=this.rd.Y,b=this.Aa,c=b.frames[this.B],e=c.duration/this.Hf;this.Oe&&a>=this.Td+e&&(this.Ne?this.B++:this.B--,this.Td+=e,this.B>=b.frames.length&&(b.Wp?(this.Ne=!1,this.B=b.frames.length-2):b.loop?this.B=this.ue:(this.Id++,
this.Id>=b.Vm?this.Sk(!1):this.B=this.ue)),0>this.B&&(b.Wp?(this.B=1,this.Ne=!0,b.loop||(this.Id++,this.Id>=b.Vm&&this.Sk(!0))):b.loop?this.B=this.ue:(this.Id++,this.Id>=b.Vm?this.Sk(!0):this.B=this.ue)),0>this.B?this.B=0:this.B>=b.frames.length&&(this.B=b.frames.length-1),a>this.Td+b.frames[this.B].duration/this.Hf&&(this.Td=a),a=b.frames[this.B],this.Ef(c,a),this.b.ea=!0)};f.zo=function(a){var b,c,e;b=0;for(c=this.type.gc.length;b<c;b++)if(e=this.type.gc[b],mb(e.name,a))return e;return null};f.Kt=
function(a){var b,c,e;b=0;for(c=this.type.gc.length;b<c;b++)if(e=this.type.gc[b],e.X===a)return e;return null};f.vs=function(){var a=this.Aa.frames[this.B],b=this.zo(this.al);this.al="";!b||mb(b.name,this.Aa.name)&&this.Oe||(this.Aa=b,this.Hf=b.speed,this.ue=b.Wm,0>this.B&&(this.B=0),this.B>=this.Aa.frames.length&&(this.B=this.Aa.frames.length-1),1===this.ks&&(this.B=0),this.Oe=!0,this.Td=this.rd.Y,this.Ne=!0,this.Ef(a,this.Aa.frames[this.B]),this.b.ea=!0)};f.ws=function(){var a=this.Aa.frames[this.B],
b=this.B;this.B=C(this.$k);0>this.B&&(this.B=0);this.B>=this.Aa.frames.length&&(this.B=this.Aa.frames.length-1);b!==this.B&&(this.Ef(a,this.Aa.frames[this.B]),this.Td=this.rd.Y,this.b.ea=!0);this.$k=-1};f.Ef=function(a,b){var c=a.width,e=a.height,d=b.width,f=b.height;c!=d&&(this.width*=d/c);e!=f&&(this.height*=f/e);this.ic=b.ic;this.jc=b.jc;this.ja.$h(b.Qj);this.F();this.mb=b;this.Gi=b.lb;c=0;for(e=this.O.length;c<e;c++)d=this.O[c],d.Xu&&d.Xu(a,b);this.b.trigger(oc.prototype.n.Ef,this)};f.Jc=function(a){a.globalAlpha=
this.opacity;var b=this.mb,c=b.yg,e=b.za,d=this.x,f=this.y,h=this.width,n=this.height;if(0===this.i&&0<=h&&0<=n)d-=this.ic*h,f-=this.jc*n,this.b.fd&&(d=Math.round(d),f=Math.round(f)),c?a.drawImage(e,b.kg,b.lg,b.width,b.height,d,f,h,n):a.drawImage(e,d,f,h,n);else{this.b.fd&&(d=Math.round(d),f=Math.round(f));a.save();var k=0<h?1:-1,l=0<n?1:-1;a.translate(d,f);1===k&&1===l||a.scale(k,l);a.rotate(this.i*k*l);d=0-this.ic*ka(h);f=0-this.jc*ka(n);c?a.drawImage(e,b.kg,b.lg,b.width,b.height,d,f,ka(h),ka(n)):
a.drawImage(e,d,f,ka(h),ka(n));a.restore()}};f.Kf=function(a){this.Tb(a)};f.Tb=function(a){a.pc(this.Gi);a.uf(this.opacity);var b=this.mb,c=this.Eb;if(this.b.fd){var e=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y;b.yg?a.Ie(c.ub+e,c.wb+d,c.cc+e,c.ec+d,c.Rb+e,c.Sb+d,c.Pb+e,c.Qb+d,b.dn):a.qg(c.ub+e,c.wb+d,c.cc+e,c.ec+d,c.Rb+e,c.Sb+d,c.Pb+e,c.Qb+d)}else b.yg?a.Ie(c.ub,c.wb,c.cc,c.ec,c.Rb,c.Sb,c.Pb,c.Qb,b.dn):a.qg(c.ub,c.wb,c.cc,c.ec,c.Rb,c.Sb,c.Pb,c.Qb)};f.Pt=function(a){var b=this.mb,c,e;c=
0;for(e=b.Ol.length;c<e;c++)if(mb(a,b.Ol[c][0]))return c;return-1};f.Xg=function(a,b){var c=this.mb,e=c.Ol,d;ha(a)?d=this.Pt(a):d=a-1;d=C(d);if(0>d||d>=e.length)return b?this.x:this.y;var f=(e[d][1]-c.ic)*this.width,e=e[d][2],e=(e-c.jc)*this.height,c=Math.cos(this.i);d=Math.sin(this.i);var h=f*c-e*d,e=e*c+f*d,f=h+this.x,e=e+this.y;return b?f:e};var q=[],l=-2,E=[];k.prototype.qr=function(a){if(!a)return!1;var c=this.b,e=c.zl(),d=e.type,f=null;e.J.collmemory?f=e.J.collmemory:(f={},e.J.collmemory=f);
e.J.spriteCreatedDestroyCallback||(e.J.spriteCreatedDestroyCallback=!0,c.Tn(function(a){var b=e.J.collmemory;a=a.uid;var c,d;for(c in b)b.hasOwnProperty(c)&&(d=b[c],d[0]===a||d[1]===a)&&(h(b[c]),delete b[c])}));var n=d.W(),k=a.W(),n=n.wc(),p,u,q,N,O,H,z,K=this.b.Vc,x=K-1,A=c.gb().Hb;for(u=0;u<n.length;u++){q=n[u];k.fa?(q.qa(),this.b.Bo(q.j,a,q.ra,E),p=E):p=k.wc();for(N=0;N<p.length;N++)O=p[N],c.yf(q,O)||c.ls(q,O)?(H=b(f,q,O),H=!H||l<x,t(f,q,O,K),H&&(c.Vj(A.ta),H=d.W(),z=a.W(),H.fa=!1,z.fa=!1,d===
a?(H.d.length=2,H.d[0]=q,H.d[1]=O,d.Yc()):(H.d.length=1,z.d.length=1,H.d[0]=q,z.d[0]=O,d.Yc(),a.Yc()),A.yv(),c.tf(A.ta))):r(f,q,O);P(E)}return!1};var n=new ba,N=!1;new ta(0,0,0,0);u.finish=function(a){if(N){if(a){var b=this.b.gb().Hb.Oc;a=null.W();var c=n.Me(),e,d;if(a.fa){a.fa=!1;P(a.d);e=0;for(d=c.length;e<d;++e)a.d[e]=c[e];if(b)for(P(a.U),e=0,d=null.d.length;e<d;++e)c=null.d[e],n.contains(c)||a.U.push(c)}else if(b)for(b=a.d.length,e=0,d=c.length;e<d;++e)a.d[b+e]=c[e],Ca(a.U,c[e]);else za(a.d,c);
null.Yc()}n.clear();N=!1}};k.prototype.nr=function(a){return mb(this.Vn,a)};k.prototype.or=function(){return!0};k.prototype.Ef=function(){return!0};e.n=new k;a.prototype.Mr=function(a,b,c){if(a&&b&&(b=this.b.el(a,b,this.Xg(c,!0),this.Xg(c,!1)))){"undefined"!==typeof b.i&&(b.i=this.i,b.F());this.b.yc++;var e,d,f;this.b.trigger(Object.getPrototypeOf(a.xa).n.Df,b);if(b.Jb)for(e=0,d=b.siblings.length;e<d;e++)f=b.siblings[e],this.b.trigger(Object.getPrototypeOf(f.type.xa).n.Df,f);this.b.yc--;e=this.b.Mt();
c=!1;if(fa(e.J.Spawn_LastExec)||e.J.Spawn_LastExec<this.b.Ze)c=!0,e.J.Spawn_LastExec=this.b.Ze;if(a!=this.type&&(a=a.W(),a.fa=!1,c?(P(a.d),a.d[0]=b):a.d.push(b),b.Jb))for(e=0,d=b.siblings.length;e<d;e++)f=b.siblings[e],a=f.type.W(),a.fa=!1,c?(P(a.d),a.d[0]=f):a.d.push(f)}};e.Ea=new a;e.ob=new function(){}})();function rc(d){this.b=d}
(function(){function d(){return a.length?a.pop():{}}function k(b){var d,c;d=0;for(c=b.length;d<c;d++)a.push(b[d]);P(b)}function h(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function p(){}var t=rc.prototype;t.pa=function(){t.Ea.Kr=function(a){this.width!==a&&(this.width=a,this.zf=!0,this.F())}};t.ab=function(a){this.xa=a;this.b=a.b};var r=t.ab.prototype;r.pa=function(){};r.Fj=function(){if(!this.K){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.Ad=null,c.qf=
null,c.nc=null}};t.La=function(a){this.type=a;this.b=a.b;this.Bc?P(this.De):this.De=[];this.zf=!0};r=t.La.prototype;r.pa=function(){this.text=this.M[0];this.visible=0===this.M[1];this.font=this.M[2];this.color=this.M[3];this.gj=this.M[4];this.Ek=this.M[5];this.En=0===this.M[7];this.lm=this.qj=this.width;this.pj=this.height;this.nm=this.M[8];this.Ui=this.Mf="";this.Eq=this.Fq=this.Sh=0;this.av();this.nc=this.qf=this.Ad=null;this.zp=!1;this.vh=this.b.Vc;this.Bc?this.rg.set(0,0,1,1):this.rg=new ta(0,
0,1,1);this.b.u&&this.b.wk(this)};r.av=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Sh=parseInt(a[b].substr(0,a[b].length-2));this.Rm=Math.ceil(this.Sh/72*96)+4;0<b&&(this.Ui=a[b-1]);this.Mf=a[b+1];for(b+=2;b<a.length;b++)this.Mf+=" "+a[b];break}};r.Zb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.gj,va:this.Ek,wr:this.En,lho:this.nm,fn:this.Mf,fs:this.Ui,ps:this.Sh,pxh:this.Rm,tw:this.Fq,th:this.Eq,lrt:this.vh}};r.zc=
function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.gj=a.ha;this.Ek=a.va;this.En=a.wr;this.nm=a.lho;this.Mf=a.fn;this.Ui=a.fs;this.Sh=a.ps;this.Rm=a.pxh;this.Fq=a.tw;this.Eq=a.th;this.vh=a.lrt;this.zf=!0;this.lm=this.qj=this.width;this.pj=this.height};r.Ka=function(){if(this.b.u&&this.nc&&300<=this.b.Vc-this.vh){var a=this.j;this.qa();var b=this.ra;if(b.right<a.ga||b.bottom<a.ba||b.left>a.na||b.top>a.ma)this.b.u.deleteTexture(this.nc),this.Ad=this.qf=this.nc=null}};r.Nh=function(){this.Ad=
this.qf=null;this.b.u&&this.nc&&this.b.u.deleteTexture(this.nc);this.nc=null};r.Tk=function(){this.font=this.Ui+" "+this.Sh.toString()+"pt "+this.Mf;this.zf=!0;this.b.ea=!0};r.Jc=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.j.Vb()),a.save(),a.scale(c,c));if(this.zf||this.width!==this.lm)this.type.xa.Pr(this.text,this.De,a,this.width,this.En),this.zf=!1,this.lm=this.width;this.qa();var c=b?0:this.Eb.ub,d=b?0:this.Eb.wb;
this.b.fd&&(c=c+.5|0,d=d+.5|0);0===this.i||b||(a.save(),a.translate(c,d),a.rotate(this.i),d=c=0);var h=d+this.height,k=this.Rm,k=k+this.nm,p,n;1===this.Ek?d+=Math.max(this.height/2-this.De.length*k/2,0):2===this.Ek&&(d+=Math.max(this.height-this.De.length*k-2,0));for(n=0;n<this.De.length&&!(p=c,1===this.gj?p=c+(this.width-this.De[n].width)/2:2===this.gj&&(p=c+(this.width-this.De[n].width)),a.fillText(this.De[n].text,p,d),d+=k,d>=h-k);n++);(0!==this.i||b)&&a.restore();this.vh=this.b.Vc};r.Tb=function(a){if(!(1>
this.width||1>this.height)){var b=this.zf||this.zp;this.zp=!1;var c=this.j.Vb(),d=this.j.Va(),h=this.rg,k=c*this.width,p=c*this.height,n=Math.ceil(k),r=Math.ceil(p),g=Math.abs(n),m=Math.abs(r),t=this.b.I/2,D=this.b.H/2;this.qf||(this.Ad=document.createElement("canvas"),this.Ad.width=g,this.Ad.height=m,this.qj=g,this.pj=m,b=!0,this.qf=this.Ad.getContext("2d"));if(g!==this.qj||m!==this.pj)this.Ad.width=g,this.Ad.height=m,this.nc&&(a.deleteTexture(this.nc),this.nc=null),b=!0;b&&(this.qf.clearRect(0,
0,g,m),this.Jc(this.qf,!0),this.nc||(this.nc=a.tc(g,m,this.b.Da,this.b.ze)),a.aw(this.Ad,this.nc,this.b.ze));this.qj=g;this.pj=m;a.pc(this.nc);a.uf(this.opacity);a.Rc();a.translate(-t,-D);a.Dc();var B=this.Eb,b=this.j.Ca(B.ub,B.wb,!0,!0),g=this.j.Ca(B.ub,B.wb,!1,!0),m=this.j.Ca(B.cc,B.ec,!0,!0),t=this.j.Ca(B.cc,B.ec,!1,!0),D=this.j.Ca(B.Rb,B.Sb,!0,!0),U=this.j.Ca(B.Rb,B.Sb,!1,!0),W=this.j.Ca(B.Pb,B.Qb,!0,!0),B=this.j.Ca(B.Pb,B.Qb,!1,!0);if(this.b.fd||0===this.i&&0===d)var y=(b+.5|0)-b,w=(g+.5|0)-
g,b=b+y,g=g+w,m=m+y,t=t+w,D=D+y,U=U+w,W=W+y,B=B+w;0===this.i&&0===d?(m=b+n,t=g,D=m,U=g+r,W=b,B=U,h.right=1,h.bottom=1):(h.right=k/n,h.bottom=p/r);a.Ie(b,g,m,t,D,U,W,B,h);a.Rc();a.scale(c,c);a.ak(-this.j.Va());a.translate((this.j.ga+this.j.na)/-2,(this.j.ba+this.j.ma)/-2);a.Dc();this.vh=this.b.Vc}};var b=[];t.Nr=function(a){P(b);for(var d="",c,f=0;f<a.length;)if(c=a.charAt(f),"\n"===c)d.length&&(b.push(d),d=""),b.push("\n"),++f;else if(" "===c||"\t"===c||"-"===c){do d+=a.charAt(f),f++;while(f<a.length&&
(" "===a.charAt(f)||"\t"===a.charAt(f)));b.push(d);d=""}else f<a.length&&(d+=c,f++);d.length&&b.push(d)};var a=[];t.Pr=function(a,b,c,f,h){if(a&&a.length)if(2>=f)k(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var l=c.measureText(a).width;if(l<=f){k(b);b.push(d());b[0].text=a;b[0].width=l;return}}this.Qr(a,b,c,f,h)}else k(b)};t.Qr=function(e,k,c,f,p){p&&(this.Nr(e),e=b);var l="",r,n,t,g=0;for(t=0;t<e.length;t++)"\n"===e[t]?(g>=k.length&&k.push(d()),l=h(l),n=k[g],n.text=l,n.width=c.measureText(l).width,
g++,l=""):(r=l,l+=e[t],n=c.measureText(l).width,n>=f&&(g>=k.length&&k.push(d()),r=h(r),n=k[g],n.text=r,n.width=c.measureText(r).width,g++,l=e[t],p||" "!==l||(l="")));l.length&&(g>=k.length&&k.push(d()),l=h(l),n=k[g],n.text=l,n.width=c.measureText(l).width,g++);for(t=g;t<k.length;t++)a.push(k[t]);k.length=g};t.n=new function(){};p.prototype.Ir=function(a){ga(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.zf=!0,this.b.ea=!0)};t.Ea=new p;t.ob=new function(){}})();
function Z(d){this.b=d}
(function(){function d(a){e=a.x;u=a.y;c=a.z}function k(a,b,c,d){var e;e=f.length?f.pop():new h;e.init(a,b,c,d);return e}function h(){this.ci=this.id=this.mf=this.lf=this.y=this.x=this.rk=this.qk=this.jm=this.time=this.jn=0;this.hi=this.zk=!1}function p(){}function t(){}var r=Z.prototype;r.ab=function(a){this.xa=a;this.b=a.b};r.ab.prototype.pa=function(){};r.La=function(a){this.type=a;this.b=a.b;this.touches=[];this.ym=!1};var b=r.La.prototype,a={left:0,top:0};b.Vg=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var e=0,u=0,c=0,f=[];h.prototype.init=function(a,b,c,d){var e=$a();this.jn=this.jm=this.time=e;this.qk=a;this.rk=b;this.x=a;this.y=b;this.lf=a;this.mf=b;this.pressure=this.height=this.width=0;this.id=c;this.ci=d;this.hi=this.zk=!1};h.prototype.update=function(a,b,c,d,e,f){this.jm=this.time;this.time=a;this.lf=this.x;this.mf=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.hi&&15<=Wa(this.qk,this.rk,this.x,this.y)&&(this.hi=
!0)};h.prototype.Ku=function(a,b){!this.zk&&500<=$a()-this.jn&&!this.hi&&15>Wa(this.qk,this.rk,this.x,this.y)&&(this.zk=!0,a.Gd=this.ci,a.Cg=this.id,a.Qf=b,a.b.trigger(Z.prototype.n.ur,a),a.Nd=this.x,a.Od=this.y,a.b.trigger(Z.prototype.n.Ar,a),a.Qf=0)};var q=-1E3,l=-1E3,E=-1E4;h.prototype.up=function(a,b){if(!this.zk){var c=$a();333>=c-this.jn&&!this.hi&&15>Wa(this.qk,this.rk,this.x,this.y)&&(a.Gd=this.ci,a.Cg=this.id,a.Qf=b,666>=c-E&&25>Wa(q,l,this.x,this.y)?(a.b.trigger(Z.prototype.n.sr,a),a.Nd=
this.x,a.Od=this.y,a.b.trigger(Z.prototype.n.tr,a),l=q=-1E3,E=-1E4):(a.b.trigger(Z.prototype.n.Dr,a),a.Nd=this.x,a.Od=this.y,a.b.trigger(Z.prototype.n.Er,a),q=this.x,l=this.y,E=c),a.Qf=0)}};b.pa=function(){this.Du=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Qf=this.Cg=this.Gd=this.Od=this.Nd=this.Rn=this.Qn=this.Pn=this.Vr=this.Ur=this.Tr=this.Jj=this.Ij=this.Hj=0;this.Zv=0!==this.M[0];var a=0<this.b.Ub?document:this.b.canvas,b=document;this.b.Ib?b=a=window.Canvas:this.b.Lc&&
(b=a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Jp(a)},!1),a.addEventListener("pointermove",function(a){c.Ip(a)},!1),b.addEventListener("pointerup",function(a){c.Gj(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Gj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Jp(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Ip(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Gj(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Gj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Lp(a)},!1),a.addEventListener("touchmove",function(a){c.Kp(a)},!1),b.addEventListener("touchend",function(a){c.Gm(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Gm(a,!0)},!1));if(this.Du){var e=function(a){a=a.reading;c.Pn=a.accelerationX;c.Qn=a.accelerationY;c.Rn=a.accelerationZ},f=function(a){a=a.reading;c.Hj=a.yawDegrees;c.Ij=a.pitchDegrees;c.Jj=a.rollDegrees},h=Windows.Devices.Sensors.Accelerometer.getDefault();
h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",e));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(h&&h.removeEventListener("readingchanged",e),k&&k.removeEventListener("readingchanged",f)):(h&&h.addEventListener("readingchanged",e),k&&k.addEventListener("readingchanged",
f))},!1)}else window.addEventListener("deviceorientation",function(a){c.Hj=a.alpha||0;c.Ij=a.beta||0;c.Jj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Tr=a.accelerationIncludingGravity.x||0,c.Ur=a.accelerationIncludingGravity.y||0,c.Vr=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.Pn=a.acceleration.x||0,c.Qn=a.acceleration.y||0,c.Rn=a.acceleration.z||0)},!1);this.Zv&&!this.b.Oa&&(jQuery(document).mousemove(function(a){c.Vu(a)}),jQuery(document).mousedown(function(a){c.Uu(a)}),
jQuery(document).mouseup(function(a){c.Wu(a)}));!this.b.$f&&this.b.kc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(d,null,{frequency:40});this.b.Sv(this)};b.Ip=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&b.preventDefault();var c=this.Vg(b.pointerId),d=$a();if(0<=c){var e=this.b.Oa?a:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,b.pageX-e.left,b.pageY-e.top,
b.width||0,b.height||0,b.pressure||0)}}};b.Jp=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&nb(b)&&b.preventDefault();var c=this.b.Oa?a:jQuery(this.b.canvas).offset(),d=b.pageX-c.left,c=b.pageY-c.top;$a();this.Gd=this.touches.length;this.Cg=b.pointerId;this.touches.push(k(d,c,b.pointerId,this.Gd));this.b.yd=!0;this.b.trigger(Z.prototype.n.Jn,this);this.b.trigger(Z.prototype.n.Nn,this);this.Nd=d;this.Od=c;this.b.trigger(Z.prototype.n.Mn,this);this.b.yd=
!1}};b.Gj=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&nb(a)&&a.preventDefault();var c=this.Vg(a.pointerId);this.Gd=0<=c?this.touches[c].ci:-1;this.Cg=0<=c?this.touches[c].id:-1;this.b.yd=!0;this.b.trigger(Z.prototype.n.In,this);this.b.trigger(Z.prototype.n.Ln,this);0<=c&&(b||this.touches[c].up(this,c),100>f.length&&f.push(this.touches[c]),this.touches.splice(c,1));this.b.yd=!1}};b.Kp=function(b){b.preventDefault&&b.preventDefault();var c=$a(),
d,e,f,h;d=0;for(e=b.changedTouches.length;d<e;d++)if(f=b.changedTouches[d],h=this.Vg(f.identifier),0<=h){var k=this.b.Oa?a:jQuery(this.b.canvas).offset();h=this.touches[h];2>c-h.time||h.update(c,f.pageX-k.left,f.pageY-k.top,2*(f.Gx||f.Nx||f.zx||f.Cx||0),2*(f.Hx||f.Ox||f.Ax||f.Dx||0),f.tx||f.Mx||f.yx||f.Bx||0)}};b.Lp=function(b){b.preventDefault&&nb(b)&&b.preventDefault();var c=this.b.Oa?a:jQuery(this.b.canvas).offset();$a();this.b.yd=!0;var d,e,f,h;d=0;for(e=b.changedTouches.length;d<e;d++)if(f=b.changedTouches[d],
h=this.Vg(f.identifier),-1===h){h=f.pageX-c.left;var l=f.pageY-c.top;this.Gd=this.touches.length;this.Cg=f.identifier;this.touches.push(k(h,l,f.identifier,this.Gd));this.b.trigger(Z.prototype.n.Jn,this);this.b.trigger(Z.prototype.n.Nn,this);this.Nd=h;this.Od=l;this.b.trigger(Z.prototype.n.Mn,this)}this.b.yd=!1};b.Gm=function(a,b){a.preventDefault&&nb(a)&&a.preventDefault();this.b.yd=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Vg(e.identifier),0<=e&&(this.Gd=
this.touches[e].ci,this.Cg=this.touches[e].id,this.b.trigger(Z.prototype.n.In,this),this.b.trigger(Z.prototype.n.Ln,this),b||this.touches[e].up(this,e),100>f.length&&f.push(this.touches[e]),this.touches.splice(e,1));this.b.yd=!1};b.Tk=function(){return this.b.kc&&0===this.Hj&&0!==c?90*c:this.Hj};b.rx=function(){return this.b.kc&&0===this.Ij&&0!==u?90*u:this.Ij};b.xx=function(){return this.b.kc&&0===this.Jj&&0!==e?90*e:this.Jj};b.Uu=function(a){this.Lp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,
identifier:0}]});this.ym=!0};b.Vu=function(a){this.ym&&this.Kp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};b.Wu=function(a){a.preventDefault&&this.b.Go&&!this.b.ze&&a.preventDefault();this.b.Go=!0;this.Gm({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.ym=!1};b.pn=function(){var a,b,c,d=$a();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.jm=d),c.Ku(this,a)};p.prototype.Nn=function(){return!0};p.prototype.Ln=function(){return!0};p.prototype.kr=
function(){return this.touches.length};p.prototype.Mn=function(a){return a?this.b.tk(a,this.Nd,this.Od):!1};p.prototype.Jn=function(a){a=Math.floor(a);return a===this.Gd};p.prototype.In=function(a){a=Math.floor(a);return a===this.Gd};p.prototype.ur=function(){return!0};p.prototype.Dr=function(){return!0};p.prototype.sr=function(){return!0};p.prototype.Ar=function(a){return a?this.b.tk(a,this.Nd,this.Od):!1};p.prototype.Er=function(a){return a?this.b.tk(a,this.Nd,this.Od):!1};p.prototype.tr=function(a){return a?
this.b.tk(a,this.Nd,this.Od):!1};r.n=new p;t.prototype.Nk=function(a,b){var c=this.Qf;if(0>c||c>=this.touches.length)a.G(0);else{var d,e,f,h,k;fa(b)?(d=this.b.Pf(0),e=d.scale,f=d.qd,h=d.Pc,k=d.i,d.scale=1,d.qd=1,d.Pc=1,d.i=0,a.G(d.Fb(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.qd=f,d.Pc=h,d.i=k):(d=ga(b)?this.b.Pf(b):this.b.Zi(b))?a.G(d.Fb(this.touches[c].x,this.touches[c].y,!0)):a.G(0)}};t.prototype.On=function(a,b){var c=this.Qf;if(0>c||c>=this.touches.length)a.G(0);else{var d,e,f,h,k;
fa(b)?(d=this.b.Pf(0),e=d.scale,f=d.qd,h=d.Qc,k=d.i,d.scale=1,d.qd=1,d.Qc=1,d.i=0,a.G(d.Fb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.qd=f,d.Qc=h,d.i=k):(d=ga(b)?this.b.Pf(b):this.b.Zi(b))?a.G(d.Fb(this.touches[c].x,this.touches[c].y,!1)):a.G(0)}};r.ob=new t})();function sc(d){this.b=d}
(function(){var d=sc.prototype;d.ab=function(d){this.behavior=d;this.b=d.b};d.ab.prototype.pa=function(){};d.La=function(d,k){this.type=d;this.behavior=d.behavior;this.m=k;this.b=d.b};var k=d.La.prototype;k.pa=function(){var d=this.M[0];this.bb=this.M[1];this.we=this.M[2];this.ds=0!==this.M[3];this.an=0!==this.M[4];this.D=Math.cos(this.m.i)*d;this.C=Math.sin(this.m.i)*d;this.lf=this.m.x;this.mf=this.m.y;this.ag=this.m.i;this.yk=0;this.enabled=0!==this.M[5]};k.Zb=function(){return{acc:this.bb,g:this.we,
dx:this.D,dy:this.C,lx:this.lf,ly:this.mf,lka:this.ag,t:this.yk,e:this.enabled}};k.zc=function(d){this.bb=d.acc;this.we=d.g;this.D=d.dx;this.C=d.dy;this.lf=d.lx;this.mf=d.ly;this.ag=d.lka;this.yk=d.t;this.enabled=d.e};k.Ka=function(){if(this.enabled){var d=this.b.Wg(this.m),k,t;this.m.i!==this.ag&&(this.an&&(k=Wa(0,0,this.D,this.C),this.D=Math.cos(this.m.i)*k,this.C=Math.sin(this.m.i)*k),this.ag=this.m.i);0!==this.bb&&(k=Wa(0,0,this.D,this.C),t=0===this.D&&0===this.C?this.m.i:Ma(0,0,this.D,this.C),
k+=this.bb*d,0>k&&(k=0),this.D=Math.cos(t)*k,this.C=Math.sin(t)*k);0!==this.we&&(this.C+=this.we*d);this.lf=this.m.x;this.mf=this.m.y;if(0!==this.D||0!==this.C)if(this.m.x+=this.D*d,this.m.y+=this.C*d,this.yk+=Wa(0,0,this.D*d,this.C*d),this.an&&(this.m.i=Ma(0,0,this.D,this.C),this.m.F(),this.ag=this.m.i),this.m.F(),this.ds&&(k=this.b.md(this.m)))this.b.Uh(this.m,k),k=Wa(0,0,this.D,this.C),t=this.b.hs(this.m,this.lf,this.mf),this.D=Math.cos(t)*k,this.C=Math.sin(t)*k,this.m.x+=this.D*d,this.m.y+=this.C*
d,this.m.F(),this.an&&(this.ag=this.m.i=t,this.m.F()),this.b.qv(this.m,this.D/k,this.C/k,Math.max(2.5*k*d,30))||this.b.bq(this.m,100)}};d.n=new function(){};d.Ea=new function(){};d.ob=new function(){}})();function tc(d){this.b=d}
(function(){function d(){}var k=tc.prototype;k.ab=function(d){this.behavior=d;this.b=d.b};k.ab.prototype.pa=function(){};k.La=function(d,h){this.type=d;this.behavior=d.behavior;this.m=h;this.b=d.b;this.jk=this.ik=this.hk=this.kk=this.Nl=this.Wh=this.wh=this.Rg=this.ii=!1;this.im=this.hm=this.gm=this.km=-1;this.C=this.D=0};var h=k.La.prototype;h.pa=function(){this.Jh=this.M[0];this.bb=this.M[1];this.ud=this.M[2];this.ll=this.M[3];this.Rk=this.M[4];this.ss=1===this.M[5];this.enabled=0!==this.M[6];this.ss&&
!this.b.Oa&&(jQuery(document).keydown(function(d){return function(h){d.Su(h)}}(this)),jQuery(document).keyup(function(d){return function(h){d.Tu(h)}}(this)))};h.Zb=function(){return{dx:this.D,dy:this.C,enabled:this.enabled,maxspeed:this.Jh,acc:this.bb,dec:this.ud,ignoreInput:this.Nl}};h.zc=function(d){this.D=d.dx;this.C=d.dy;this.enabled=d.enabled;this.Jh=d.maxspeed;this.bb=d.acc;this.ud=d.dec;this.Nl=d.ignoreInput;this.jk=this.ik=this.hk=this.kk=this.Wh=this.wh=this.Rg=this.ii=!1;this.im=this.hm=
this.gm=this.km=-1};h.Su=function(d){var h=this.b.Vc;switch(d.which){case 37:d.preventDefault();this.hm<h&&(this.wh=!0);break;case 38:d.preventDefault();this.km<h&&(this.ii=!0);break;case 39:d.preventDefault();this.im<h&&(this.Wh=!0);break;case 40:d.preventDefault(),this.gm<h&&(this.Rg=!0)}};h.Tu=function(d){var h=this.b.Vc;switch(d.which){case 37:d.preventDefault();this.wh=!1;this.hm=h;break;case 38:d.preventDefault();this.ii=!1;this.km=h;break;case 39:d.preventDefault();this.Wh=!1;this.im=h;break;
case 40:d.preventDefault(),this.Rg=!1,this.gm=h}};h.mg=function(){this.Wh=this.wh=this.Rg=this.ii=!1};h.Ka=function(){var d=this.b.Wg(this.m),h=this.wh||this.ik,k=this.Wh||this.jk,b=this.ii||this.kk,a=this.Rg||this.hk;this.hk=this.kk=this.jk=this.ik=!1;if(this.enabled){var e=this.b.md(this.m);if(e&&(this.b.Uh(this.m,e),!this.b.bq(this.m)))return;this.Nl&&(a=b=k=h=!1);0===this.ll?k=h=!1:1===this.ll&&(a=b=!1);2===this.ll&&(b||a)&&(k=h=!1);h==k&&(0>this.D?(this.D+=this.ud*d,0<this.D&&(this.D=0)):0<this.D&&
(this.D-=this.ud*d,0>this.D&&(this.D=0)));b==a&&(0>this.C?(this.C+=this.ud*d,0<this.C&&(this.C=0)):0<this.C&&(this.C-=this.ud*d,0>this.C&&(this.C=0)));h&&!k&&(this.D=0<this.D?this.D-(this.bb+this.ud)*d:this.D-this.bb*d);k&&!h&&(this.D=0>this.D?this.D+(this.bb+this.ud)*d:this.D+this.bb*d);b&&!a&&(this.C=0<this.C?this.C-(this.bb+this.ud)*d:this.C-this.bb*d);a&&!b&&(this.C=0>this.C?this.C+(this.bb+this.ud)*d:this.C+this.bb*d);if(0!==this.D||0!==this.C){Math.sqrt(this.D*this.D+this.C*this.C)>this.Jh&&
(e=Math.atan2(this.C,this.D),this.D=this.Jh*Math.cos(e),this.C=this.Jh*Math.sin(e));k=this.m.x;b=this.m.y;h=this.m.i;this.m.x+=this.D*d;this.m.F();if(e=this.b.md(this.m))this.m.x=k,this.D=0,this.m.F(),this.b.Uh(this.m,e);this.m.y+=this.C*d;this.m.F();if(e=this.b.md(this.m))this.m.y=b,this.C=0,this.m.F(),this.b.Uh(this.m,e);d=lb(this.D);e=lb(this.C);if(0!==d||0!==e)1===this.Rk?this.m.i=La(90*Math.round(Ga(Math.atan2(e,d))/90)):2===this.Rk?this.m.i=La(45*Math.round(Ga(Math.atan2(e,d))/45)):3===this.Rk&&
(this.m.i=Math.atan2(e,d));this.m.F();this.m.i!=h&&(e=this.b.md(this.m))&&(this.m.i=h,this.m.F(),this.b.Uh(this.m,e))}}};k.n=new function(){};d.prototype.Lr=function(d){switch(d){case 0:this.ik=!0;break;case 1:this.jk=!0;break;case 2:this.kk=!0;break;case 3:this.hk=!0}};k.Ea=new d;k.ob=new function(){}})();function uc(d){this.b=d}
(function(){var d=uc.prototype;d.ab=function(d){this.behavior=d;this.b=d.b};d.ab.prototype.pa=function(){};d.La=function(d,h){this.type=d;this.behavior=d.behavior;this.m=h;this.b=d.b};d=d.La.prototype;d.pa=function(){};d.Ka=function(){this.m.qa();var d=this.m.ra,h=this.m.j.Pa;(0>d.right||0>d.bottom||d.left>h.width||d.top>h.height)&&this.b.Hd(this.m)}})();function vc(d){this.b=d}
(function(){var d=vc.prototype;d.ab=function(d){this.behavior=d;this.b=d.b};d.ab.prototype.pa=function(){};d.La=function(d,h){this.type=d;this.behavior=d.behavior;this.m=h;this.b=d.b};d=d.La.prototype;d.pa=function(){this.mode=this.M[0]};d.Ka=function(){var d=this.m;d.qa();var h=d.ra,p=d.j,t=p.Pa,r=0,b=0,a=0,e=0;0===this.mode?(b=t.width,e=t.height):(r=p.ga,b=p.na,a=p.ba,e=p.ma);h.right<r?(d.x=b-1+(d.x-h.left),d.F()):h.left>b?(d.x=r+1-(h.right-d.x),d.F()):h.bottom<a?(d.y=e-1+(d.y-h.top),d.F()):h.top>
e&&(d.y=a+1-(h.bottom-d.y),d.F())}})();
function nc(){return[pc,qc,oc,Z,rc,vc,tc,uc,sc,oc.prototype.n.qr,oc.prototype.Ea.er,Y.prototype.Ea.dr,oc.prototype.ob.Nk,oc.prototype.ob.On,pc.prototype.Ea.Play,Y.prototype.Ea.Xq,rc.prototype.Ea.Ir,Y.prototype.n.hr,Y.prototype.ob.random,Y.prototype.ob.bw,oc.prototype.Ea.Rr,oc.prototype.Ea.Mr,Z.prototype.n.kr,Y.prototype.n.cr,Z.prototype.ob.Nk,tc.prototype.Ea.Lr,Y.prototype.Ea.Or,Y.prototype.Ea.Hr,Y.prototype.Ea.Gr,Y.prototype.Ea.Jr,Y.prototype.Ea.Fr,Y.prototype.n.Gn]};
